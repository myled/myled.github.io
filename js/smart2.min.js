!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b="length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){
    return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td;function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c)){j=0;while(e=f[j++])fa.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={};function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}var ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];function Fa(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;while(e--)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),
    void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){var e={},f=a===mb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gb.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ib;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n});
/******************************************************************************
 * jquery.i18n.properties
 *
 * Dual licensed under the GPL (http://dev.jquery.com/browser/trunk/jquery/GPL-LICENSE.txt) and
 * MIT (http://dev.jquery.com/browser/trunk/jquery/MIT-LICENSE.txt) licenses.
 *
 * @version     1.2.7
 * @url         https://github.com/jquery-i18n-properties/jquery-i18n-properties
 * @inspiration Localisation assistance for jQuery (http://keith-wood.name/localisation.html)
 *              by Keith Wood (kbwood{at}iinet.com.au) June 2007
 *
 *****************************************************************************/

(function ($) {

    $.i18n = {};

    /**
     * Map holding bundle keys if mode is 'map' or 'both'. Values of this can also be an
     * Object, in which case the key is a namespace.
     */
    $.i18n.map = {};

    var debug = function (message) {
        window.console && console.log('i18n::' + message);
    };

    /**
     * Load and parse message bundle files (.properties),
     * making bundles keys available as javascript variables.
     *
     * i18n files are named <name>.js, or <name>_<language>.js or <name>_<language>_<country>.js
     * Where:
     *      The <language> argument is a valid ISO Language Code. These codes are the lower-case,
     *      two-letter codes as defined by ISO-639. You can find a full list of these codes at a
     *      number of sites, such as: http://www.loc.gov/standards/iso639-2/englangn.html
     *      The <country> argument is a valid ISO Country Code. These codes are the upper-case,
     *      two-letter codes as defined by ISO-3166. You can find a full list of these codes at a
     *      number of sites, such as: http://www.iso.ch/iso/en/prods-services/iso3166ma/02iso-3166-code-lists/list-en1.html
     *
     * Sample usage for a bundles/Messages.properties bundle:
     * $.i18n.properties({
     *      name:      'Messages',
     *      language:  'en_US',
     *      path:      'bundles'
     * });
     * @param  name      (string/string[], optional) names of file to load (eg, 'Messages' or ['Msg1','Msg2']). Defaults to "Messages"
     * @param  language    (string, optional) language/country code (eg, 'en', 'en_US', 'pt_BR'). if not specified, language reported by the browser will be used instead.
     * @param  path      (string, optional) path of directory that contains file to load
     * @param  mode      (string, optional) whether bundles keys are available as JavaScript variables/functions or as a map (eg, 'vars' or 'map')
     * @param  debug     (boolean, optional) whether debug statements are logged at the console
     * @param  cache        (boolean, optional) whether bundles should be cached by the browser, or forcibly reloaded on each page load. Defaults to false (i.e. forcibly reloaded)
     * @param  encoding  (string, optional) the encoding to request for bundles. Property file resource bundles are specified to be in ISO-8859-1 format. Defaults to UTF-8 for backward compatibility.
     * @param  callback     (function, optional) callback function to be called after script is terminated
     */
    $.i18n.properties = function (settings) {

        var defaults = {
            name: 'Messages',
            language: '',
            path: '',
            namespace: null,
            mode: 'vars',
            cache: false,
            debug: false,
            encoding: 'UTF-8',
            async: false,
            callback: null
        };

        settings = $.extend(defaults, settings);

        if (settings.namespace && typeof settings.namespace == 'string') {
            // A namespace has been supplied, initialise it.
            if (settings.namespace.match(/^[a-z]*$/)) {
                $.i18n.map[settings.namespace] = {};
            } else {
                debug('Namespaces can only be lower case letters, a - z');
                settings.namespace = null;
            }
        }

        // Ensure a trailing slash on the path
        if (!settings.path.match(/\/$/)) settings.path += '/';

        // Try to ensure that we have at a least a two letter language code
        settings.language = this.normaliseLanguageCode(settings);

        // Ensure an array
        var files = (settings.name && settings.name.constructor === Array) ? settings.name : [settings.name];

        // A locale is at least a language code which means at least two files per name. If
        // we also have a country code, thats an extra file per name.
        settings.totalFiles = (files.length * 2) + ((settings.language.length >= 5) ? files.length : 0);
        if (settings.debug) {
            debug('totalFiles: ' + settings.totalFiles);
        }

        settings.filesLoaded = 0;

        files.forEach(function (file) {

            var defaultFileName, shortFileName, longFileName, fileNames;
            // 1. load base (eg, Messages.properties)
            defaultFileName = settings.path + file + '.properties';
            // 2. with language code (eg, Messages_pt.properties)
            var shortCode = settings.language.substring(0, 2);
            shortFileName = settings.path + file + '_' + shortCode + '.properties';
            // 3. with language code and country code (eg, Messages_pt_BR.properties)
            if (settings.language.length >= 5) {
                var longCode = settings.language.substring(0, 5);
                longFileName = settings.path + file + '_' + longCode + '.properties';
                fileNames = [defaultFileName, shortFileName, longFileName];
            } else {
                fileNames = [defaultFileName, shortFileName];
            }
            loadAndParseFiles(fileNames, settings);
        });

        // call callback
        if (settings.callback && !settings.async) {
            settings.callback();
        }
    }; // properties

    /**
     * When configured with mode: 'map', allows access to bundle values by specifying its key.
     * Eg, jQuery.i18n.prop('com.company.bundles.menu_add')
     */
    $.i18n.prop = function (key /* Add parameters as function arguments as necessary  */) {

        var args = [].slice.call(arguments);

        var phvList, namespace;
        if (args.length == 2) {
            if ($.isArray(args[1])) {
                // An array was passed as the second parameter, so assume it is the list of place holder values.
                phvList = args[1];
            } else if (typeof args[1] === 'object') {
                // Second argument is an options object {namespace: 'mynamespace', replacements: ['egg', 'nog']}
                namespace = args[1].namespace;
                var replacements = args[1].replacements;
                args.splice(-1, 1);
                if (replacements) {
                    Array.prototype.push.apply(args, replacements);
                }
            }
        }

        var value = (namespace) ? $.i18n.map[namespace][key] : $.i18n.map[key];
        if (value === null) {
            return '[' + ((namespace) ? namespace + '#' + key : key) + ']';
        }

        // Place holder replacement
        /**
        * Tested with:
        *   test.t1=asdf ''{0}''
        *   test.t2=asdf '{0}' '{1}'{1}'zxcv
        *   test.t3=This is \"a quote" 'a''{0}''s'd{fgh{ij'
        *   test.t4="'''{'0}''" {0}{a}
        *   test.t5="'''{0}'''" {1}
        *   test.t6=a {1} b {0} c
        *   test.t7=a 'quoted \\ s\ttringy' \t\t x
        *
        * Produces:
        *   test.t1, p1 ==> asdf 'p1'
        *   test.t2, p1 ==> asdf {0} {1}{1}zxcv
        *   test.t3, p1 ==> This is "a quote" a'{0}'sd{fgh{ij
        *   test.t4, p1 ==> "'{0}'" p1{a}
        *   test.t5, p1 ==> "'{0}'" {1}
        *   test.t6, p1 ==> a {1} b p1 c
        *   test.t6, p1, p2 ==> a p2 b p1 c
        *   test.t6, p1, p2, p3 ==> a p2 b p1 c
        *   test.t7 ==> a quoted \ s	tringy 		 x
        */

        var i;
        if (typeof(value) == 'string') {
            // Handle escape characters. Done separately from the tokenizing loop below because escape characters are
            // active in quoted strings.
            i = 0;
            while ((i = value.indexOf('\\', i)) != -1) {
                if (value.charAt(i + 1) == 't') {
                    value = value.substring(0, i) + '\t' + value.substring((i++) + 2); // tab
                } else if (value.charAt(i + 1) == 'r') {
                    value = value.substring(0, i) + '\r' + value.substring((i++) + 2); // return
                } else if (value.charAt(i + 1) == 'n') {
                    value = value.substring(0, i) + '\n' + value.substring((i++) + 2); // line feed
                } else if (value.charAt(i + 1) == 'f') {
                    value = value.substring(0, i) + '\f' + value.substring((i++) + 2); // form feed
                } else if (value.charAt(i + 1) == '\\') {
                    value = value.substring(0, i) + '\\' + value.substring((i++) + 2); // \
                } else {
                    value = value.substring(0, i) + value.substring(i + 1); // Quietly drop the character
                }
            }

            // Lazily convert the string to a list of tokens.
            var arr = [], j, index;
            i = 0;
            while (i < value.length) {
                if (value.charAt(i) == '\'') {
                    // Handle quotes
                    if (i == value.length - 1) {
                        value = value.substring(0, i); // Silently drop the trailing quote
                    } else if (value.charAt(i + 1) == '\'') {
                        value = value.substring(0, i) + value.substring(++i); // Escaped quote
                    } else {
                        // Quoted string
                        j = i + 2;
                        while ((j = value.indexOf('\'', j)) != -1) {
                            if (j == value.length - 1 || value.charAt(j + 1) != '\'') {
                                // Found start and end quotes. Remove them
                                value = value.substring(0, i) + value.substring(i + 1, j) + value.substring(j + 1);
                                i = j - 1;
                                break;
                            } else {
                                // Found a double quote, reduce to a single quote.
                                value = value.substring(0, j) + value.substring(++j);
                            }
                        }

                        if (j == -1) {
                            // There is no end quote. Drop the start quote
                            value = value.substring(0, i) + value.substring(i + 1);
                        }
                    }
                } else if (value.charAt(i) == '{') {
                    // Beginning of an unquoted place holder.
                    j = value.indexOf('}', i + 1);
                    if (j == -1) {
                        i++; // No end. Process the rest of the line. Java would throw an exception
                    } else {
                        // Add 1 to the index so that it aligns with the function arguments.
                        index = parseInt(value.substring(i + 1, j));
                        if (!isNaN(index) && index >= 0) {
                            // Put the line thus far (if it isn't empty) into the array
                            var s = value.substring(0, i);
                            if (s !== "") {
                                arr.push(s);
                            }
                            // Put the parameter reference into the array
                            arr.push(index);
                            // Start the processing over again starting from the rest of the line.
                            i = 0;
                            value = value.substring(j + 1);
                        } else {
                            i = j + 1; // Invalid parameter. Leave as is.
                        }
                    }
                } else {
                    i++;
                }
            } // while

            // Put the remainder of the no-empty line into the array.
            if (value !== "") {
                arr.push(value);
            }
            value = arr;

            // Make the array the value for the entry.
            if (namespace) {
                $.i18n.map[settings.namespace][key] = arr;
            } else {
                $.i18n.map[key] = arr;
            }
        }

        if (value.length === 0) {
            return "";
        }
        if (value.length == 1 && typeof(value[0]) == "string") {
            return value[0];
        }

        var str = "";
        for (i = 0, j = value.length; i < j; i++) {
            if (typeof(value[i]) == "string") {
                str += value[i];
            } else if (phvList && value[i] < phvList.length) {
                // Must be a number
                str += phvList[value[i]];
            } else if (!phvList && value[i] + 1 < args.length) {
                str += args[value[i] + 1];
            } else {
                str += "{" + value[i] + "}";
            }
        }

        return str;
    };

    function callbackIfComplete(settings) {

        if (settings.debug) {
            debug('callbackIfComplete()');
            debug('totalFiles: ' + settings.totalFiles);
            debug('filesLoaded: ' + settings.filesLoaded);
        }

        if (settings.async) {
            if (settings.filesLoaded === settings.totalFiles) {
                if (settings.callback) {
                    settings.callback();
                }
            }
        }
    }

    function loadAndParseFiles(fileNames, settings) {

        if (settings.debug) debug('loadAndParseFiles');

	    if (fileNames !== null && fileNames.length > 0) {
		    loadAndParseFile(fileNames[0], settings, function () {
			    fileNames.shift();
			    loadAndParseFiles(fileNames,settings);
		    });
	    } else {
            callbackIfComplete(settings);
        }
    }

    /** Load and parse .properties files */
    function loadAndParseFile(filename, settings, nextFile) {

        if (settings.debug) {
            debug('loadAndParseFile(\'' + filename +'\')');
            debug('totalFiles: ' + settings.totalFiles);
            debug('filesLoaded: ' + settings.filesLoaded);
        }

  	    if (filename !== null && typeof filename !== 'undefined') {
            $.ajax({
                url: filename,
                async: settings.async,
                cache: settings.cache,
                dataType: 'text',
                success: function (data, status) {

                    if (settings.debug) {
                        debug('Succeeded in downloading ' + filename + '.');
                        debug(data);
                    }

                    parseData(data, settings);
                    nextFile();
                },
                error: function (jqXHR, textStatus, errorThrown) {

                    if (settings.debug) {
                        debug('Failed to download or parse ' + filename + '. errorThrown: ' + errorThrown);
                    }
                    if (jqXHR.status === 404) {
                        settings.totalFiles -= 1;
                    }
                    nextFile();
                }
            });
        }
    }

    /** Parse .properties files */
    function parseData(data, settings) {

        var parsed = '';
        var lines = data.split(/\n/);
        var regPlaceHolder = /(\{\d+})/g;
        var regRepPlaceHolder = /\{(\d+)}/g;
        var unicodeRE = /(\\u.{4})/ig;
        for (var i=0,j=lines.length;i<j;i++) {
            var line = lines[i];

            line = line.trim();
            if (line.length > 0 && line.match("^#") != "#") { // skip comments
                var pair = line.split('=');
                if (pair.length > 0) {
                    /** Process key & value */
                    var name = decodeURI(pair[0]).trim();
                    var value = pair.length == 1 ? "" : pair[1];
                    // process multi-line values
                    while (value.search(/\\$/) != -1) {
                        value = value.substring(0, value.length - 1);
                        value += lines[++i].trimRight();
                    }
                    // Put values with embedded '='s back together
                    for (var s = 2; s < pair.length; s++) {
                        value += '=' + pair[s];
                    }
                    value = value.trim();

                    /** Mode: bundle keys in a map */
                    if (settings.mode == 'map' || settings.mode == 'both') {
                        // handle unicode chars possibly left out
                        var unicodeMatches = value.match(unicodeRE);
                        if (unicodeMatches) {
                            unicodeMatches.forEach(function (match) {
                                value = value.replace(match, unescapeUnicode(match));
                            });
                        }
                        // add to map
                        if (settings.namespace) {
                            $.i18n.map[settings.namespace][name] = value;
                        } else {
                            $.i18n.map[name] = value;
                        }
                    }

                    /** Mode: bundle keys as vars/functions */
                    if (settings.mode == 'vars' || settings.mode == 'both') {
                        value = value.replace(/"/g, '\\"'); // escape quotation mark (")

                        // make sure namespaced key exists (eg, 'some.key')
                        checkKeyNamespace(name);

                        // value with variable substitutions
                        if (regPlaceHolder.test(value)) {
                            var parts = value.split(regPlaceHolder);
                            // process function args
                            var first = true;
                            var fnArgs = '';
                            var usedArgs = [];
                            parts.forEach(function (part) {

                                if (regPlaceHolder.test(part) && (usedArgs.length === 0 || usedArgs.indexOf(part) == -1)) {
                                    if (!first) {
                                        fnArgs += ',';
                                    }
                                    fnArgs += part.replace(regRepPlaceHolder, 'v$1');
                                    usedArgs.push(part);
                                    first = false;
                                }
                            });
                            parsed += name + '=function(' + fnArgs + '){';
                            // process function body
                            var fnExpr = '"' + value.replace(regRepPlaceHolder, '"+v$1+"') + '"';
                            parsed += 'return ' + fnExpr + ';' + '};';
                            // simple value
                        } else {
                            parsed += name + '="' + value + '";';
                        }
                    } // END: Mode: bundle keys as vars/functions
                } // END: if(pair.length > 0)
            } // END: skip comments
        }
        eval(parsed);
        settings.filesLoaded += 1;
    }

    /** Make sure namespace exists (for keys with dots in name) */
    // TODO key parts that start with numbers quietly fail. i.e. month.short.1=Jan
    function checkKeyNamespace(key) {

        var regDot = /\./;
        if (regDot.test(key)) {
            var fullname = '';
            var names = key.split(/\./);
            for (var i=0,j=names.length;i<j;i++) {
                var name = names[i];

                if (i > 0) {
                    fullname += '.';
                }

                fullname += name;
                if (eval('typeof ' + fullname + ' == "undefined"')) {
                    eval(fullname + '={};');
                }
            }
        }
    }

    /** Ensure language code is in the format aa_AA. */
    $.i18n.normaliseLanguageCode = function (settings) {

        var lang = settings.language;
        if (!lang || lang.length < 2) {
            if (settings.debug) debug('No language supplied. Pulling it from the browser ...');
            lang = (navigator.languages && navigator.languages.length > 0) ? navigator.languages[0]
                                        : (navigator.language || navigator.userLanguage /* IE */ || 'en');
            if (settings.debug) debug('Language from browser: ' + lang);
        }

        lang = lang.toLowerCase();
        lang = lang.replace(/-/,"_"); // some browsers report language as en-US instead of en_US
        if (lang.length > 3) {
            lang = lang.substring(0, 3) + lang.substring(3).toUpperCase();
        }
        return lang;
    };

    /** Unescape unicode chars ('\u00e3') */
    function unescapeUnicode(str) {

        // unescape unicode codes
        var codes = [];
        var code = parseInt(str.substr(2), 16);
        if (code >= 0 && code < Math.pow(2, 16)) {
            codes.push(code);
        }
        // convert codes to text
        return codes.reduce(function (acc, val) { return acc + String.fromCharCode(val); }, '');
    }
}) (jQuery);
LazyLoad=function(doc){var env,head,pending={},pollCount=0,queue={css:[],js:[]},styleSheets=doc.styleSheets;function createNode(name,attrs){var node=doc.createElement(name),attr;for(attr in attrs){if(attrs.hasOwnProperty(attr)){node.setAttribute(attr,attrs[attr])}}return node}function finish(type){var p=pending[type],callback,urls;if(p){callback=p.callback;urls=p.urls;urls.shift();pollCount=0;if(!urls.length){callback&&callback.call(p.context,p.obj);pending[type]=null;queue[type].length&&load(type)}}}function getEnv(){var ua=navigator.userAgent;env={async:doc.createElement("script").async===true};(env.webkit=/AppleWebKit\//.test(ua))||(env.ie=/MSIE|Trident/.test(ua))||(env.opera=/Opera/.test(ua))||(env.gecko=/Gecko\//.test(ua))||(env.unknown=true)}function load(type,urls,callback,obj,context){var _finish=function(){finish(type)},isCSS=type==="css",nodes=[],i,len,node,p,pendingUrls,url;env||getEnv();if(urls){urls=typeof urls==="string"?[urls]:urls.concat();if(isCSS||env.async||env.gecko||env.opera){queue[type].push({urls:urls,callback:callback,obj:obj,context:context})}else{for(i=0,len=urls.length;i<len;++i){queue[type].push({urls:[urls[i]],callback:i===len-1?callback:null,obj:obj,context:context})}}}if(pending[type]||!(p=pending[type]=queue[type].shift())){return}head||(head=doc.head||doc.getElementsByTagName("head")[0]);pendingUrls=p.urls.concat();for(i=0,len=pendingUrls.length;i<len;++i){url=pendingUrls[i];if(isCSS){node=env.gecko?createNode("style"):createNode("link",{href:url,rel:"stylesheet"})}else{node=createNode("script",{src:url});node.async=false}node.className="lazyload";node.setAttribute("charset","utf-8");if(env.ie&&!isCSS&&"onreadystatechange"in node&&!("draggable"in node)){node.onreadystatechange=function(){if(/loaded|complete/.test(node.readyState)){node.onreadystatechange=null;_finish()}}}else if(isCSS&&(env.gecko||env.webkit)){if(env.webkit){p.urls[i]=node.href;pollWebKit()}else{node.innerHTML='@import "'+url+'";';pollGecko(node)}}else{node.onload=node.onerror=_finish}nodes.push(node)}for(i=0,len=nodes.length;i<len;++i){head.appendChild(nodes[i])}}function pollGecko(node){var hasRules;try{hasRules=!!node.sheet.cssRules}catch(ex){pollCount+=1;if(pollCount<200){setTimeout(function(){pollGecko(node)},50)}else{hasRules&&finish("css")}return}finish("css")}function pollWebKit(){var css=pending.css,i;if(css){i=styleSheets.length;while(--i>=0){if(styleSheets[i].href===css.urls[0]){finish("css");break}}pollCount+=1;if(css){if(pollCount<200){setTimeout(pollWebKit,50)}else{finish("css")}}}}return{css:function(urls,callback,obj,context){load("css",urls,callback,obj,context)},js:function(urls,callback,obj,context){load("js",urls,callback,obj,context)}}}(this.document);
(function(n){var t={init:function(n,i){return(t.__eventOnChange=n,t.__eventOnNotFound=i,!("onhashchange"in window))?(console.error("The browser doesn't support HASH on URL!"),!1):(t.__bindHashChange(),window.location.hash==""||window.location.hash=="#"?(t.__listener("#/"),!0):(t.__listener(window.location.hash),!0))},navigate:function(n){window.location.hash=n},run:function(n){t.__eventOnChange!=null&&t.__eventOnChange(n);t.__run(n,"before")},add:function(n,i){var u=!1,r;if(!n.path)return console.error("Cannot find property path when adding a new route!"),!1;for(r=0;r<t.routes.length;r++)if(t.routes[r].path===n.path){if(u=!0,i===!0)return t.routes[r]=n,!0;break}return u?(console.error("A route for the path "+n.path+" is already mapped!"),!1):(t.routes.push(n),!0)},findRoute:function(n){for(var i=0;i<t.routes.length;i++)if(t.routes[i].path===n)return t.routes[i]},matchRoute:function(n){var u=t.__cleanHash(n),c=u.hashParams.split("/"),o=u.hashParams,l={},a={},s,f,h,r,e,i;if(u.hashQueryArray.length>0)for(s=0;s<u.hashQueryArray.length;s++)f=u.hashQueryArray[s].split("="),f.length>=1&&f[0]&&(a[decodeURIComponent(f[0])]=f[1]?decodeURIComponent(f[1]):"");for(h=0;h<t.routes.length;h++){if(r=t.routes[h],o=u.hashParams,r.path.search(/:/)>0)for(e=r.path.split("/"),i=0;i<e.length;i++)i<c.length&&e[i].charAt(0)===":"&&(l[e[i].replace(/:/,"")]=c[i],o=o.replace(c[i],e[i]));if(r.path===o)return r.params=l,r.url=n,r.query=a,r}return null},actualRoute:function(){return this.matchRoute(window.location.hash)},routes:[],__bindHashChange:function(){window.onhashchange=function(){t.__listener(location.hash)}},__cleanHash:function(n){var i={},r=n.indexOf("?"),u;return i.hash=n,i.hashParams=r>=0?n.substring(0,r):n,i.hashQuery=r>=0?n.substring(n.indexOf("?")+1):"",i.hashQueryArray=i.hashQuery?i.hashQuery.split("&"):[],u=i.hashParams.replace(/\/+$/,""),i.hashParams!==u&&(window.onhashchange=null,i.hash=u,i.hash+=i.hashQuery?"?"+i.hashQuery:"",window.location.hash=i.hash,t.__bindHashChange()),i},__listener:function(n){var i=t.matchRoute(n);if(i||t.__eventOnNotFound){if(!i&&t.__eventOnNotFound)return t.__eventOnNotFound(t.__hashToArray(n)),!1}else return console.error("Cannot find a valid route for hash "+n+"!"),!1;return t.run(i)},__hashToArray:function(n){var t=n.split("/");return t.length>0&&t[0]=="#"&&t.shift(),t},__run:function(n,i,r){var f,u;n[i]?(f=new t.__task(function(r){var u=t.__nextState(i);u&&t.__run(n,u,r)}),n.event={},n.event.previousResult=r,n.event.state=i,n.task=f,n[i]()):(u=t.__nextState(i),u&&t.__run(n,u))},__nextState:function(n){return n=="before"?"on":n=="on"?"after":null},__eventOnChange:null,__eventOnNotFound:null,__task:function(n){return{__callback:n,done:function(n){this.__callback(n)}}}};n.Router=t})(this);
//# sourceMappingURL=hash-router.min.js.map
/*! JsRender v1.0.6: http://jsviews.com/#jsrender */
/*! **VERSION FOR WEB** (For NODE.JS see http://jsviews.com/download/jsrender-node.js) */
!function(t,e){var n=e.jQuery;"object"==typeof exports?module.exports=n?t(e,n):function(n){if(n&&!n.fn)throw"Provide jQuery or null";return t(e,n)}:"function"==typeof define&&define.amd?define(function(){return t(e)}):t(e,!1)}(function(t,e){"use strict";function n(t,e){return function(){var n,r=this,i=r.base;return r.base=t,n=e.apply(r,arguments),r.base=i,n}}function r(t,e){return st(e)&&(e=n(t?t._d?t:n(a,t):a,e),e._d=(t&&t._d||0)+1),e}function i(t,e){var n,i=e.props;for(n in i)!$t.test(n)||t[n]&&t[n].fix||(t[n]="convert"!==n?r(t.constructor.prototype[n],i[n]):i[n])}function o(t){return t}function a(){return""}function s(t){try{throw console.log("JsRender dbg breakpoint: "+t),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):t}function l(t){this.name=(e.link?"JsViews":"JsRender")+" Error",this.message=t||this.name}function d(t,e){if(t){for(var n in e)t[n]=e[n];return t}}function p(t,e,n){return t?lt(t)?p.apply(ot,t):(wt=n?n[0]:wt,/^(\W|_){5}$/.test(t+e+wt)||S("Invalid delimiters"),ht=t[0],_t=t[1],xt=e[0],bt=e[1],gt.delimiters=[ht+_t,xt+bt,wt],t="\\"+ht+"(\\"+wt+")?\\"+_t,e="\\"+xt+"\\"+bt,rt="(?:(\\w+(?=[\\/\\s\\"+xt+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+xt+"]|\\"+xt+"(?!\\"+bt+"))*?)",ft.rTag="(?:"+rt+")",rt=new RegExp("(?:"+t+rt+"(\\/)?|\\"+ht+"(\\"+wt+")?\\"+_t+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+e,"g"),ft.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+t+".*"+e),mt):gt.delimiters}function u(t,e){e||t===!0||(e=t,t=void 0);var n,r,i,o,a=this,s="root"===e;if(t){if(o=e&&a.type===e&&a,!o)if(n=a.views,a._.useKey){for(r in n)if(o=e?n[r].get(t,e):n[r])break}else for(r=0,i=n.length;!o&&r<i;r++)o=e?n[r].get(t,e):n[r]}else if(s)o=a.root;else if(e)for(;a&&!o;)o=a.type===e?a:void 0,a=a.parent;else o=a.parent;return o||void 0}function c(){var t=this.get("item");return t?t.index:void 0}function f(){return this.index}function g(t,e,n,r){var i,o,s,l=0;if(1===n&&(r=1,n=void 0),e)for(o=e.split("."),s=o.length;t&&l<s;l++)i=t,t=o[l]?t[o[l]]:t;return n&&(n.lt=n.lt||l<s),void 0===t?r?a:"":r?function(){return t.apply(i,arguments)}:t}function v(n,r,i){var o,a,s,l,p,u,c,f=this,g=!kt&&arguments.length>1,v=f.ctx;if(n){if(f._||(p=f.index,f=f.tag),u=f,v&&v.hasOwnProperty(n)||(v=ut).hasOwnProperty(n)){if(s=v[n],"tag"===n||"tagCtx"===n||"root"===n||"parentTags"===n)return s}else v=void 0;if((!kt&&f.tagCtx||f.linked)&&(s&&s._cxp||(f=f.tagCtx||st(s)?f:(f=f.scope||f,!f.isTop&&f.ctx.tag||f),void 0!==s&&f.tagCtx&&(f=f.tagCtx.view.scope),v=f._ocps,s=v&&v.hasOwnProperty(n)&&v[n]||s,s&&s._cxp||!i&&!g||((v||(f._ocps=f._ocps||{}))[n]=s=[{_ocp:s,_vw:u,_key:n}],s._cxp={path:Tt,ind:0,updateValue:function(t,n){return e.observable(s[0]).setProperty(Tt,t),this}})),l=s&&s._cxp)){if(arguments.length>2)return a=s[1]?ft._ceo(s[1].deps):[Tt],a.unshift(s[0]),a._cxp=l,a;if(p=l.tagElse,c=s[1]?l.tag&&l.tag.cvtArgs?l.tag.cvtArgs(p,1)[l.ind]:s[1](s[0].data,s[0],ft):s[0]._ocp,g)return ft._ucp(n,r,f,l),f;s=c}return s&&st(s)&&(o=function(){return s.apply(this&&this!==t?this:u,arguments)},d(o,s)),o||s}}function m(t){return t&&(t.fn?t:this.getRsc("templates",t)||dt(t))}function h(t,e,n,r){var o,a,s,l,p,u="number"==typeof n&&e.tmpl.bnds[n-1];if(void 0===r&&u&&u._lr&&(r=""),void 0!==r?n=r={props:{},args:[r]}:u&&(n=u(e.data,e,ft)),u=u._bd&&u,t||u){if(a=e._lc,o=a&&a.tag,n.view=e,!o){if(o=d(new ft._tg,{_:{bnd:u,unlinked:!0,lt:n.lt},inline:!a,tagName:":",convert:t,onArrayChange:!0,flow:!0,tagCtx:n,tagCtxs:[n],_is:"tag"}),l=n.args.length,l>1)for(p=o.bindTo=[];l--;)p.unshift(l);a&&(a.tag=o,o.linkCtx=a),n.ctx=Q(n.ctx,(a?a.view:e).ctx),i(o,n)}o._er=r&&s,o.ctx=n.ctx||o.ctx||{},n.ctx=void 0,s=o.cvtArgs()[0],o._er=r&&s}else s=n.args[0];return s=u&&e._.onRender?e._.onRender(s,e,o):s,void 0!=s?s:""}function _(t,e){var n,r,i,o,a,s,l,d=this;if(d.tagName){if(s=d,d=(s.tagCtxs||[d])[t||0],!d)return}else s=d.tag;if(a=s.bindFrom,o=d.args,(l=s.convert)&&""+l===l&&(l="true"===l?void 0:d.view.getRsc("converters",l)||S("Unknown converter: '"+l+"'")),l&&!e&&(o=o.slice()),a){for(i=[],n=a.length;n--;)r=a[n],i.unshift(x(d,r));e&&(o=i)}if(l){if(l=l.apply(s,i||o),void 0===l)return o;if(a=a||[0],n=a.length,lt(l)&&l.length===n||(l=[l],a=[0],n=1),e)o=l;else for(;n--;)r=a[n],+r===r&&(o[r]=l[n])}return o}function x(t,e){return t=t[+e===e?"args":"props"],t&&t[e]}function b(t){return this.cvtArgs(t,1)}function w(t,e){var n,r,i=this;if(""+e===e){for(;void 0===n&&i;)r=i.tmpl&&i.tmpl[t],n=r&&r[e],i=i.parent;return n||ot[t][e]}}function y(t,e,n,r,o,a){function s(t){var e=l[t];if(void 0!==e)for(e=lt(e)?e:[e],m=e.length;m--;)J=e[m],isNaN(parseInt(J))||(e[m]=parseInt(J));return e||[0]}e=e||it;var l,d,p,u,c,f,g,m,h,w,y,k,C,T,j,A,P,R,N,M,F,V,$,I,D,J,U,q,K,L,B=0,H="",W=e._lc||!1,Z=e.ctx,z=n||e.tmpl,G="number"==typeof r&&e.tmpl.bnds[r-1];for("tag"===t._is?(l=t,t=l.tagName,r=l.tagCtxs,p=l.template):(d=e.getRsc("tags",t)||S("Unknown tag: {{"+t+"}} "),p=d.template),void 0===a&&G&&(G._lr=d.lateRender&&G._lr!==!1||G._lr)&&(a=""),void 0!==a?(H+=a,r=a=[{props:{},args:[],params:{props:{}}}]):G&&(r=G(e.data,e,ft)),g=r.length;B<g;B++)y=r[B],P=y.tmpl,(!W||!W.tag||B&&!W.tag.inline||l._er||P&&+P===P)&&(P&&z.tmpls&&(y.tmpl=y.content=z.tmpls[P-1]),y.index=B,y.ctxPrm=v,y.render=E,y.cvtArgs=_,y.bndArgs=b,y.view=e,y.ctx=Q(Q(y.ctx,d&&d.ctx),Z)),(n=y.props.tmpl)&&(y.tmpl=e._getTmpl(n),y.content=y.content||y.tmpl),l?W&&W.fn._lr&&(R=!!l.init):(l=new d._ctr,R=!!l.init,l.parent=f=Z&&Z.tag,l.tagCtxs=r,W&&(l.inline=!1,W.tag=l),l.linkCtx=W,(l._.bnd=G||W.fn)?(l._.ths=y.params.props["this"],l._.lt=r.lt,l._.arrVws={}):l.dataBoundOnly&&S(t+" must be data-bound:\n{^{"+t+"}}")),I=l.dataMap,y.tag=l,I&&r&&(y.map=r[B].map),l.flow||(k=y.ctx=y.ctx||{},u=l.parents=k.parentTags=Z&&Q(k.parentTags,Z.parentTags)||{},f&&(u[f.tagName]=f),u[l.tagName]=k.tag=l,k.tagCtx=y);if(!(l._er=a)){for(i(l,r[0]),l.rendering={rndr:l.rendering},B=0;B<g;B++){if(y=l.tagCtx=r[B],$=y.props,l.ctx=y.ctx,!B){if(R&&(l.init(y,W,l.ctx),R=void 0),y.args.length||y.argDefault===!1||l.argDefault===!1||(y.args=F=[y.view.data],y.params.args=["#data"]),T=s("bindTo"),void 0!==l.bindTo&&(l.bindTo=T),void 0!==l.bindFrom?l.bindFrom=s("bindFrom"):l.bindTo&&(l.bindFrom=l.bindTo=T),j=l.bindFrom||T,q=T.length,U=j.length,l._.bnd&&(K=l.linkedElement)&&(l.linkedElement=K=lt(K)?K:[K],q!==K.length&&S("linkedElement not same length as bindTo")),(K=l.linkedCtxParam)&&(l.linkedCtxParam=K=lt(K)?K:[K],U!==K.length&&S("linkedCtxParam not same length as bindFrom/bindTo")),j)for(l._.fromIndex={},l._.toIndex={},h=U;h--;)for(J=j[h],m=q;m--;)J===T[m]&&(l._.fromIndex[m]=h,l._.toIndex[h]=m);W&&(W.attr=l.attr=W.attr||l.attr||W._dfAt),c=l.attr,l._.noVws=c&&c!==Kt}if(F=l.cvtArgs(B),l.linkedCtxParam)for(V=l.cvtArgs(B,1),m=U,L=l.constructor.prototype.ctx;m--;)(C=l.linkedCtxParam[m])&&(J=j[m],A=V[m],y.ctx[C]=ft._cp(L&&void 0===A?L[C]:A,void 0!==A&&x(y.params,J),y.view,l._.bnd&&{tag:l,cvt:l.convert,ind:m,tagElse:B}));(N=$.dataMap||I)&&(F.length||$.dataMap)&&(M=y.map,M&&M.src===F[0]&&!o||(M&&M.src&&M.unmap(),N.map(F[0],y,M,!l._.bnd),M=y.map),F=[M.tgt]),w=void 0,l.render&&(w=l.render.apply(l,F),e.linked&&w&&!Et.test(w)&&(n={links:[]},n.render=n.fn=function(){return w},w=O(n,e.data,void 0,!0,e,void 0,void 0,l))),F.length||(F=[e]),void 0===w&&(D=F[0],l.contentCtx&&(D=l.contentCtx===!0?e:l.contentCtx(D)),w=y.render(D,!0)||(o?void 0:"")),H=H?H+(w||""):void 0!==w?""+w:void 0}l.rendering=l.rendering.rndr}return l.tagCtx=r[0],l.ctx=l.tagCtx.ctx,l._.noVws&&l.inline&&(H="text"===c?pt.html(H):""),G&&e._.onRender?e._.onRender(H,e,l):H}function k(t,e,n,r,i,o,a,s){var l,d,p,u=this,f="array"===e;u.content=s,u.views=f?[]:{},u.data=r,u.tmpl=i,p=u._={key:0,useKey:f?0:1,id:""+Jt++,onRender:a,bnds:{}},u.linked=!!a,u.type=e||"top",n&&"top"!==n.type||((u.ctx=t||{}).root=u.data),(u.parent=n)?(u.root=n.root||u,l=n.views,d=n._,u.isTop=d.scp,u.scope=(!t.tag||t.tag===n.ctx.tag)&&!u.isTop&&n.scope||u,d.useKey?(l[p.key="_"+d.useKey++]=u,u.index=Ht,u.getIndex=c):l.length===(p.key=u.index=o)?l.push(u):l.splice(o,0,u),u.ctx=t||n.ctx):e&&(u.root=u)}function C(t){var e,n,r;for(e in Gt)n=e+"s",t[n]&&(r=t[n],t[n]={},ot[n](r,t))}function T(t,e,n){function i(){var e=this;e._={unlinked:!0},e.inline=!0,e.tagName=t}var o,a,s,l=new ft._tg;if(st(e)?e={depends:e.depends,render:e}:""+e===e&&(e={template:e}),a=e.baseTag){e.flow=!!e.flow,a=""+a===a?n&&n.tags[a]||ct[a]:a,a||S('baseTag: "'+e.baseTag+'" not found'),l=d(l,a);for(s in e)l[s]=r(a[s],e[s])}else l=d(l,e);return void 0!==(o=l.template)&&(l.template=""+o===o?dt[o]||dt(o):o),(i.prototype=l).constructor=l._ctr=i,n&&(l._parentTmpl=n),l}function j(t){return this.base.apply(this,t)}function A(t,n,r,i){function o(n){var o,s;if(""+n===n||n.nodeType>0&&(a=n)){if(!a)if(/^\.\/[^\\:*?"<>]*$/.test(n))(s=dt[t=t||n])?n=s:a=document.getElementById(n);else if(e.fn&&!ft.rTmpl.test(n))try{a=e(n,document)[0]}catch(l){}a&&("SCRIPT"!==a.tagName&&S(n+": Use script block, not "+a.tagName),i?n=a.innerHTML:(o=a.getAttribute(Bt),o&&(o!==Qt?(n=dt[o],delete dt[o]):e.fn&&(n=e.data(a)[Qt])),o&&n||(t=t||(e.fn?Qt:n),n=A(t,a.innerHTML,r,i)),n.tmplName=t=t||o,t!==Qt&&(dt[t]=n),a.setAttribute(Bt,t),e.fn&&e.data(a,Qt,n))),a=void 0}else n.fn||(n=void 0);return n}var a,s,l=n=n||"";if(ft._html=pt.html,0===i&&(i=void 0,l=o(l)),i=i||(n.markup?n.bnds?d({},n):n:{}),i.tmplName=i.tmplName||t||"unnamed",r&&(i._parentTmpl=r),!l&&n.markup&&(l=o(n.markup))&&l.fn&&(l=l.markup),void 0!==l)return l.render||n.render?l.tmpls&&(s=l):(n=M(l,i),J(l.replace(Pt,"\\$&"),n)),s||(s=d(function(){return s.render.apply(s,arguments)},n),C(s)),s}function P(t,e){return st(t)?t.call(e):t}function R(t,e,n){Object.defineProperty(t,e,{value:n,configurable:!0})}function N(t,n){function r(t){p.apply(this,t)}function i(){return new r(arguments)}function o(t,e){for(var n,r,i,o,a,s=0;s<x;s++)i=f[s],n=void 0,i+""!==i&&(n=i,i=n.getter,a=n.parentRef),void 0===(o=t[i])&&n&&void 0!==(r=n.defaultVal)&&(o=P(r,t)),e(o,n&&c[n.type],i,a)}function a(e){e=e+""===e?JSON.parse(e):e;var n,r,i,a,d=0,p=e,u=[];if(lt(e)){for(e=e||[],n=e.length;d<n;d++)u.push(this.map(e[d]));return u._is=t,u.unmap=l,u.merge=s,u}if(e){for(o(e,function(t,e){e&&(t=e.map(t)),u.push(t)}),p=this.apply(this,u),d=x;d--;)if(i=u[d],a=f[d].parentRef,a&&i&&i.unmap)if(lt(i))for(n=i.length;n--;)R(i[n],a,p);else R(i,a,p);for(r in e)r===at||w[r]||(p[r]=e[r])}return p}function s(t,e,n){t=t+""===t?JSON.parse(t):t;var r,a,s,l,d,p,u,c,f,g,m=0,h=this;if(lt(h)){for(u={},f=[],a=t.length,s=h.length;m<a;m++){for(c=t[m],p=!1,r=0;r<s&&!p;r++)u[r]||(d=h[r],v&&(u[r]=p=v+""===v?c[v]&&(w[v]?d[v]():d[v])===c[v]:v(d,c)));p?(d.merge(c),f.push(d)):(f.push(g=i.map(c)),n&&R(g,n,e))}return void(b?b(h).refresh(f,!0):h.splice.apply(h,[0,h.length].concat(f)))}o(t,function(t,e,n,r){e?h[n]().merge(t,h,r):h[n]()!==t&&h[n](t)});for(l in t)l===at||w[l]||(h[l]=t[l])}function l(){function t(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n].unmap());return e}var e,n,r,i,o=0,a=this;if(lt(a))return t(a);for(e={};o<x;o++)n=f[o],r=void 0,n+""!==n&&(r=n,n=r.getter),i=a[n](),e[n]=r&&i&&c[r.type]?lt(i)?t(i):i.unmap():i;for(n in a)!a.hasOwnProperty(n)||"_"===n.charAt(0)&&w[n.slice(1)]||n===at||st(a[n])||(e[n]=a[n]);return e}var d,p,u,c=this,f=n.getters,g=n.extend,v=n.id,m=e.extend({_is:t||"unnamed",unmap:l,merge:s},g),h="",_="",x=f?f.length:0,b=e.observable,w={};for(r.prototype=m,d=0;d<x;d++)!function(t){t=t.getter||t,w[t]=d+1;var e="_"+t;h+=(h?",":"")+t,_+="this."+e+" = "+t+";\n",m[t]=m[t]||function(n){return arguments.length?void(b?b(this).setProperty(t,n):this[e]=n):this[e]},b&&(m[t].set=m[t].set||function(t){this[e]=t})}(f[d]);return _=new Function(h,_),p=function(){_.apply(this,arguments),(u=arguments[x+1])&&R(this,arguments[x],u)},p.prototype=m,m.constructor=p,i.map=a,i.getters=f,i.extend=g,i.id=v,i}function M(t,n){var r,i=vt._wm||{},o={tmpls:[],links:{},bnds:[],_is:"template",render:E};return n&&(o=d(o,n)),o.markup=t,o.htmlTag||(r=Mt.exec(t),o.htmlTag=r?r[1].toLowerCase():""),r=i[o.htmlTag],r&&r!==i.div&&(o.markup=e.trim(o.markup)),o}function F(t,e){function n(i,o,a){var s,l,d,p=ft.onStore[t];if(i&&typeof i===Lt&&!i.nodeType&&!i.markup&&!i.getTgt&&!("viewModel"===t&&i.getters||i.extend)){for(l in i)n(l,i[l],o);return o||ot}return i&&""+i!==i&&(a=o,o=i,i=void 0),d=a?"viewModel"===t?a:a[r]=a[r]||{}:n,s=e.compile,void 0===o&&(o=s?i:d[i],i=void 0),null===o?i&&delete d[i]:(s&&(o=s.call(d,i,o,a,0)||{},o._is=t),i&&(d[i]=o)),p&&p(i,o,a,s),o}var r=t+"s";ot[r]=n}function V(t){mt[t]=mt[t]||function(e){return arguments.length?(gt[t]=e,mt):gt[t]}}function $(t){function e(e,n){this.tgt=t.getTgt(e,n),n.map=this}return st(t)&&(t={getTgt:t}),t.baseMap&&(t=d(d({},t.baseMap),t)),t.map=function(t,n){return new e(t,n)},t}function E(t,e,n,r,i,o){var a,s,l,d,p,u,c,f,g=r,v="";if(e===!0?(n=e,e=void 0):typeof e!==Lt&&(e=void 0),(l=this.tag)?(p=this,g=g||p.view,d=g._getTmpl(l.template||p.tmpl),arguments.length||(t=l.contentCtx&&st(l.contentCtx)?t=l.contentCtx(t):g)):d=this,d){if(!r&&t&&"view"===t._is&&(g=t),g&&t===g&&(t=g.data),u=!g,kt=kt||u,g||((e=e||{}).root=t),!kt||vt.useViews||d.useViews||g&&g!==it)v=O(d,t,e,n,g,i,o,l);else{if(g?(c=g.data,f=g.index,g.index=Ht):(g=it,c=g.data,g.data=t,g.ctx=e),lt(t)&&!n)for(a=0,s=t.length;a<s;a++)g.index=a,g.data=t[a],v+=d.fn(t[a],g,ft);else g.data=t,v+=d.fn(t,g,ft);g.data=c,g.index=f}u&&(kt=void 0)}return v}function O(t,e,n,r,i,o,a,s){var l,p,u,c,f,g,v,m,h,_,x,b,w,y="";if(s&&(h=s.tagName,b=s.tagCtx,n=n?Q(n,s.ctx):s.ctx,t===i.content?v=t!==i.ctx._wrp?i.ctx._wrp:void 0:t!==b.content?t===s.template?(v=b.tmpl,n._wrp=b.content):v=b.content||i.content:v=i.content,b.props.link===!1&&(n=n||{},n.link=!1)),i&&(a=a||i._.onRender,w=n&&n.link===!1,w&&i._.nl&&(a=void 0),n=Q(n,i.ctx),b=!s&&i.tag?i.tag.tagCtxs[i.tagElse]:b),(_=b&&b.props.itemVar)&&("~"!==_[0]&&D("Use itemVar='~myItem'"),_=_.slice(1)),o===!0&&(g=!0,o=0),a&&s&&s._.noVws&&(a=void 0),m=a,a===!0&&(m=void 0,a=i._.onRender),n=t.helpers?Q(t.helpers,n):n,x=n,lt(e)&&!r)for(u=g?i:void 0!==o&&i||new k(n,"array",i,e,t,o,a,v),u._.nl=w,i&&i._.useKey&&(u._.bnd=!s||s._.bnd&&s,u.tag=s),l=0,p=e.length;l<p;l++)c=new k(x,"item",u,e[l],t,(o||0)+l,a,u.content),_&&((c.ctx=d({},x))[_]=ft._cp(e[l],"#data",c)),f=t.fn(e[l],c,ft),y+=u._.onRender?u._.onRender(f,c):f;else u=g?i:new k(x,h||"data",i,e,t,o,a,v),_&&((u.ctx=d({},x))[_]=ft._cp(e,"#data",u)),u.tag=s,u._.nl=w,y+=t.fn(e,u,ft);return s&&(u.tagElse=b.index,b.contentView=u),m?m(y,u):y}function I(t,e,n){var r=void 0!==n?st(n)?n.call(e.data,t,e):n||"":"{Error: "+(t.message||t)+"}";return gt.onError&&void 0!==(n=gt.onError.call(e.data,t,n&&r,e))&&(r=n),e&&!e._lc?pt.html(r):r}function S(t){throw new ft.Err(t)}function D(t){S("Syntax error\n"+t)}function J(t,e,n,r,i){function o(e){e-=v,e&&h.push(t.substr(v,e).replace(jt,"\\n"))}function a(e,n){e&&(e+="}}",D((n?"{{"+n+"}} block has {{/"+e+" without {{"+e:"Unmatched or missing {{/"+e)+", in template:\n"+t))}function s(s,l,d,c,g,x,b,w,y,k,C,T){(b&&l||y&&!d||w&&":"===w.slice(-1)||k)&&D(s),x&&(g=":",c=Kt),y=y||n&&!i;var j,A,P,R=(l||n)&&[[]],N="",M="",F="",V="",$="",E="",O="",I="",S=!y&&!g;d=d||(w=w||"#data",g),o(T),v=T+s.length,b?f&&h.push(["*","\n"+w.replace(/^:/,"ret+= ").replace(At,"$1")+";\n"]):d?("else"===d&&(Nt.test(w)&&D('For "{{else if expr}}" use "{{else expr}}"'),R=_[9]&&[[]],_[10]=t.substring(_[10],T),A=_[11]||_[0]||D("Mismatched: "+s),_=m.pop(),h=_[2],S=!0),w&&L(w.replace(jt," "),R,e,n).replace(Rt,function(t,e,n,r,i,o,a,s){return"this:"===r&&(o="undefined"),s&&(P=P||"@"===s[0]),r="'"+i+"':",a?(M+=n+o+",",V+="'"+s+"',"):n?(F+=r+"j._cp("+o+',"'+s+'",view),',E+=r+"'"+s+"',"):e?O+=o:("trigger"===i&&(I+=o),"lateRender"===i&&(j="false"!==s),N+=r+o+",",$+=r+"'"+s+"',",u=u||$t.test(i)),""}).slice(0,-1),R&&R[0]&&R.pop(),p=[d,c||!!r||u||"",S&&[],q(V||(":"===d?"'#data',":""),$,E),q(M||(":"===d?"data,":""),N,F),O,I,j,P,R||0],h.push(p),S&&(m.push(_),_=p,_[10]=v,_[11]=A)):C&&(a(C!==_[0]&&C!==_[11]&&C,_[0]),_[10]=t.substring(_[10],T),_=m.pop()),a(!_&&C),h=_[2]}var l,d,p,u,c,f=gt.allowCode||e&&e.allowCode||mt.allowCode===!0,g=[],v=0,m=[],h=g,_=[,,g];if(f&&e._is&&(e.allowCode=f),n&&(void 0!==r&&(t=t.slice(0,-r.length-2)+xt),t=ht+t+bt),a(m[0]&&m[0][2].pop()[0]),t.replace(rt,s),o(t.length),(v=g[g.length-1])&&a(""+v!==v&&+v[10]===v[10]&&v[0]),n){for(d=B(g,t,n),c=[],l=g.length;l--;)c.unshift(g[l][9]);U(d,c)}else d=B(g,e);return d}function U(t,e){var n,r,i=0,o=e.length;for(t.deps=[],t.paths=[];i<o;i++){t.paths.push(r=e[i]);for(n in r)"_jsvto"!==n&&r.hasOwnProperty(n)&&r[n].length&&!r[n].skp&&(t.deps=t.deps.concat(r[n]))}}function q(t,e,n){return[t.slice(0,-1),e.slice(0,-1),n.slice(0,-1)]}function K(t,e){return"\n\t"+(e?e+":{":"")+"args:["+t[0]+"],\n\tprops:{"+t[1]+"}"+(t[2]?",\n\tctx:{"+t[2]+"}":"")}function L(t,e,n,r){function i(i,p,x,b,w,y,k,C,T,j,A,P,R,N,M,F,V,$,E,O,I){function S(t,n,i,s,l,d,p,f){var g="."===i;if(i&&(w=w.slice(n.length),/^\.?constructor$/.test(f||w)&&D(t),g||(t=(j?(r?"":"(ltOb.lt=ltOb.lt||")+"(ob=":"")+(s?'view.ctxPrm("'+s+'")':l?"view":"data")+(j?")===undefined"+(r?"":")")+'?"":view._getOb(ob,"':"")+(f?(d?"."+d:s?"":l?"":"."+i)+(p||""):(f=s?"":l?d||"":i,"")),t+=f?"."+f:"",t=n+("view.data"===t.slice(0,9)?t.slice(5):t)+(j?(r?'"':'",ltOb')+(A?",1)":")"):"")),u)){if(K="_linkTo"===o?a=e._jsvto=e._jsvto||[]:c.bd,L=g&&K[K.length-1]){if(L._cpfn){for(;L.sb;)L=L.sb;L.bnd&&(w="^"+w.slice(1)),L.sb=w,L.bnd=L.bnd||"^"===w[0]}}else K.push(w);_[m]=O+(g?1:0)}return t}b&&!C&&(w=b+w),y=y||"",x=x||p||R,w=w||T,j&&(j=!/\)|]/.test(I[O-1]))&&(w=w.slice(1).split(".").join("^")),A=A||$||"";var U,q,K,L,B,Q=")";if("["===A&&(A="[j._sq(",Q=")]"),!k||d||l){if(u&&V&&!d&&!l&&m&&(U=_[m-1],I.length-1>O-(U||0))){if(U=I.slice(U,O+i.length),q!==!0)if(K=a||f[m-1].bd,L=K[K.length-1],L&&L.prm){for(;L.sb&&L.sb.prm;)L=L.sb;B=L.sb={path:L.sb,bnd:L.bnd}}else K.push(B={path:K.pop()});V=_t+":"+U+" onerror=''"+xt,q=v[V],q||(v[V]=!0,v[V]=q=J(V,n,!0)),q!==!0&&B&&(B._cpfn=q,B.prm=c.bd,B.bnd=B.bnd||B.path&&B.path.indexOf("^")>=0)}return d?(d=!N,d?i:R+'"'):l?(l=!M,l?i:R+'"'):(x?(_[m]=O++,c=f[++m]={bd:[]},x):"")+(E?m?"":(g=I.slice(g,O),(o?(o=s=a=!1,"\b"):"\b,")+g+(g=O+i.length,u&&e.push(c.bd=[]),"\b")):C?(m&&D(t),u&&e.pop(),o="_"+w,s=b,g=O+i.length,u&&(u=c.bd=e[o]=[],u.skp=!b),w+":"):w?w.split("^").join(".").replace(ft.rPath,S)+(A?(c=f[++m]={bd:[]},h[m]=Q,A):y):y?y:F?(F=h[m]||F,h[m]=!1,c=f[--m],F+(A?(c=f[++m],h[m]=Q,A):"")):P?(h[m]||D(t),","):p?"":(d=N,l=M,'"'))}D(t)}var o,a,s,l,d,p,u=e&&e[0],c={bd:u},f={0:c},g=0,v=(n?n.links:u&&(u.links=u.links||{}))||it.tmpl.links,m=0,h={},_={};return"@"===t[0]&&(t=t.replace(Dt,".")),p=(t+(n?" ":"")).replace(ft.rPrm,i),!m&&p||D(t)}function B(t,e,n){var r,i,o,a,s,l,d,p,u,c,f,g,v,m,h,_,x,b,w,y,k,C,T,j,A,P,R,N,F,V,$,E,O,I=0,S=vt.useViews||e.useViews||e.tags||e.templates||e.helpers||e.converters,J="",q={},L=t.length;for(""+e===e?(b=n?'data-link="'+e.replace(jt," ").slice(1,-1)+'"':e,e=0):(b=e.tmplName||"unnamed",e.allowCode&&(q.allowCode=!0),e.debug&&(q.debug=!0),f=e.bnds,x=e.tmpls),r=0;r<L;r++)if(i=t[r],""+i===i)J+='\n+"'+i+'"';else if(o=i[0],"*"===o)J+=";\n"+i[1]+"\nret=ret";else{if(a=i[1],k=!n&&i[2],s=K(i[3],"params")+"},"+K(v=i[4]),V=i[6],$=i[7],i[8]?(E="\nvar ob,ltOb={},ctxs=",O=";\nctxs.lt=ltOb.lt;\nreturn ctxs;"):(E="\nreturn ",O=""),C=i[10]&&i[10].replace(At,"$1"),(A="else"===o)?g&&g.push(i[9]):(N=i[5]||gt.debugMode!==!1&&"undefined",f&&(g=i[9])&&(g=[g],I=f.push(1))),S=S||v[1]||v[2]||g||/view.(?!index)/.test(v[0]),(P=":"===o)?a&&(o=a===Kt?">":a+o):(k&&(w=M(C,q),w.tmplName=b+"/"+o,w.useViews=w.useViews||S,B(k,w),S=w.useViews,x.push(w)),A||(y=o,S=S||o&&(!ct[o]||!ct[o].flow),j=J,J=""),T=t[r+1],T=T&&"else"===T[0]),F=N?";\ntry{\nret+=":"\n+",m="",h="",P&&(g||V||a&&a!==Kt||$)){if(R=new Function("data,view,j,u","// "+b+" "+ ++I+" "+o+E+"{"+s+"};"+O),R._er=N,R._tag=o,R._bd=!!g,R._lr=$,n)return R;U(R,g),_='c("'+a+'",view,',c=!0,m=_+I+",",h=")"}if(J+=P?(n?(N?"try{\n":"")+"return ":F)+(c?(c=void 0,S=u=!0,_+(R?(f[I-1]=R,I):"{"+s+"}")+")"):">"===o?(d=!0,"h("+v[0]+")"):(p=!0,"((v="+v[0]+")!=null?v:"+(n?"null)":'"")'))):(l=!0,"\n{view:view,content:false,tmpl:"+(k?x.length:"false")+","+s+"},"),y&&!T){if(J="["+J.slice(0,-1)+"]",_='t("'+y+'",view,this,',n||g){if(J=new Function("data,view,j,u"," // "+b+" "+I+" "+y+E+J+O),J._er=N,J._tag=y,g&&U(f[I-1]=J,g),J._lr=$,n)return J;m=_+I+",undefined,",h=")"}J=j+F+_+(g&&I||J)+")",g=0,y=0}N&&!T&&(S=!0,J+=";\n}catch(e){ret"+(n?"urn ":"+=")+m+"j._err(e,view,"+N+")"+h+";}"+(n?"":"ret=ret"))}J="// "+b+(q.debug?"\ndebugger;":"")+"\nvar v"+(l?",t=j._tag":"")+(u?",c=j._cnvt":"")+(d?",h=j._html":"")+(n?(i[8]?", ob":"")+";\n":',ret=""')+J+(n?"\n":";\nreturn ret;");try{J=new Function("data,view,j,u",J)}catch(Q){D("Compiled template code:\n\n"+J+'\n: "'+(Q.message||Q)+'"')}return e&&(e.fn=J,e.useViews=!!S),J}function Q(t,e){return t&&t!==e?e?d(d({},e),t):t:e&&d({},e)}function H(t,n){var r,i,o=n.map,a=o&&o.propsArr;if(!a){if(a=[],typeof t===Lt||st(t))for(r in t)i=t[r],r===at||!t.hasOwnProperty(r)||n.props.noFunctions&&e.isFunction(i)||a.push({key:r,prop:i});o&&(o.propsArr=o.options&&a)}return W(a,n)}function W(t,n){var r,i,o,a=n.tag,s=n.props,l=n.params.props,d=s.filter,p=s.sort,u=p===!0,c=parseInt(s.step),f=s.reverse?-1:1;if(!lt(t))return t;if(u||p&&""+p===p?(r=t.map(function(t,e){return t=u?t:g(t,p),{i:e,v:""+t===t?t.toLowerCase():t}}),r.sort(function(t,e){return t.v>e.v?f:t.v<e.v?-f:0}),t=r.map(function(e){return t[e.i]})):(p||f<0)&&!a.dataMap&&(t=t.slice()),st(p)&&(t=t.sort(function(){return p.apply(n,arguments)})),f<0&&(!p||st(p))&&(t=t.reverse()),t.filter&&d&&(t=t.filter(d,n),n.tag.onFilter&&n.tag.onFilter(n)),l.sorted&&(r=p||f<0?t:t.slice(),a.sorted?e.observable(a.sorted).refresh(r):n.map.sorted=r),i=s.start,o=s.end,(l.start&&void 0===i||l.end&&void 0===o)&&(i=o=0),isNaN(i)&&isNaN(o)||(i=+i||0,o=void 0===o||o>t.length?t.length:+o,t=t.slice(i,o)),c>1){for(i=0,o=t.length,r=[];i<o;i+=c)r.push(t[i]);t=r}return l.paged&&a.paged&&$observable(a.paged).refresh(t),t}function Z(t,n,r){var i=this.jquery&&(this[0]||S("Unknown template")),o=i.getAttribute(Bt);return E.call(o&&e.data(i)[Qt]||dt(i),t,n,r)}function z(t){return Ut[t]||(Ut[t]="&#"+t.charCodeAt(0)+";")}function G(t,e){return qt[e]||""}function X(t){return void 0!=t?Vt.test(t)&&(""+t).replace(Ot,z)||t:""}function Y(t){return""+t===t?t.replace(It,z):t}function tt(t){return""+t===t?t.replace(St,G):t}var et=e===!1;e=e&&e.fn?e:t.jQuery;var nt,rt,it,ot,at,st,lt,dt,pt,ut,ct,ft,gt,vt,mt,ht,_t,xt,bt,wt,yt,kt,Ct="v1.0.6",Tt="_ocp",jt=/[ \t]*(\r\n|\n|\r)/g,At=/\\(['"])/g,Pt=/['"\\]/g,Rt=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,Nt=/^if\s/,Mt=/<(\w+)[>\s]/,Ft=/[\x00`><"'&=]/g,Vt=/[\x00`><\"'&=]/,$t=/^on[A-Z]|^convert(Back)?$/,Et=/^\#\d+_`[\s\S]*\/\d+_`$/,Ot=Ft,It=/[&<>]/g,St=/&(amp|gt|lt);/g,Dt=/\[['"]?|['"]?\]/g,Jt=0,Ut={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},qt={amp:"&",gt:">",lt:"<"},Kt="html",Lt="object",Bt="data-jsv-tmpl",Qt="jsvTmpl",Ht="For #index in nested block use #getIndex().",Wt={},Zt=t.jsrender,zt=Zt&&e&&!e.render,Gt={template:{compile:A},tag:{compile:T},viewModel:{compile:N},helper:{},converter:{}};if(ot={jsviews:Ct,sub:{rPath:/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,rPrm:/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,View:k,Err:l,tmplFn:J,parse:L,extend:d,extendCtx:Q,syntaxErr:D,onStore:{template:function(t,e){null===e?delete Wt[t]:t&&(Wt[t]=e)}},addSetting:V,settings:{allowCode:!1},advSet:a,_thp:i,_gm:r,_tg:function(){},_cnvt:h,_tag:y,_er:S,_err:I,_cp:o,_sq:function(t){return"constructor"===t&&D(""),t}},settings:{delimiters:p,advanced:function(t){return t?(d(vt,t),ft.advSet(),mt):vt}},map:$},(l.prototype=new Error).constructor=l,c.depends=function(){return[this.get("item"),"index"]},f.depends="index",k.prototype={get:u,getIndex:f,ctxPrm:v,getRsc:w,_getTmpl:m,_getOb:g,_is:"view"},ft=ot.sub,mt=ot.settings,!(Zt||e&&e.render)){for(nt in Gt)F(nt,Gt[nt]);if(pt=ot.converters,ut=ot.helpers,ct=ot.tags,ft._tg.prototype={baseApply:j,cvtArgs:_,bndArgs:b,ctxPrm:v},it=ft.topView=new k,e){if(e.fn.render=Z,at=e.expando,e.observable){if(Ct!==(Ct=e.views.jsviews))throw"JsObservable requires JsRender "+Ct;d(ft,e.views.sub),ot.map=e.views.map}}else e={},et&&(t.jsrender=e),e.renderFile=e.__express=e.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},e.isFunction=function(t){return"function"==typeof t},e.isArray=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},ft._jq=function(t){t!==e&&(d(t,e),e=t,e.fn.render=Z,delete e.jsrender,at=e.expando)},e.jsrender=Ct;gt=ft.settings,gt.allowCode=!1,st=e.isFunction,e.render=Wt,e.views=ot,e.templates=dt=ot.templates;for(yt in gt)V(yt);(mt.debugMode=function(t){return void 0===t?gt.debugMode:(gt.debugMode=t,gt.onError=t+""===t?function(){return t}:st(t)?t:void 0,mt)})(!1),vt=gt.advanced={useViews:!1,_jsv:!1},ct({"if":{render:function(t){var e=this,n=e.tagCtx,r=e.rendering.done||!t&&(n.args.length||!n.index)?"":(e.rendering.done=!0,void(e.selected=n.index));return r},contentCtx:!0,flow:!0},"for":{sortDataMap:$(W),init:function(t,e){this.setDataMap(this.tagCtxs)},render:function(t){var e,n,r,i,o,a=this,s=a.tagCtx,l=s.argDefault===!1,d=s.props,p=l||s.args.length,u="",c=0;if(!a.rendering.done){if(e=p?t:s.view.data,l)for(l=d.reverse?"unshift":"push",i=+d.end,o=+d.step||1,e=[],r=+d.start||0;(i-r)*o>0;r+=o)e[l](r);void 0!==e&&(n=lt(e),u+=s.render(e,!p||d.noIteration),c+=n?e.length:1),(a.rendering.done=c)&&(a.selected=s.index)}return u},setDataMap:function(t){for(var e,n,r,i=this,o=t.length;o--;)e=t[o],n=e.props,r=e.params.props,e.argDefault=void 0===n.end||e.args.length>0,n.dataMap=e.argDefault!==!1&&lt(e.args[0])&&(r.sort||r.start||r.end||r.step||r.filter||r.reverse||n.sort||n.start||n.end||n.step||n.filter||n.reverse)&&i.sortDataMap},flow:!0},props:{baseTag:"for",dataMap:$(H),init:a,flow:!0},include:{flow:!0},"*":{render:o,flow:!0},":*":{render:o,flow:!0},dbg:ut.dbg=pt.dbg=s}),pt({html:X,attr:X,encode:Y,unencode:tt,url:function(t){return void 0!=t?encodeURI(""+t):null===t?t:""}})}return gt=ft.settings,lt=(e||Zt).isArray,mt.delimiters("{{","}}","^"),zt&&Zt.views.sub._jq(e),e||Zt},window);
(function(context){var MinPubSub={};var cache=context.c_||{};MinPubSub.publish=function(topic,args){var subs=cache[topic],len=subs?subs.length:0;while(len--){subs[len].apply(context,args||[])}};MinPubSub.subscribe=function(topic,callback){if(!cache[topic]){cache[topic]=[]}cache[topic].push(callback);return[topic,callback]};MinPubSub.unsubscribe=function(handle,callback){var subs=cache[callback?handle:handle[0]],callback=callback||handle[1],len=subs?subs.length:0;while(len--){if(subs[len]===callback){subs.splice(len,1)}}};if(typeof module==="object"&&module.exports){module.exports=exports=MinPubSub}else if(typeof define==="function"&&define.amd){define(function(){return MinPubSub})}else if(typeof context==="object"){context.publish=MinPubSub.publish;context.subscribe=MinPubSub.subscribe;context.unsubscribe=MinPubSub.unsubscribe}})(this.window);
/*! JsRender v1.0.6: http://jsviews.com/#jsrender */
/*! **VERSION FOR WEB** (For NODE.JS see http://jsviews.com/download/jsrender-node.js) */
!function(t,e){var n=e.jQuery;"object"==typeof exports?module.exports=n?t(e,n):function(n){if(n&&!n.fn)throw"Provide jQuery or null";return t(e,n)}:"function"==typeof define&&define.amd?define(function(){return t(e)}):t(e,!1)}(function(t,e){"use strict";function n(t,e){return function(){var n,r=this,i=r.base;return r.base=t,n=e.apply(r,arguments),r.base=i,n}}function r(t,e){return st(e)&&(e=n(t?t._d?t:n(a,t):a,e),e._d=(t&&t._d||0)+1),e}function i(t,e){var n,i=e.props;for(n in i)!$t.test(n)||t[n]&&t[n].fix||(t[n]="convert"!==n?r(t.constructor.prototype[n],i[n]):i[n])}function o(t){return t}function a(){return""}function s(t){try{throw console.log("JsRender dbg breakpoint: "+t),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):t}function l(t){this.name=(e.link?"JsViews":"JsRender")+" Error",this.message=t||this.name}function d(t,e){if(t){for(var n in e)t[n]=e[n];return t}}function p(t,e,n){return t?lt(t)?p.apply(ot,t):(wt=n?n[0]:wt,/^(\W|_){5}$/.test(t+e+wt)||S("Invalid delimiters"),ht=t[0],_t=t[1],xt=e[0],bt=e[1],gt.delimiters=[ht+_t,xt+bt,wt],t="\\"+ht+"(\\"+wt+")?\\"+_t,e="\\"+xt+"\\"+bt,rt="(?:(\\w+(?=[\\/\\s\\"+xt+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+xt+"]|\\"+xt+"(?!\\"+bt+"))*?)",ft.rTag="(?:"+rt+")",rt=new RegExp("(?:"+t+rt+"(\\/)?|\\"+ht+"(\\"+wt+")?\\"+_t+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+e,"g"),ft.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+t+".*"+e),mt):gt.delimiters}function u(t,e){e||t===!0||(e=t,t=void 0);var n,r,i,o,a=this,s="root"===e;if(t){if(o=e&&a.type===e&&a,!o)if(n=a.views,a._.useKey){for(r in n)if(o=e?n[r].get(t,e):n[r])break}else for(r=0,i=n.length;!o&&r<i;r++)o=e?n[r].get(t,e):n[r]}else if(s)o=a.root;else if(e)for(;a&&!o;)o=a.type===e?a:void 0,a=a.parent;else o=a.parent;return o||void 0}function c(){var t=this.get("item");return t?t.index:void 0}function f(){return this.index}function g(t,e,n,r){var i,o,s,l=0;if(1===n&&(r=1,n=void 0),e)for(o=e.split("."),s=o.length;t&&l<s;l++)i=t,t=o[l]?t[o[l]]:t;return n&&(n.lt=n.lt||l<s),void 0===t?r?a:"":r?function(){return t.apply(i,arguments)}:t}function v(n,r,i){var o,a,s,l,p,u,c,f=this,g=!kt&&arguments.length>1,v=f.ctx;if(n){if(f._||(p=f.index,f=f.tag),u=f,v&&v.hasOwnProperty(n)||(v=ut).hasOwnProperty(n)){if(s=v[n],"tag"===n||"tagCtx"===n||"root"===n||"parentTags"===n)return s}else v=void 0;if((!kt&&f.tagCtx||f.linked)&&(s&&s._cxp||(f=f.tagCtx||st(s)?f:(f=f.scope||f,!f.isTop&&f.ctx.tag||f),void 0!==s&&f.tagCtx&&(f=f.tagCtx.view.scope),v=f._ocps,s=v&&v.hasOwnProperty(n)&&v[n]||s,s&&s._cxp||!i&&!g||((v||(f._ocps=f._ocps||{}))[n]=s=[{_ocp:s,_vw:u,_key:n}],s._cxp={path:Tt,ind:0,updateValue:function(t,n){return e.observable(s[0]).setProperty(Tt,t),this}})),l=s&&s._cxp)){if(arguments.length>2)return a=s[1]?ft._ceo(s[1].deps):[Tt],a.unshift(s[0]),a._cxp=l,a;if(p=l.tagElse,c=s[1]?l.tag&&l.tag.cvtArgs?l.tag.cvtArgs(p,1)[l.ind]:s[1](s[0].data,s[0],ft):s[0]._ocp,g)return ft._ucp(n,r,f,l),f;s=c}return s&&st(s)&&(o=function(){return s.apply(this&&this!==t?this:u,arguments)},d(o,s)),o||s}}function m(t){return t&&(t.fn?t:this.getRsc("templates",t)||dt(t))}function h(t,e,n,r){var o,a,s,l,p,u="number"==typeof n&&e.tmpl.bnds[n-1];if(void 0===r&&u&&u._lr&&(r=""),void 0!==r?n=r={props:{},args:[r]}:u&&(n=u(e.data,e,ft)),u=u._bd&&u,t||u){if(a=e._lc,o=a&&a.tag,n.view=e,!o){if(o=d(new ft._tg,{_:{bnd:u,unlinked:!0,lt:n.lt},inline:!a,tagName:":",convert:t,onArrayChange:!0,flow:!0,tagCtx:n,tagCtxs:[n],_is:"tag"}),l=n.args.length,l>1)for(p=o.bindTo=[];l--;)p.unshift(l);a&&(a.tag=o,o.linkCtx=a),n.ctx=Q(n.ctx,(a?a.view:e).ctx),i(o,n)}o._er=r&&s,o.ctx=n.ctx||o.ctx||{},n.ctx=void 0,s=o.cvtArgs()[0],o._er=r&&s}else s=n.args[0];return s=u&&e._.onRender?e._.onRender(s,e,o):s,void 0!=s?s:""}function _(t,e){var n,r,i,o,a,s,l,d=this;if(d.tagName){if(s=d,d=(s.tagCtxs||[d])[t||0],!d)return}else s=d.tag;if(a=s.bindFrom,o=d.args,(l=s.convert)&&""+l===l&&(l="true"===l?void 0:d.view.getRsc("converters",l)||S("Unknown converter: '"+l+"'")),l&&!e&&(o=o.slice()),a){for(i=[],n=a.length;n--;)r=a[n],i.unshift(x(d,r));e&&(o=i)}if(l){if(l=l.apply(s,i||o),void 0===l)return o;if(a=a||[0],n=a.length,lt(l)&&l.length===n||(l=[l],a=[0],n=1),e)o=l;else for(;n--;)r=a[n],+r===r&&(o[r]=l[n])}return o}function x(t,e){return t=t[+e===e?"args":"props"],t&&t[e]}function b(t){return this.cvtArgs(t,1)}function w(t,e){var n,r,i=this;if(""+e===e){for(;void 0===n&&i;)r=i.tmpl&&i.tmpl[t],n=r&&r[e],i=i.parent;return n||ot[t][e]}}function y(t,e,n,r,o,a){function s(t){var e=l[t];if(void 0!==e)for(e=lt(e)?e:[e],m=e.length;m--;)J=e[m],isNaN(parseInt(J))||(e[m]=parseInt(J));return e||[0]}e=e||it;var l,d,p,u,c,f,g,m,h,w,y,k,C,T,j,A,P,R,N,M,F,V,$,I,D,J,U,q,K,L,B=0,H="",W=e._lc||!1,Z=e.ctx,z=n||e.tmpl,G="number"==typeof r&&e.tmpl.bnds[r-1];for("tag"===t._is?(l=t,t=l.tagName,r=l.tagCtxs,p=l.template):(d=e.getRsc("tags",t)||S("Unknown tag: {{"+t+"}} "),p=d.template),void 0===a&&G&&(G._lr=d.lateRender&&G._lr!==!1||G._lr)&&(a=""),void 0!==a?(H+=a,r=a=[{props:{},args:[],params:{props:{}}}]):G&&(r=G(e.data,e,ft)),g=r.length;B<g;B++)y=r[B],P=y.tmpl,(!W||!W.tag||B&&!W.tag.inline||l._er||P&&+P===P)&&(P&&z.tmpls&&(y.tmpl=y.content=z.tmpls[P-1]),y.index=B,y.ctxPrm=v,y.render=E,y.cvtArgs=_,y.bndArgs=b,y.view=e,y.ctx=Q(Q(y.ctx,d&&d.ctx),Z)),(n=y.props.tmpl)&&(y.tmpl=e._getTmpl(n),y.content=y.content||y.tmpl),l?W&&W.fn._lr&&(R=!!l.init):(l=new d._ctr,R=!!l.init,l.parent=f=Z&&Z.tag,l.tagCtxs=r,W&&(l.inline=!1,W.tag=l),l.linkCtx=W,(l._.bnd=G||W.fn)?(l._.ths=y.params.props["this"],l._.lt=r.lt,l._.arrVws={}):l.dataBoundOnly&&S(t+" must be data-bound:\n{^{"+t+"}}")),I=l.dataMap,y.tag=l,I&&r&&(y.map=r[B].map),l.flow||(k=y.ctx=y.ctx||{},u=l.parents=k.parentTags=Z&&Q(k.parentTags,Z.parentTags)||{},f&&(u[f.tagName]=f),u[l.tagName]=k.tag=l,k.tagCtx=y);if(!(l._er=a)){for(i(l,r[0]),l.rendering={rndr:l.rendering},B=0;B<g;B++){if(y=l.tagCtx=r[B],$=y.props,l.ctx=y.ctx,!B){if(R&&(l.init(y,W,l.ctx),R=void 0),y.args.length||y.argDefault===!1||l.argDefault===!1||(y.args=F=[y.view.data],y.params.args=["#data"]),T=s("bindTo"),void 0!==l.bindTo&&(l.bindTo=T),void 0!==l.bindFrom?l.bindFrom=s("bindFrom"):l.bindTo&&(l.bindFrom=l.bindTo=T),j=l.bindFrom||T,q=T.length,U=j.length,l._.bnd&&(K=l.linkedElement)&&(l.linkedElement=K=lt(K)?K:[K],q!==K.length&&S("linkedElement not same length as bindTo")),(K=l.linkedCtxParam)&&(l.linkedCtxParam=K=lt(K)?K:[K],U!==K.length&&S("linkedCtxParam not same length as bindFrom/bindTo")),j)for(l._.fromIndex={},l._.toIndex={},h=U;h--;)for(J=j[h],m=q;m--;)J===T[m]&&(l._.fromIndex[m]=h,l._.toIndex[h]=m);W&&(W.attr=l.attr=W.attr||l.attr||W._dfAt),c=l.attr,l._.noVws=c&&c!==Kt}if(F=l.cvtArgs(B),l.linkedCtxParam)for(V=l.cvtArgs(B,1),m=U,L=l.constructor.prototype.ctx;m--;)(C=l.linkedCtxParam[m])&&(J=j[m],A=V[m],y.ctx[C]=ft._cp(L&&void 0===A?L[C]:A,void 0!==A&&x(y.params,J),y.view,l._.bnd&&{tag:l,cvt:l.convert,ind:m,tagElse:B}));(N=$.dataMap||I)&&(F.length||$.dataMap)&&(M=y.map,M&&M.src===F[0]&&!o||(M&&M.src&&M.unmap(),N.map(F[0],y,M,!l._.bnd),M=y.map),F=[M.tgt]),w=void 0,l.render&&(w=l.render.apply(l,F),e.linked&&w&&!Et.test(w)&&(n={links:[]},n.render=n.fn=function(){return w},w=O(n,e.data,void 0,!0,e,void 0,void 0,l))),F.length||(F=[e]),void 0===w&&(D=F[0],l.contentCtx&&(D=l.contentCtx===!0?e:l.contentCtx(D)),w=y.render(D,!0)||(o?void 0:"")),H=H?H+(w||""):void 0!==w?""+w:void 0}l.rendering=l.rendering.rndr}return l.tagCtx=r[0],l.ctx=l.tagCtx.ctx,l._.noVws&&l.inline&&(H="text"===c?pt.html(H):""),G&&e._.onRender?e._.onRender(H,e,l):H}function k(t,e,n,r,i,o,a,s){var l,d,p,u=this,f="array"===e;u.content=s,u.views=f?[]:{},u.data=r,u.tmpl=i,p=u._={key:0,useKey:f?0:1,id:""+Jt++,onRender:a,bnds:{}},u.linked=!!a,u.type=e||"top",n&&"top"!==n.type||((u.ctx=t||{}).root=u.data),(u.parent=n)?(u.root=n.root||u,l=n.views,d=n._,u.isTop=d.scp,u.scope=(!t.tag||t.tag===n.ctx.tag)&&!u.isTop&&n.scope||u,d.useKey?(l[p.key="_"+d.useKey++]=u,u.index=Ht,u.getIndex=c):l.length===(p.key=u.index=o)?l.push(u):l.splice(o,0,u),u.ctx=t||n.ctx):e&&(u.root=u)}function C(t){var e,n,r;for(e in Gt)n=e+"s",t[n]&&(r=t[n],t[n]={},ot[n](r,t))}function T(t,e,n){function i(){var e=this;e._={unlinked:!0},e.inline=!0,e.tagName=t}var o,a,s,l=new ft._tg;if(st(e)?e={depends:e.depends,render:e}:""+e===e&&(e={template:e}),a=e.baseTag){e.flow=!!e.flow,a=""+a===a?n&&n.tags[a]||ct[a]:a,a||S('baseTag: "'+e.baseTag+'" not found'),l=d(l,a);for(s in e)l[s]=r(a[s],e[s])}else l=d(l,e);return void 0!==(o=l.template)&&(l.template=""+o===o?dt[o]||dt(o):o),(i.prototype=l).constructor=l._ctr=i,n&&(l._parentTmpl=n),l}function j(t){return this.base.apply(this,t)}function A(t,n,r,i){function o(n){var o,s;if(""+n===n||n.nodeType>0&&(a=n)){if(!a)if(/^\.\/[^\\:*?"<>]*$/.test(n))(s=dt[t=t||n])?n=s:a=document.getElementById(n);else if(e.fn&&!ft.rTmpl.test(n))try{a=e(n,document)[0]}catch(l){}a&&("SCRIPT"!==a.tagName&&S(n+": Use script block, not "+a.tagName),i?n=a.innerHTML:(o=a.getAttribute(Bt),o&&(o!==Qt?(n=dt[o],delete dt[o]):e.fn&&(n=e.data(a)[Qt])),o&&n||(t=t||(e.fn?Qt:n),n=A(t,a.innerHTML,r,i)),n.tmplName=t=t||o,t!==Qt&&(dt[t]=n),a.setAttribute(Bt,t),e.fn&&e.data(a,Qt,n))),a=void 0}else n.fn||(n=void 0);return n}var a,s,l=n=n||"";if(ft._html=pt.html,0===i&&(i=void 0,l=o(l)),i=i||(n.markup?n.bnds?d({},n):n:{}),i.tmplName=i.tmplName||t||"unnamed",r&&(i._parentTmpl=r),!l&&n.markup&&(l=o(n.markup))&&l.fn&&(l=l.markup),void 0!==l)return l.render||n.render?l.tmpls&&(s=l):(n=M(l,i),J(l.replace(Pt,"\\$&"),n)),s||(s=d(function(){return s.render.apply(s,arguments)},n),C(s)),s}function P(t,e){return st(t)?t.call(e):t}function R(t,e,n){Object.defineProperty(t,e,{value:n,configurable:!0})}function N(t,n){function r(t){p.apply(this,t)}function i(){return new r(arguments)}function o(t,e){for(var n,r,i,o,a,s=0;s<x;s++)i=f[s],n=void 0,i+""!==i&&(n=i,i=n.getter,a=n.parentRef),void 0===(o=t[i])&&n&&void 0!==(r=n.defaultVal)&&(o=P(r,t)),e(o,n&&c[n.type],i,a)}function a(e){e=e+""===e?JSON.parse(e):e;var n,r,i,a,d=0,p=e,u=[];if(lt(e)){for(e=e||[],n=e.length;d<n;d++)u.push(this.map(e[d]));return u._is=t,u.unmap=l,u.merge=s,u}if(e){for(o(e,function(t,e){e&&(t=e.map(t)),u.push(t)}),p=this.apply(this,u),d=x;d--;)if(i=u[d],a=f[d].parentRef,a&&i&&i.unmap)if(lt(i))for(n=i.length;n--;)R(i[n],a,p);else R(i,a,p);for(r in e)r===at||w[r]||(p[r]=e[r])}return p}function s(t,e,n){t=t+""===t?JSON.parse(t):t;var r,a,s,l,d,p,u,c,f,g,m=0,h=this;if(lt(h)){for(u={},f=[],a=t.length,s=h.length;m<a;m++){for(c=t[m],p=!1,r=0;r<s&&!p;r++)u[r]||(d=h[r],v&&(u[r]=p=v+""===v?c[v]&&(w[v]?d[v]():d[v])===c[v]:v(d,c)));p?(d.merge(c),f.push(d)):(f.push(g=i.map(c)),n&&R(g,n,e))}return void(b?b(h).refresh(f,!0):h.splice.apply(h,[0,h.length].concat(f)))}o(t,function(t,e,n,r){e?h[n]().merge(t,h,r):h[n]()!==t&&h[n](t)});for(l in t)l===at||w[l]||(h[l]=t[l])}function l(){function t(t){for(var e=[],n=0,r=t.length;n<r;n++)e.push(t[n].unmap());return e}var e,n,r,i,o=0,a=this;if(lt(a))return t(a);for(e={};o<x;o++)n=f[o],r=void 0,n+""!==n&&(r=n,n=r.getter),i=a[n](),e[n]=r&&i&&c[r.type]?lt(i)?t(i):i.unmap():i;for(n in a)!a.hasOwnProperty(n)||"_"===n.charAt(0)&&w[n.slice(1)]||n===at||st(a[n])||(e[n]=a[n]);return e}var d,p,u,c=this,f=n.getters,g=n.extend,v=n.id,m=e.extend({_is:t||"unnamed",unmap:l,merge:s},g),h="",_="",x=f?f.length:0,b=e.observable,w={};for(r.prototype=m,d=0;d<x;d++)!function(t){t=t.getter||t,w[t]=d+1;var e="_"+t;h+=(h?",":"")+t,_+="this."+e+" = "+t+";\n",m[t]=m[t]||function(n){return arguments.length?void(b?b(this).setProperty(t,n):this[e]=n):this[e]},b&&(m[t].set=m[t].set||function(t){this[e]=t})}(f[d]);return _=new Function(h,_),p=function(){_.apply(this,arguments),(u=arguments[x+1])&&R(this,arguments[x],u)},p.prototype=m,m.constructor=p,i.map=a,i.getters=f,i.extend=g,i.id=v,i}function M(t,n){var r,i=vt._wm||{},o={tmpls:[],links:{},bnds:[],_is:"template",render:E};return n&&(o=d(o,n)),o.markup=t,o.htmlTag||(r=Mt.exec(t),o.htmlTag=r?r[1].toLowerCase():""),r=i[o.htmlTag],r&&r!==i.div&&(o.markup=e.trim(o.markup)),o}function F(t,e){function n(i,o,a){var s,l,d,p=ft.onStore[t];if(i&&typeof i===Lt&&!i.nodeType&&!i.markup&&!i.getTgt&&!("viewModel"===t&&i.getters||i.extend)){for(l in i)n(l,i[l],o);return o||ot}return i&&""+i!==i&&(a=o,o=i,i=void 0),d=a?"viewModel"===t?a:a[r]=a[r]||{}:n,s=e.compile,void 0===o&&(o=s?i:d[i],i=void 0),null===o?i&&delete d[i]:(s&&(o=s.call(d,i,o,a,0)||{},o._is=t),i&&(d[i]=o)),p&&p(i,o,a,s),o}var r=t+"s";ot[r]=n}function V(t){mt[t]=mt[t]||function(e){return arguments.length?(gt[t]=e,mt):gt[t]}}function $(t){function e(e,n){this.tgt=t.getTgt(e,n),n.map=this}return st(t)&&(t={getTgt:t}),t.baseMap&&(t=d(d({},t.baseMap),t)),t.map=function(t,n){return new e(t,n)},t}function E(t,e,n,r,i,o){var a,s,l,d,p,u,c,f,g=r,v="";if(e===!0?(n=e,e=void 0):typeof e!==Lt&&(e=void 0),(l=this.tag)?(p=this,g=g||p.view,d=g._getTmpl(l.template||p.tmpl),arguments.length||(t=l.contentCtx&&st(l.contentCtx)?t=l.contentCtx(t):g)):d=this,d){if(!r&&t&&"view"===t._is&&(g=t),g&&t===g&&(t=g.data),u=!g,kt=kt||u,g||((e=e||{}).root=t),!kt||vt.useViews||d.useViews||g&&g!==it)v=O(d,t,e,n,g,i,o,l);else{if(g?(c=g.data,f=g.index,g.index=Ht):(g=it,c=g.data,g.data=t,g.ctx=e),lt(t)&&!n)for(a=0,s=t.length;a<s;a++)g.index=a,g.data=t[a],v+=d.fn(t[a],g,ft);else g.data=t,v+=d.fn(t,g,ft);g.data=c,g.index=f}u&&(kt=void 0)}return v}function O(t,e,n,r,i,o,a,s){var l,p,u,c,f,g,v,m,h,_,x,b,w,y="";if(s&&(h=s.tagName,b=s.tagCtx,n=n?Q(n,s.ctx):s.ctx,t===i.content?v=t!==i.ctx._wrp?i.ctx._wrp:void 0:t!==b.content?t===s.template?(v=b.tmpl,n._wrp=b.content):v=b.content||i.content:v=i.content,b.props.link===!1&&(n=n||{},n.link=!1)),i&&(a=a||i._.onRender,w=n&&n.link===!1,w&&i._.nl&&(a=void 0),n=Q(n,i.ctx),b=!s&&i.tag?i.tag.tagCtxs[i.tagElse]:b),(_=b&&b.props.itemVar)&&("~"!==_[0]&&D("Use itemVar='~myItem'"),_=_.slice(1)),o===!0&&(g=!0,o=0),a&&s&&s._.noVws&&(a=void 0),m=a,a===!0&&(m=void 0,a=i._.onRender),n=t.helpers?Q(t.helpers,n):n,x=n,lt(e)&&!r)for(u=g?i:void 0!==o&&i||new k(n,"array",i,e,t,o,a,v),u._.nl=w,i&&i._.useKey&&(u._.bnd=!s||s._.bnd&&s,u.tag=s),l=0,p=e.length;l<p;l++)c=new k(x,"item",u,e[l],t,(o||0)+l,a,u.content),_&&((c.ctx=d({},x))[_]=ft._cp(e[l],"#data",c)),f=t.fn(e[l],c,ft),y+=u._.onRender?u._.onRender(f,c):f;else u=g?i:new k(x,h||"data",i,e,t,o,a,v),_&&((u.ctx=d({},x))[_]=ft._cp(e,"#data",u)),u.tag=s,u._.nl=w,y+=t.fn(e,u,ft);return s&&(u.tagElse=b.index,b.contentView=u),m?m(y,u):y}function I(t,e,n){var r=void 0!==n?st(n)?n.call(e.data,t,e):n||"":"{Error: "+(t.message||t)+"}";return gt.onError&&void 0!==(n=gt.onError.call(e.data,t,n&&r,e))&&(r=n),e&&!e._lc?pt.html(r):r}function S(t){throw new ft.Err(t)}function D(t){S("Syntax error\n"+t)}function J(t,e,n,r,i){function o(e){e-=v,e&&h.push(t.substr(v,e).replace(jt,"\\n"))}function a(e,n){e&&(e+="}}",D((n?"{{"+n+"}} block has {{/"+e+" without {{"+e:"Unmatched or missing {{/"+e)+", in template:\n"+t))}function s(s,l,d,c,g,x,b,w,y,k,C,T){(b&&l||y&&!d||w&&":"===w.slice(-1)||k)&&D(s),x&&(g=":",c=Kt),y=y||n&&!i;var j,A,P,R=(l||n)&&[[]],N="",M="",F="",V="",$="",E="",O="",I="",S=!y&&!g;d=d||(w=w||"#data",g),o(T),v=T+s.length,b?f&&h.push(["*","\n"+w.replace(/^:/,"ret+= ").replace(At,"$1")+";\n"]):d?("else"===d&&(Nt.test(w)&&D('For "{{else if expr}}" use "{{else expr}}"'),R=_[9]&&[[]],_[10]=t.substring(_[10],T),A=_[11]||_[0]||D("Mismatched: "+s),_=m.pop(),h=_[2],S=!0),w&&L(w.replace(jt," "),R,e,n).replace(Rt,function(t,e,n,r,i,o,a,s){return"this:"===r&&(o="undefined"),s&&(P=P||"@"===s[0]),r="'"+i+"':",a?(M+=n+o+",",V+="'"+s+"',"):n?(F+=r+"j._cp("+o+',"'+s+'",view),',E+=r+"'"+s+"',"):e?O+=o:("trigger"===i&&(I+=o),"lateRender"===i&&(j="false"!==s),N+=r+o+",",$+=r+"'"+s+"',",u=u||$t.test(i)),""}).slice(0,-1),R&&R[0]&&R.pop(),p=[d,c||!!r||u||"",S&&[],q(V||(":"===d?"'#data',":""),$,E),q(M||(":"===d?"data,":""),N,F),O,I,j,P,R||0],h.push(p),S&&(m.push(_),_=p,_[10]=v,_[11]=A)):C&&(a(C!==_[0]&&C!==_[11]&&C,_[0]),_[10]=t.substring(_[10],T),_=m.pop()),a(!_&&C),h=_[2]}var l,d,p,u,c,f=gt.allowCode||e&&e.allowCode||mt.allowCode===!0,g=[],v=0,m=[],h=g,_=[,,g];if(f&&e._is&&(e.allowCode=f),n&&(void 0!==r&&(t=t.slice(0,-r.length-2)+xt),t=ht+t+bt),a(m[0]&&m[0][2].pop()[0]),t.replace(rt,s),o(t.length),(v=g[g.length-1])&&a(""+v!==v&&+v[10]===v[10]&&v[0]),n){for(d=B(g,t,n),c=[],l=g.length;l--;)c.unshift(g[l][9]);U(d,c)}else d=B(g,e);return d}function U(t,e){var n,r,i=0,o=e.length;for(t.deps=[],t.paths=[];i<o;i++){t.paths.push(r=e[i]);for(n in r)"_jsvto"!==n&&r.hasOwnProperty(n)&&r[n].length&&!r[n].skp&&(t.deps=t.deps.concat(r[n]))}}function q(t,e,n){return[t.slice(0,-1),e.slice(0,-1),n.slice(0,-1)]}function K(t,e){return"\n\t"+(e?e+":{":"")+"args:["+t[0]+"],\n\tprops:{"+t[1]+"}"+(t[2]?",\n\tctx:{"+t[2]+"}":"")}function L(t,e,n,r){function i(i,p,x,b,w,y,k,C,T,j,A,P,R,N,M,F,V,$,E,O,I){function S(t,n,i,s,l,d,p,f){var g="."===i;if(i&&(w=w.slice(n.length),/^\.?constructor$/.test(f||w)&&D(t),g||(t=(j?(r?"":"(ltOb.lt=ltOb.lt||")+"(ob=":"")+(s?'view.ctxPrm("'+s+'")':l?"view":"data")+(j?")===undefined"+(r?"":")")+'?"":view._getOb(ob,"':"")+(f?(d?"."+d:s?"":l?"":"."+i)+(p||""):(f=s?"":l?d||"":i,"")),t+=f?"."+f:"",t=n+("view.data"===t.slice(0,9)?t.slice(5):t)+(j?(r?'"':'",ltOb')+(A?",1)":")"):"")),u)){if(K="_linkTo"===o?a=e._jsvto=e._jsvto||[]:c.bd,L=g&&K[K.length-1]){if(L._cpfn){for(;L.sb;)L=L.sb;L.bnd&&(w="^"+w.slice(1)),L.sb=w,L.bnd=L.bnd||"^"===w[0]}}else K.push(w);_[m]=O+(g?1:0)}return t}b&&!C&&(w=b+w),y=y||"",x=x||p||R,w=w||T,j&&(j=!/\)|]/.test(I[O-1]))&&(w=w.slice(1).split(".").join("^")),A=A||$||"";var U,q,K,L,B,Q=")";if("["===A&&(A="[j._sq(",Q=")]"),!k||d||l){if(u&&V&&!d&&!l&&m&&(U=_[m-1],I.length-1>O-(U||0))){if(U=I.slice(U,O+i.length),q!==!0)if(K=a||f[m-1].bd,L=K[K.length-1],L&&L.prm){for(;L.sb&&L.sb.prm;)L=L.sb;B=L.sb={path:L.sb,bnd:L.bnd}}else K.push(B={path:K.pop()});V=_t+":"+U+" onerror=''"+xt,q=v[V],q||(v[V]=!0,v[V]=q=J(V,n,!0)),q!==!0&&B&&(B._cpfn=q,B.prm=c.bd,B.bnd=B.bnd||B.path&&B.path.indexOf("^")>=0)}return d?(d=!N,d?i:R+'"'):l?(l=!M,l?i:R+'"'):(x?(_[m]=O++,c=f[++m]={bd:[]},x):"")+(E?m?"":(g=I.slice(g,O),(o?(o=s=a=!1,"\b"):"\b,")+g+(g=O+i.length,u&&e.push(c.bd=[]),"\b")):C?(m&&D(t),u&&e.pop(),o="_"+w,s=b,g=O+i.length,u&&(u=c.bd=e[o]=[],u.skp=!b),w+":"):w?w.split("^").join(".").replace(ft.rPath,S)+(A?(c=f[++m]={bd:[]},h[m]=Q,A):y):y?y:F?(F=h[m]||F,h[m]=!1,c=f[--m],F+(A?(c=f[++m],h[m]=Q,A):"")):P?(h[m]||D(t),","):p?"":(d=N,l=M,'"'))}D(t)}var o,a,s,l,d,p,u=e&&e[0],c={bd:u},f={0:c},g=0,v=(n?n.links:u&&(u.links=u.links||{}))||it.tmpl.links,m=0,h={},_={};return"@"===t[0]&&(t=t.replace(Dt,".")),p=(t+(n?" ":"")).replace(ft.rPrm,i),!m&&p||D(t)}function B(t,e,n){var r,i,o,a,s,l,d,p,u,c,f,g,v,m,h,_,x,b,w,y,k,C,T,j,A,P,R,N,F,V,$,E,O,I=0,S=vt.useViews||e.useViews||e.tags||e.templates||e.helpers||e.converters,J="",q={},L=t.length;for(""+e===e?(b=n?'data-link="'+e.replace(jt," ").slice(1,-1)+'"':e,e=0):(b=e.tmplName||"unnamed",e.allowCode&&(q.allowCode=!0),e.debug&&(q.debug=!0),f=e.bnds,x=e.tmpls),r=0;r<L;r++)if(i=t[r],""+i===i)J+='\n+"'+i+'"';else if(o=i[0],"*"===o)J+=";\n"+i[1]+"\nret=ret";else{if(a=i[1],k=!n&&i[2],s=K(i[3],"params")+"},"+K(v=i[4]),V=i[6],$=i[7],i[8]?(E="\nvar ob,ltOb={},ctxs=",O=";\nctxs.lt=ltOb.lt;\nreturn ctxs;"):(E="\nreturn ",O=""),C=i[10]&&i[10].replace(At,"$1"),(A="else"===o)?g&&g.push(i[9]):(N=i[5]||gt.debugMode!==!1&&"undefined",f&&(g=i[9])&&(g=[g],I=f.push(1))),S=S||v[1]||v[2]||g||/view.(?!index)/.test(v[0]),(P=":"===o)?a&&(o=a===Kt?">":a+o):(k&&(w=M(C,q),w.tmplName=b+"/"+o,w.useViews=w.useViews||S,B(k,w),S=w.useViews,x.push(w)),A||(y=o,S=S||o&&(!ct[o]||!ct[o].flow),j=J,J=""),T=t[r+1],T=T&&"else"===T[0]),F=N?";\ntry{\nret+=":"\n+",m="",h="",P&&(g||V||a&&a!==Kt||$)){if(R=new Function("data,view,j,u","// "+b+" "+ ++I+" "+o+E+"{"+s+"};"+O),R._er=N,R._tag=o,R._bd=!!g,R._lr=$,n)return R;U(R,g),_='c("'+a+'",view,',c=!0,m=_+I+",",h=")"}if(J+=P?(n?(N?"try{\n":"")+"return ":F)+(c?(c=void 0,S=u=!0,_+(R?(f[I-1]=R,I):"{"+s+"}")+")"):">"===o?(d=!0,"h("+v[0]+")"):(p=!0,"((v="+v[0]+")!=null?v:"+(n?"null)":'"")'))):(l=!0,"\n{view:view,content:false,tmpl:"+(k?x.length:"false")+","+s+"},"),y&&!T){if(J="["+J.slice(0,-1)+"]",_='t("'+y+'",view,this,',n||g){if(J=new Function("data,view,j,u"," // "+b+" "+I+" "+y+E+J+O),J._er=N,J._tag=y,g&&U(f[I-1]=J,g),J._lr=$,n)return J;m=_+I+",undefined,",h=")"}J=j+F+_+(g&&I||J)+")",g=0,y=0}N&&!T&&(S=!0,J+=";\n}catch(e){ret"+(n?"urn ":"+=")+m+"j._err(e,view,"+N+")"+h+";}"+(n?"":"ret=ret"))}J="// "+b+(q.debug?"\ndebugger;":"")+"\nvar v"+(l?",t=j._tag":"")+(u?",c=j._cnvt":"")+(d?",h=j._html":"")+(n?(i[8]?", ob":"")+";\n":',ret=""')+J+(n?"\n":";\nreturn ret;");try{J=new Function("data,view,j,u",J)}catch(Q){D("Compiled template code:\n\n"+J+'\n: "'+(Q.message||Q)+'"')}return e&&(e.fn=J,e.useViews=!!S),J}function Q(t,e){return t&&t!==e?e?d(d({},e),t):t:e&&d({},e)}function H(t,n){var r,i,o=n.map,a=o&&o.propsArr;if(!a){if(a=[],typeof t===Lt||st(t))for(r in t)i=t[r],r===at||!t.hasOwnProperty(r)||n.props.noFunctions&&e.isFunction(i)||a.push({key:r,prop:i});o&&(o.propsArr=o.options&&a)}return W(a,n)}function W(t,n){var r,i,o,a=n.tag,s=n.props,l=n.params.props,d=s.filter,p=s.sort,u=p===!0,c=parseInt(s.step),f=s.reverse?-1:1;if(!lt(t))return t;if(u||p&&""+p===p?(r=t.map(function(t,e){return t=u?t:g(t,p),{i:e,v:""+t===t?t.toLowerCase():t}}),r.sort(function(t,e){return t.v>e.v?f:t.v<e.v?-f:0}),t=r.map(function(e){return t[e.i]})):(p||f<0)&&!a.dataMap&&(t=t.slice()),st(p)&&(t=t.sort(function(){return p.apply(n,arguments)})),f<0&&(!p||st(p))&&(t=t.reverse()),t.filter&&d&&(t=t.filter(d,n),n.tag.onFilter&&n.tag.onFilter(n)),l.sorted&&(r=p||f<0?t:t.slice(),a.sorted?e.observable(a.sorted).refresh(r):n.map.sorted=r),i=s.start,o=s.end,(l.start&&void 0===i||l.end&&void 0===o)&&(i=o=0),isNaN(i)&&isNaN(o)||(i=+i||0,o=void 0===o||o>t.length?t.length:+o,t=t.slice(i,o)),c>1){for(i=0,o=t.length,r=[];i<o;i+=c)r.push(t[i]);t=r}return l.paged&&a.paged&&$observable(a.paged).refresh(t),t}function Z(t,n,r){var i=this.jquery&&(this[0]||S("Unknown template")),o=i.getAttribute(Bt);return E.call(o&&e.data(i)[Qt]||dt(i),t,n,r)}function z(t){return Ut[t]||(Ut[t]="&#"+t.charCodeAt(0)+";")}function G(t,e){return qt[e]||""}function X(t){return void 0!=t?Vt.test(t)&&(""+t).replace(Ot,z)||t:""}function Y(t){return""+t===t?t.replace(It,z):t}function tt(t){return""+t===t?t.replace(St,G):t}var et=e===!1;e=e&&e.fn?e:t.jQuery;var nt,rt,it,ot,at,st,lt,dt,pt,ut,ct,ft,gt,vt,mt,ht,_t,xt,bt,wt,yt,kt,Ct="v1.0.6",Tt="_ocp",jt=/[ \t]*(\r\n|\n|\r)/g,At=/\\(['"])/g,Pt=/['"\\]/g,Rt=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,Nt=/^if\s/,Mt=/<(\w+)[>\s]/,Ft=/[\x00`><"'&=]/g,Vt=/[\x00`><\"'&=]/,$t=/^on[A-Z]|^convert(Back)?$/,Et=/^\#\d+_`[\s\S]*\/\d+_`$/,Ot=Ft,It=/[&<>]/g,St=/&(amp|gt|lt);/g,Dt=/\[['"]?|['"]?\]/g,Jt=0,Ut={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},qt={amp:"&",gt:">",lt:"<"},Kt="html",Lt="object",Bt="data-jsv-tmpl",Qt="jsvTmpl",Ht="For #index in nested block use #getIndex().",Wt={},Zt=t.jsrender,zt=Zt&&e&&!e.render,Gt={template:{compile:A},tag:{compile:T},viewModel:{compile:N},helper:{},converter:{}};if(ot={jsviews:Ct,sub:{rPath:/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,rPrm:/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,View:k,Err:l,tmplFn:J,parse:L,extend:d,extendCtx:Q,syntaxErr:D,onStore:{template:function(t,e){null===e?delete Wt[t]:t&&(Wt[t]=e)}},addSetting:V,settings:{allowCode:!1},advSet:a,_thp:i,_gm:r,_tg:function(){},_cnvt:h,_tag:y,_er:S,_err:I,_cp:o,_sq:function(t){return"constructor"===t&&D(""),t}},settings:{delimiters:p,advanced:function(t){return t?(d(vt,t),ft.advSet(),mt):vt}},map:$},(l.prototype=new Error).constructor=l,c.depends=function(){return[this.get("item"),"index"]},f.depends="index",k.prototype={get:u,getIndex:f,ctxPrm:v,getRsc:w,_getTmpl:m,_getOb:g,_is:"view"},ft=ot.sub,mt=ot.settings,!(Zt||e&&e.render)){for(nt in Gt)F(nt,Gt[nt]);if(pt=ot.converters,ut=ot.helpers,ct=ot.tags,ft._tg.prototype={baseApply:j,cvtArgs:_,bndArgs:b,ctxPrm:v},it=ft.topView=new k,e){if(e.fn.render=Z,at=e.expando,e.observable){if(Ct!==(Ct=e.views.jsviews))throw"JsObservable requires JsRender "+Ct;d(ft,e.views.sub),ot.map=e.views.map}}else e={},et&&(t.jsrender=e),e.renderFile=e.__express=e.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},e.isFunction=function(t){return"function"==typeof t},e.isArray=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},ft._jq=function(t){t!==e&&(d(t,e),e=t,e.fn.render=Z,delete e.jsrender,at=e.expando)},e.jsrender=Ct;gt=ft.settings,gt.allowCode=!1,st=e.isFunction,e.render=Wt,e.views=ot,e.templates=dt=ot.templates;for(yt in gt)V(yt);(mt.debugMode=function(t){return void 0===t?gt.debugMode:(gt.debugMode=t,gt.onError=t+""===t?function(){return t}:st(t)?t:void 0,mt)})(!1),vt=gt.advanced={useViews:!1,_jsv:!1},ct({"if":{render:function(t){var e=this,n=e.tagCtx,r=e.rendering.done||!t&&(n.args.length||!n.index)?"":(e.rendering.done=!0,void(e.selected=n.index));return r},contentCtx:!0,flow:!0},"for":{sortDataMap:$(W),init:function(t,e){this.setDataMap(this.tagCtxs)},render:function(t){var e,n,r,i,o,a=this,s=a.tagCtx,l=s.argDefault===!1,d=s.props,p=l||s.args.length,u="",c=0;if(!a.rendering.done){if(e=p?t:s.view.data,l)for(l=d.reverse?"unshift":"push",i=+d.end,o=+d.step||1,e=[],r=+d.start||0;(i-r)*o>0;r+=o)e[l](r);void 0!==e&&(n=lt(e),u+=s.render(e,!p||d.noIteration),c+=n?e.length:1),(a.rendering.done=c)&&(a.selected=s.index)}return u},setDataMap:function(t){for(var e,n,r,i=this,o=t.length;o--;)e=t[o],n=e.props,r=e.params.props,e.argDefault=void 0===n.end||e.args.length>0,n.dataMap=e.argDefault!==!1&&lt(e.args[0])&&(r.sort||r.start||r.end||r.step||r.filter||r.reverse||n.sort||n.start||n.end||n.step||n.filter||n.reverse)&&i.sortDataMap},flow:!0},props:{baseTag:"for",dataMap:$(H),init:a,flow:!0},include:{flow:!0},"*":{render:o,flow:!0},":*":{render:o,flow:!0},dbg:ut.dbg=pt.dbg=s}),pt({html:X,attr:X,encode:Y,unencode:tt,url:function(t){return void 0!=t?encodeURI(""+t):null===t?t:""}})}return gt=ft.settings,lt=(e||Zt).isArray,mt.delimiters("{{","}}","^"),zt&&Zt.views.sub._jq(e),e||Zt},window);
/*!
 * Bootstrap v3.3.0 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.0",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.0",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus","focus"==b.type)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.0",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c="prev"==a?-1:1,d=this.getItemIndex(b),e=(d+c)%this.$items.length;return this.$items.eq(e)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i="next"==b?"first":"last",j=this;if(!f.length){if(!this.options.wrap)return;f=this.$element.find(".item")[i]()}if(f.hasClass("active"))return this.sliding=!1;var k=f[0],l=a.Event("slide.bs.carousel",{relatedTarget:k,direction:h});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var m=a(this.$indicators.children()[this.getItemIndex(f)]);m&&m.addClass("active")}var n=a.Event("slid.bs.carousel",{relatedTarget:k,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger(n)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(n)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a(this.options.trigger).filter('[href="#'+b.id+'"], [data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.0",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":a.extend({},e.data(),{trigger:this});c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass("open")&&(e.trigger(b=a.Event("hide.bs.dropdown",f)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.0",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.0",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),e&&d.$element[0].offsetWidth,d.$element.addClass("in").attr("aria-hidden",!1),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$element.find(".modal-dialog").one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a('<div class="modal-backdrop '+e+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.checkScrollbar=function(){this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return 0;var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b,g=f&&f.selector;(e||"destroy"!=b)&&(g?(e||d.data("bs.tooltip",e={}),e[g]||(e[g]=new c(this,f))):e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.3.0",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c&&c.$tip&&c.$tip.is(":visible")?void(c.hoverState="in"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h="bottom"==h&&k.bottom+m>p.bottom?"top":"top"==h&&k.top-m<p.top?"bottom":"right"==h&&k.right+l>p.width?"left":"left"==h&&k.left-l<p.left?"right":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=this.tip(),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b,g=f&&f.selector;(e||"destroy"!=b)&&(g?(e||d.data("bs.popover",e={}),e[g]||(e[g]=new c(this,f))):e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.0",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.0",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.0",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)
}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.0",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=i?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a("body").height();"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);var validLang="en,ko,fr,de,zh,ru,es,ja,pt,ar",defaulLang="en",publicNotify_CB;function showPublicDialog(e,t,n,o,i,r){publicNotify_CB=i,n&&null!=n&&null!=n&&0<n.length?(t=$("#"+n).render({}),$(".pub-dialog-body").html(t),$(".modal-dialog [data-i18n-html]").each(function(){var t=$(this).attr("data-i18n-html"),n="";try{n=$.i18n.prop(t)}catch(e){n=t}$(this).html(n)}),$("[data-i18n-placeholder]").each(function(){var t=$(this).attr("data-i18n-placeholder"),n="";try{n=$.i18n.prop(t)}catch(e){n=t}$(this).attr("placeholder",n)})):$(".pub-dialog-body").html(t),$(".pub-dialog-title").html(e),$(".pub-dialog-btn").html(o),$("#public_dialog").modal("show"),null!=r&&r?$(".modal-footer").hide():$(".modal-footer").show()}function endPublicDialog(){if(publicNotify_CB&&"function"==typeof publicNotify_CB){var e=publicNotify_CB();if(null!=e&&null!=e&&0==e)return}$("#public_dialog").modal("hide")}function getStorageItem(e){return window.localStorage.getItem(e)}function setStorageItem(e,t){window.localStorage.setItem(e,t)}function removeStorageItem(e){var t=window.localStorage;return t.removeItem(t)}function isIOS(){return 0<=navigator.userAgent.toLowerCase().indexOf("ios")}function checkNav(){var e={weixin:!1,mobile:!1,android:!1,window:!1,linux:!1,apple:!1,firefox:!1,ie:!1,chrome:!1,safari:!1,iphone:!1,ipad:!1},t=navigator.userAgent.toLowerCase();return 0<=t.indexOf("windows")&&(e.windown=!0),0<=t.indexOf("micromessenger")&&(e.weixin=!0),0<=t.indexOf("windows")&&(e.window=!0),0<=t.indexOf("linux")&&(e.linux=!0),0<=t.indexOf("mac os x")&&(e.apple=!0),0<=t.indexOf("mobile")&&(e.mobile=!0),0<=t.indexOf("android")&&(e.andriod=!0),0<=t.indexOf("iphone")&&(e.iphone=!0),0<=t.indexOf("ipad")&&(e.ipad=!0),0<=t.indexOf("firefox")&&(e.firefox=!0),0<=t.indexOf("chrome")&&(e.chrome=!0),0<=t.indexOf("crios")&&(e.chrome=!0),!e.chrome&&0<=t.indexOf("safari")&&(e.safari=!0),e}function isWeixin(){return-1!=navigator.userAgent.toLowerCase().indexOf("micromessenger")}function checkNav(){var e={weixin:!1,mobile:!1,android:!1,window:!1,linux:!1,apple:!1,firefox:!1,ie:!1,chrome:!1,safari:!1,iphone:!1,ipad:!1,dnapp:!1,ios:!1},t=navigator.userAgent.toLowerCase();return 0<=t.indexOf("windows")&&(e.windown=!0),0<=t.indexOf("micromessenger")&&(e.weixin=!0),0<=t.indexOf("windows")&&(e.window=!0),0<=t.indexOf("linux")&&(e.linux=!0),0<=t.indexOf("mac os x")&&(e.apple=!0),0<=t.indexOf("mobile")&&(e.mobile=!0),0<=t.indexOf("android")&&(e.android=!0),0<=t.indexOf("iphone")&&(e.iphone=!0),0<=t.indexOf("ipad")&&(e.ipad=!0),0<=t.indexOf("firefox")&&(e.firefox=!0),0<=t.indexOf("chrome")&&(e.chrome=!0),0<=t.indexOf("crios")&&(e.chrome=!0),0<=t.indexOf("dnapp")&&(e.dnapp=!0),(e.iphone||e.ipad)&&(e.ios=!0),!e.chrome&&0<=t.indexOf("safari")&&(e.safari=!0),e}function getHashParam(e){var t=window.location.hash;if(null==e||null==e||0==e.length)return t;if(t.indexOf("?")<0)return null;var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=t.split("?")[1].match(n);return null!=o?decodeURIComponent(o[2]):null}function loadI18n(){jQuery.i18n.properties({name:"strings",path:"locales/",cache:!0,encoding:"UTF-8",mode:"both",language:getLocale(),callback:function(){try{$("[data-i18n-placeholder]").each(function(){$(this).attr("placeholder",$.i18n.prop($(this).data("i18n-placeholder")))}),$("[data-i18n-html]").each(function(){var t=$(this).data("i18n-html"),n="";try{n=$.i18n.prop(t)}catch(e){n=t}$(this).html(n)}),$("[data-i18n-text]").each(function(){var e,t=$(this).html(),n=/<(.*)>/;n.test(t)?(e=n.exec(t)[0],$(this).html(e+$.i18n.prop($(this).data("i18n-text")))):$(this).text($.i18n.prop($(this).data("i18n-text")))}),$("[data-i18n-value]").each(function(){$(this).val($.i18n.prop($(this).data("i18n-value")))})}catch(e){console.log(e)}}})}$(document).ready(function(){var l=getParam("l"),l1;null==l&&(l=getHashParam("l")),l&&0<=validLang.indexOf(l)&&(l1=getLocale(),l1!=l&&setLocale(l)),loadI18n();try{"function"==typeof eval(web_init)&&web_init()}catch(e){}});var g_touch_startX=-1,g_touch_endX=-1,g_touch_startY=-1,g_touch_endY=-1,RunSwipe=!1;function SwipeAction(n){window.ontouchstart=function(e){return console.log("touchStart-1"),e=e.touches[0],g_touch_startY=e.clientY,g_touch_startX=e.clientX,!0},window.ontouchmove=function(e){return e=e.touches[0],g_touch_endY=e.clientY,g_touch_endX=e.clientX,n(1,{x1:g_touch_startX,y1:g_touch_startY,x2:g_touch_endX,y2:g_touch_endY}),!0},window.ontouchend=function(e){if(-1!=g_touch_startX&&-1!=g_touch_startY&&-1!=g_touch_endX&&-1!=g_touch_endY){var t={x1:g_touch_startX,y1:g_touch_startY,x2:g_touch_endX,y2:g_touch_endY};return g_touch_endY=g_touch_endX=g_touch_startY=g_touch_startX=-1,n(2,t),!0}}}function ScrollAction(cb1,cb2,cb3,cb4){window.ontouchstart=function(e){return e=e.touches[0],g_touch_startY=e.clientY,g_touch_startX=e.clientX,!0},window.ontouchmove=function(e){return e=e.touches[0],g_touch_endY=e.clientY,g_touch_endX=e.clientX,cb3&&cb3(1,{x1:g_touch_startX,y1:g_touch_endX,x2:g_touch_endX,y2:g_touch_endY}),cb4&&cb4(1,{x1:g_touch_startX,y1:g_touch_endX,x2:g_touch_endX,y2:g_touch_endY}),!0},window.ontouchend=function(e){if(-1!=g_touch_startX&&-1!=g_touch_startY&&-1!=g_touch_endX&&-1!=g_touch_endY){var scrollTop=$(window).scrollTop(),totalHeight=$(document).height(),seeHeight=$(window).height(),w,w;if(10<g_touch_endY-g_touch_startY&&"function"==typeof eval(cb1)){var scrollTop=$(window).scrollTop();return scrollTop<5&&cb1(),g_touch_startY=-1,g_touch_endY=-1,!0}if(10<g_touch_startY-g_touch_endY&&"function"==typeof eval(cb2)){var scrollTop=$(window).scrollTop(),totalHeight=$(document).height(),seeHeight=$(window).height();return totalHeight<scrollTop+seeHeight+10&&cb2(),g_touch_startY=-1,g_touch_endY=-1,!0}return 10<g_touch_startX-g_touch_endX?("function"==typeof eval(cb3)&&(w=g_touch_startX-g_touch_endX,cb3(w,2)),g_touch_startX=-1,g_touch_endX=-1,!0):(10<g_touch_endX-g_touch_startX&&("function"==typeof eval(cb4)&&(w=g_touch_endX-g_touch_startX,cb4(w,2)),g_touch_startX=-1,g_touch_endX=-1),!0)}}}var confirm_cb=function(){};function confirm_ok(){confirm_cb(),$("#div-confirm-dialg").modal("hide")}function dn_confirm(e,t){var n;0==$("#div-confirm-dialg").length&&(n="",n+='<div id="div-confirm-dialg" class="modal fade dn-modal"  tabindex="-1" role="dialog">',n+='<div class="modal-dialog" role="document">',n+='<div class="modal-content">',n+='<div class="modal-header">',n+='<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>',n+='<h4 class="modal-title" id="confirm-title"></h4>',n+="</div>",n+='<div class="modal-body row">',n+='<div class="col-xs-12" id="confirm-body">',n+="</div></div>",n+='<div class="modal-footer" style="text-align: center">',n+='<button class="dn-btn-m" id="confirm-ok-btn" onclick="confirm_ok()"></button>',n+='<button class="dn-btn-m button" class="close" data-dismiss="modal">'+ib_close+"</button>",n+="</div></div></div></div>",$("body").append(n)),$("#confirm-title").html(e.title),$("#confirm-body").html(e.body),$("#confirm-ok-btn").html(e.action),$("#div-confirm-dialg").modal("show"),t&&(confirm_cb=t)}function dn_showinfo(e){var t;0==$("#div-info-dialg").length&&(t="",t+='<div id="div-info-dialg" class="modal fade dn-modal"  tabindex="-1" role="dialog">',t+='<div class="modal-dialog" role="document">',t+='<div class="modal-content">',t+='<div class="modal-header">',t+='<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>',t+='<h4 class="modal-title" id="showinfo-title"></h4>',t+="</div>",t+='<div class="modal-body row">',t+='<div class="col-xs-12" id="showinfo-body">',t+="</div></div>",t+='<div class="modal-footer" style="text-align: center">',t+='<button class="dn-btn-m button" class="close" data-dismiss="modal">'+ib_close+"</button>",t+="</div></div></div></div>",$("body").append(t)),$("#showinfo-title").html(e.title),$("#showinfo-body").html(e.body),$("#div-info-dialg").modal("show")}function show_notice(e){0==$("#div_alert_show").length&&$("body").append('<div id="div_alert_show" class="navbar-fixed-bottom alert alert-success" style="bottom:4rem;text-align:center;display: none"><a href="#" class="close" data-dismiss="alert">&times;</a><strong></strong><span id="alert_message" style="font-weight: bold;color: RED;font-size: 16px;"></span></div>'),$("#alert_message").html(e),$("#div_alert_show").show(),setTimeout(function(){$("#div_alert_show").hide()},5e3)}function enBtn(e){$("."+e).removeClass("dn-btn-disabled"),$("."+e).removeAttr("disabled")}function disBtn(e){$("."+e).addClass("dn-btn-disabled"),$("."+e).attr("disabled","true")}var input_cb=function(){},glo_uid,glo_token;function input_ok(){var e=$("#dialog-input-in").val();input_cb(e),$("#div-input-dialg").modal("hide")}function show_input(e,t){var n;0==$("#div-input-dialg").length&&(n="",n+='<div id="div-input-dialg" class="modal fade dn-modal"  tabindex="-1" role="dialog">',n+='<div class="modal-dialog" role="document">',n+='<div class="modal-content">',n+='<div class="modal-header">',n+='<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>',n+='<h4 class="modal-title" id="confirm-input-title"></h4>',n+="</div>",n+='<div class="modal-body row">',n+='<div class="col-xs-12" id="confirm-input-body"></div>',n+='<div class="col-xs-12"><input type="text" style="margin-top:1.2rem;border:1px solid #CCC" id="dialog-input-in"></div></div>',n+='<div class="modal-footer" style="text-align: center">',n+='<button class="dn-btn-m button" id="confirm-input-btn" onclick="input_ok()"></button>',n+='<button class="dn-btn-m button" class="close" data-dismiss="modal">'+ib_cancel+"</button>",n+="</div></div></div></div>",$("body").append(n)),$("#confirm-input-title").html(e.title),$("#confirm-input-body").html(e.body),$("#confirm-input-btn").html(e.action),$("#div-input-dialg").modal("show"),input_cb=t}function getBaseUrl(){return document.location.protocol+"//"+document.location.host+"/smart"}function runapi(e,t,n,o){var i="https://daniaokeji.com/led/api?_="+Math.random();console.log("RUN API:"+i+", ACTION:"+e);var r={},s=getLogin();s&&(r.uid=s.uid,r.sessionkey=s.token),r.chnl="0000",r.guid="0000",r.platform="H5",r.versionCode="12000";var a={};a.header=r,a.method=e,a.data=t,$.ajax({url:i,type:"post",cache:!1,async:!0,timeout:5e3,contentType:"application/json",data:JSON.stringify(a),dataType:"json",success:n,error:o})}function getParam(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}function getLogin(){var e=window.localStorage,t=e.getItem("LOGIN_UID");return null!=t&&{uid:t,token:e.getItem("LOGIN_TOKEN")}}function setLogin(e,t){var n=window.localStorage;n.setItem("LOGIN_UID",e),n.setItem("LOGIN_TOKEN",t),n.setItem("LOGIN_TIME",(new Date).getTime())}function delCookie(e){var t=new Date;t.setTime(t.getTime()-1);var n=getCookie(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toGMTString())}function logout(){delCookie("WX_TOKEN"),clearLogin(),window.location.reload()}function clearLogin(){var e=window.localStorage;e.removeItem("LOGIN_UID"),e.removeItem("LOGIN_TOKEN"),e.removeItem("LOGIN_TIME"),e.removeItem("HOSTFACTORY")}function setLocale(e){window.localStorage.setItem("LOCALE_LANG",e)}function getLocale(){var e=window.localStorage.getItem("LOCALE_LANG");return null!=e||(null!=(e=(e=navigator.language||navigator.userLanguage).substr(0,2))&&0!=e.length||(e=isWeixin()?"zh":"en"),-1==validLang.indexOf(e)&&(e=defaulLang)),e}function getCookie(e){return 0<document.cookie.length&&(c_start=document.cookie.indexOf(e+"="),-1!=c_start)?(c_start=c_start+e.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):null}function setCookie(e,t,n){var o=new Date;o.setTime(o.getTime()+n),document.cookie=e+"="+escape(t)+";expires="+o.toGMTString()}function base64ToUint8Array(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),o=new Uint8Array(n.length),i=0;i<n.length;++i)o[i]=n.charCodeAt(i);return o}function uInt8ArrayToBase64(e){for(var t="",n=e.byteLength,o=0;o<n;o++)t+=String.fromCharCode(e[o]);return window.btoa(t)}function buff2Base64(e){for(var t,n="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(e),r=i.byteLength,s=r%3,a=r-s,c=0;c<a;c+=3)n+=o[(16515072&(t=i[c]<<16|i[c+1]<<8|i[c+2]))>>18]+o[(258048&t)>>12]+o[(4032&t)>>6]+o[63&t];return 1==s?n+=o[(252&(t=i[a]))>>2]+o[(3&t)<<4]+"==":2==s&&(n+=o[(16128&(t=i[a]<<8|i[1+a]))>>8]+o[(1008&t)>>4]+o[(15&t)<<2]+"="),n}function RGB2HEX(e,t,n){return("#"+((256+e<<8|t)<<8|n).toString(16).slice(1)).toUpperCase()}function getPosition(e){for(var t=e.offsetLeft,n=e.offsetTop,o=e.offsetParent;null!=o;)t+=o.offsetLeft,n+=o.offsetTop,o=o.offsetParent;return{left:t,top:n}}function toThousands(e){for(var e=(e||0).toString(),t=/\d{3}$/,n="";t.test(e);){if(n=RegExp.lastMatch+n,e===RegExp.lastMatch){e="";break}n=","+n,e=RegExp.leftContext}return e&&(n=e+n),n}function num2Fix(e,t){for(var n=(e||0).toString(),o=t-n.length,i=0;i<o;i++)n="0"+n;return n}function getUrlProp(){return document.location.protocol}function getUrlHost(){return document.location.host}function getUrlPath(){var e=document.location.toString().split("//")[1],t=e.indexOf("/"),n=(e=e.substring(t)).lastIndexOf("/"),o="/";return-1<n&&(o=e.substring(0,n)+"/"),o}function dateFormat(e,t){if(null==t||null==t)return"";var n,o={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(var i in o)(n=new RegExp("("+i+")").exec(e))&&(e=e.replace(n[1],1==n[1].length?o[i]:o[i].padStart(n[1].length,"0")));return e}function RGB2HEX(e,t,n){return("#"+((256+e<<8|t)<<8|n).toString(16).slice(1)).toUpperCase()}function int2Hex(e){var t=e.toString(16),n=t.length;return 6<n?"#"+t:(e=["#000000","#00000","#0000","#000","#00","#0","#"])[n]+t}function colorRgb(e){var t=e.toLowerCase();if(0==t.indexOf("rgb")){var n=t.split("(")[1].split(",");return{r:parseInt(n[0]),g:parseInt(n[1]),b:parseInt(n[2])}}if(t&&/^#([0-9a-fA-f]{6})$/.test(t)){for(var o=[],i=1;i<7;i+=2)o.push(parseInt("0x"+t.slice(i,i+2)));return{r:o[0],g:o[1],b:o[2]}}return null}function getHexColor(e){var t=colorRgb(e);return RGB2HEX(t.r,t.g,t.b)}function randomInt(e){return Math.floor(Math.random()*e+1)}function listDeviceOnline(t){$.ajax({url:"https://s1.jsopec.com/listdev/",type:"get",cache:!1,async:!0,timeout:5e3,contentType:"application/json",dataType:"json",success:function(e){t(e)},error:function(e){console.log(e),t([])}})}function getDeviceInfo(e,t,n){var o="https://s1.jsopec.com/getdevice?id="+e;console.log(o),$.ajax({url:o,type:"get",cache:!1,async:!0,timeout:5e3,contentType:"application/json",dataType:"json",success:function(e){t(e)},error:function(e){console.log(e),n&&n(e)}})}function Uint8ArrayConcat(e,t){for(var n=e.length,o=t.length,i=new Uint8Array(n+o),r=0;r<n;r++)i[r]=e[r];for(r=0;r<o;r++)i[r+n]=t[r];return i}function colorToInt(e){var t=colorRgb(e);return t.r<<16|t.g<<8|t.b}function getByteLengthStr(e,t){for(var n="",o=0;o<e.length;o++){var i=bytesLength(n+=e.charAt(o));if(t<i)return n.substring(0,n.length-1);if(i==t)return n}return n}function bytesLength(e){for(var t=0,n=0,o=e.length;n<o;n++){var i=e.charCodeAt(n);if(i<128)t+=1;else if(i<2048)t+=2;else if(i<55296)t+=3;else if(i<56320){var r=e.charCodeAt(++n);if(!(n<o&&56320<=r&&r<=57343))throw new Error("UCS-2 String malformed");t+=4}else{if(i<57344)throw new Error("UCS-2 String malformed");t+=3}}return t}function ELM(e){return document.getElementById(e)}function T(e,t,n){var o=$("#"+t).render(n);$("#"+e).html(o),$("[data-i18n-html]").each(function(){var t=$(this).attr("data-i18n-html"),n="";try{n=$.i18n.prop(t)}catch(e){n=t}$(this).html(n)}),$("[data-i18n-placeholder]").each(function(){var t=$(this).attr("data-i18n-placeholder"),n="";try{n=$.i18n.prop(t)}catch(e){n=t}$(this).attr("placeholder",n)})}function C(e,t){T("content",e,t)}function E(e,t){document.getElementById(e).innerHTML=t}function HGET(e,t,n){var o=new XMLHttpRequest;o.onload=function(){200==this.status&&E(t,this.responseText),n&&n(this)},o.open("GET",e),o.responseType="text",o.send(null)}function AJAX(e,t,n){var o=new XMLHttpRequest;o.onload=function(){n&&n(this)},o.open("GET",e),o.send(JSON.stringify(t))}function showLoading(){show_notice("控制器加载中。。。。")}function hideLoading(){}function showError(e){show_notice(e)}var cmds={M_FIRST:0,M_WifiConfigRequest:101,M_WifiConfigResponse:102,M_WifiStatus:103,M_DeviceOnlineRequest:201,M_DeviceOnlineResponse:202,M_DeviceConnectRequest:203,M_DeviceConnectResponse:204,M_DeviceShakeHands:205,M_DeviceShakeHandsConfirm:206,M_ProxyConnectRequest:207,M_ProxyConnectRedirect:208,M_ProxyConnect:209,M_ProxyConnectConfirm:210,M_KeepAlive:215,M_DeviceDisconnect:216,M_DEV_AUTH_LOGIN:2101,M_SET_AUTH_TOKEN:2102,M_DEVICE_INFO_NOTIFY:2103,M_GET_RUNNING_STATUS:2104,M_POWER_STATUS_NOTIFY:2105,M_SCAN_APLIST:2201,M_SET_WIFI_PARAM:2202,M_GET_WIFI_PARAM:2203,M_CLEAR_WIFI_PARAM:2204,M_GET_WIFI_DETAIL:2205,M_SCAN_LIST_NOTIFY:2206,M_STOP_WIFI_SCAN:2207,M_END_AP_MODE:2208,M_SET_BACKUP_WIFI:2210,M_UI_START_SYNC:2410,M_UI_END_SYNC:2411,M_UI_SYNC_PACKET:2412,M_GET_LAYOUT_DIR:2501,M_SET_LAYOUT_DIR:2502,M_SET_DEVICE_NAME:2503,M_TIME_SYNC:2504,M_ENABLE_CLOUD:2505,M_DISABLE_CLOUD:2506,M_SET_MODE_LOOP:2507,M_SET_MODE_SINGLE:2508,M_SET_BRIGHTNESS:2509,M_LOCK_FRAME:2510,M_UNLOCK_FRAME:2511,M_SET_POWERON:2514,M_SET_POWEROFF:2515,M_PLAY_SPEEDUP:2516,M_PLAY_SPEEDDOWN:2517,M_SET_OUTPUT_PWM:2518,M_GET_OUTPUT_PWM:2519,M_INC_OUTPUT_PWM:2520,M_DEC_OUTPUT_PWM:2521,M_SAVE_OUTPUT_PWM:2522,M_TIMER_ADD:2530,M_TIMER_REMOVE:2531,M_TIMER_LIST:2532,M_TIMER_ENABLE:2533,M_TIMER_DISABLE:2534,M_TIMER_SAVE:2535,M_TIMER1_GET:2540,M_TIMER1_SET:2541,M_TIMER1_DISABLE:2542,M_REBOOT:2599,M_SET_PALETTE:2601,M_GET_PALETTE_LIST:2602,M_SET_COLOR_MODE:2603,M_PLAY_NEXT:2604,M_PLAY_PREV:2605,M_PLAY_EFFECT:2606,M_DS_SWITCH:2607,M_GET_MUSIC_SYNC:2608,M_SET_MUSIC_SYNC:2609,M_PLAY_INFO_NOTIFY:2610,M_BOOKMARK_ADD:2620,M_BOOKMARK_REMOVE:2621,M_BOOKMARK_GET:2622,M_BOOKMARK_ENABLE:2623,M_BOOKMARK_DISABLE:2624,M_BOOKMARK_CLEAR:2625,M_BOOKMARK_SAVE:2626,M_BOOKMARK_MULTIPLE_ADD:2627,M_DOODLE_START:2701,M_DOODLE_END:2702,M_DOODLE_SEND:2703,M_DYNAMIC_DOODLE_START:2704,M_DYNAMIC_DOODLE_END:2705,M_DYNAMIC_DOODLE_SEND:2706,M_ScrollTextStart:2707,M_ScrollTextSave:2708,M_ScrollTextEnd:2709,M_ScrollTextTest:2710,M_ScrollTextClear:2711,M_ScrollTextGetBitmap:2712,M_DisplayAreaUpdate:2720,M_GROUP_MEMBER_ADD:2801,M_GROUP_CREATE:2802,M_GROUP_JOIN:2803,M_GROUP_LEAVE:2804,M_GROUP_NOTIFY:2805,M_GROUP_PLAY:2806,M_GROUP_SET_COLOR:2807,M_GROUP_PLAY_NEXT:2808,M_GROUP_PLAY_PREV:2809,M_GROUP_LIST_MEMBERS:2810,M_GROUP_ENABLE:2811,M_GROUP_DISABLE:2812,M_GROUP_GET_INFO:2813,M_GROUP_SAVE:2814,M_GROUP_POLICY_SET:2815,M_GROUP_FRAME_FOWARD:2816,M_GROUP_NEIGHBOUR_SET:2817,M_GROUP_ESPNOW_START:2818,M_GROUP_ESPNOW_MESSAGE:2819,M_GROUP_DEVICE_NOTIFY:2820,M_START_INSTALL_EFFECT:2901,M_END_INSTALL_EFFECT:2902,M_REMOVE_EFFECT:2903,M_GET_EFFECT_LIST:2904,M_GET_EFFECT_DETAIL:2905,M_START_INSTALL_APP:2906,M_END_INSTALL_APP:2907,M_PLAY_APP:2908,M_REMOVE_APP:2909,M_GET_APP_DETAIL:2910,M_GET_APP_LIST:2911,M_START_UPDATE_FIRMWARE:2912,M_UPDATE_FIRMWARE_PACKET:2913,M_END_UPDATE_FIRMWARE:2914,M_START_INSTALL_EFFECTS:2915,M_INSTALL_EFFECTS_PACKET:2016,M_END_INSTALL_EFFECTS:2917,M_START_INSTALL_ANIMATION:2918,M_INSTALL_ANIMATION_PACKET:2919,M_END_INSTALL_ANIMATION:2920,M_START_UPDATE_LAYOUT:2921,M_UPDATE_LAYOUT_PACKET:2922,M_END_UPDATE_LAYOUT:2923,M_UPDATE_SETTINGS:2924,M_SET_START_BULB_ID:2980,M_GET_START_BULB_ID:2981,M_SET_BROKEN_BULBS:2982,M_GET_BROKEN_BULBS:2983,M_ENTER_TEST_MODE:9100,M_LEAVE_TEST_MODE:9101,M_TEST_ROWS_COLOR:9102,M_TEST_COLS_COLOR:9103,M_TEST_PIXELS_COLOR:9104,M_TEST_CLEAR_COLOR:9105,M_TEST_CLEAR_ALL:9106,M_TEST_IDS_COLOR:9107,M_TEST_SET_PIXEL:9108,M_XHR_SET_MODE:9701,M_XHR_UI_SYNC:9702,M_SET_AUTORUN_MODE:2512,M_LAST:9999},colorer,ctrl,ws;function DDP(){var s,h=1440,e=0,a={},o=0,i=0;function t(){return 65e3<=++e&&(e=0),e}function r(e){var t=new Uint8Array(20);t[0]=240,t[1]=4;var n=0;return e.sn&&(n=e.sn),t[2]=n>>8&255,t[3]=255&n,e.len&&(t[4]=e.len>>8&255,t[5]=255&e.len),e.mt&&(t[6]=e.mt>>8&255,t[7]=255&e.mt),t[8]=o>>24&255,t[9]=o>>16&255,t[10]=o>>8&255,t[11]=255&o,e.osn&&(t[12]=e.osn>>8&255,t[13]=255&e.osn),e.rcode&&(t[14]=255&e.rcode),e.ts&&(t[15]=255&e.ts),e.csum&&(t[16]=e.csum>>8&255,t[17]=255&e.csum),t}function p(e){if(255==e.datatype)return r(e);var t=new Uint8Array(10);t[0]=e.flag,t[1]=e.psn,t[2]=e.datatype,t[3]=1;var n=e.offset;t[4]=n>>24&255,t[5]=n>>16&255,t[6]=n>>8&255,t[7]=255&n;var o=e.psize;return t[8]=o>>8&255,t[9]=255&o,t}function c(e,t){return(255&e[t])<<8|255&e[t+1]}function l(e,t){return(255&e[t])<<24|(255&e[t+1])<<16|(255&e[t+2])<<8|255&e[t+3]}function u(e){var t={};if(e.length<10)return t;var n=e[0];if(n<240){if(t.isExt=!1,t.flag=e[0],t.sn=e[1],t.mt=e[2],t.target=e[3],t.offset=l(e,4),t.psize=c(e,8),225==n&&(t.cid=l(e,10),1==i&&t.cid!=SID))return!1}else if(t.isExt=!0,t.flag=e[0],t.from=e[1],t.sn=c(e,2),t.length=c(e,4),t.mt=c(e,6),t.cid=l(e,8),t.osn=c(e,12),t.rcode=e[14],t.ts=e[15],t.csum=c(e,16),t.zero=c(e,18),1==i&&t.cid!=SID)return!1;return t}function _(e,t){for(var n=e.length,o=t.length,i=new Uint8Array(n+o),r=0;r<n;r++)i[r]=e[r];for(r=0;r<o;r++)i[r+n]=t[r];return i}a[cmds.M_WifiConfigRequest]="WifiConfigRequest",a[cmds.M_WifiConfigResponse]="WifiConfigResponse",a[cmds.M_DEVICE_INFO_NOTIFY]="DeviceInfoNotify",a[cmds.M_KeepAlive]="SimpleMessage",a[cmds.M_PLAY_INFO_NOTIFY]="PlayInfoNotify",a[cmds.M_PLAY_NEXT]="SimpleMessage",a[cmds.M_SET_BRIGHTNESS]="SimpleMessage",a[cmds.M_SET_COLOR_MODE]="SetColorMode",a[cmds.M_ScrollTextStart]="ScrollTextSet",a[cmds.M_PLAY_EFFECT]="SimpleMessage",a[cmds.M_DYNAMIC_DOODLE_SEND]="DynamicDoodleRequest",a[cmds.M_SET_MUSIC_SYNC]="SimpleMessage",a[cmds.M_SCAN_LIST_NOTIFY]="WifiScanList2",a[cmds.M_DEV_AUTH_LOGIN]="SimpleMessage",a[cmds.M_SET_AUTH_TOKEN]="SimpleMessage",a[cmds.M_SET_DEVICE_NAME]="SimpleMessage",a[cmds.M_TIME_SYNC]="TimeSync",a[cmds.M_SET_LAYOUT_DIR]="SimpleMessage",a[cmds.M_UI_SYNC_PACKET]="UiSyncPacket",a[cmds.M_DeviceOnlineRequest]="DeviceOnlineRequest",a[cmds.M_DeviceConnectRequest]="DeviceConnectRequest",a[cmds.M_DeviceConnectResponse]="DeviceConnectResponse",a[cmds.M_DeviceShakeHands]="DeviceShakeHands",a[cmds.M_DeviceShakeHandsConfirm]="DeviceShakeHandsConfirm",a[cmds.M_XHR_SET_MODE]="SimpleMessage",a[cmds.M_XHR_UI_SYNC]="XhrUiSync",a[cmds.M_SET_AUTORUN_MODE]="SimpleMessage",a[cmds.M_SET_BACKUP_WIFI]="SimpleMessage",a[cmds.M_POWER_STATUS_NOTIFY]="SimpleMessage",this.setCid=function(e){o=e},this.setSocket=function(e){0},this.getMessageId=t,this.setProto=function(e){s=e,console.log("in SETTING PROTO....")},this.setPeer=function(e,t){0},this.decode=function(e){var t,n,o={};return o.header=u(e),o.header.isExt?!(t=a[o.header.mt])||(n=s.lookupType(t))&&(o.obj=n.decode(e.slice(20))):225==o.header.flag?o.obj=e.slice(14):o.obj=e.slice(10),o},this.getSimpleHeaderBytes=function(e){return r({sn:t(),mt:e})},this.getExtHeaderPacket=function(e,t){return r({sn:e,mt:t})},this.getMessageBytes=function(e,t){var n=a[e];if(n){var o=s.lookupType(n);if(!o)return console.log("unknown type",n),!1;var i=o.verify(t);if(i)return console.log("verify data failed",i),!1;var r=o.create(t);return o.encode(r).finish()}return console.log("unknown mt",e),!1},this.mkOrginDdp=function(e,t){var n=h,o=t.length,i=parseInt(o/n),r=o%n,s={datatype:e,sn:ws.getNextMessageId(),mt:e},a=[];if(0==i){s.psn=0,s.flag=225,s.psize=o,s.offset=0,s.datatype=e;var c=_(p(s),t);return a.push(c),a}for(var l=0,u=0,f=0;f<=i;f++){var d=n;if(f==i){if(0==r)break;d=r}255<u&&(u=0),s.psn=u,s.flag=225,s.psize=d,s.offset=l;c=_(p(s),t.slice(l,l+d));a.push(c),l+=n,u++}return a},this.decodeHeader=u,this.setCheckSid=function(e){i=e}}function WS(){var t,o,i,r,c=[],n=1,l=!1,s=!1,u=!1;function a(){console.log(new Date,"WS CONNECT"),u=!1,(t=new WebSocket(o)).onopen=function(e){!function(){n=1,LastOnLine=(new Date).getTime(),u=!0,console.log(new Date,"WS ONOPEN"),i&&i();home.wsOpen()}()},t.onclose=function(e){!function(){u=!1,console.log(new Date,"WS ONCLOSE"),home.wsClose(),t=null,s||setTimeout(function(){console.log(new Date,"WS RECONNECT"),u=!1,t&&1==t.readyState&&(t.close(),t=null),a()},3e3);r&&r()}()},t.onmessage=function(e){!function(e){if(LastOnLine=(new Date).getTime(),u=!0,s)return;{if("string"==typeof e.data){var a=JSON.parse(e.data);return console.log(JSON.stringify(a))}var t=new FileReader;t.onload=function(e){var t=new Uint8Array(this.result);if(t[0]<240)l&&"function"==typeof l&&(a=ddp.decode(t))&&l(a);else{var n=ddp.decodeHeader(t);if(n.isExt&&n.mt!=cmds.M_KeepAlive){n.mt;for(var o=(new Date).getTime(),i=0;i<c.length;i++){var r,s=c[i];(0<n.osn&&n.osn==s.sn||n.mt==s.mt&&0==s.sn)&&(0<s.sn&&0==s.mt&&c.splice(i,1),(r=s.cb)&&"function"==typeof r&&r(ddp.decode(t)))}(new Date).getTime()}}},t.readAsArrayBuffer(e.data)}}(e)},t.onerror=function(e){console.log(new Date,"WS ONERROR")}}function f(){var e=n;return n++,e}function d(e){if(!u)return!1;t&&1==t.readyState&&(t.send(e),(new Date).getTime())}this.isOnline=function(){return u},this.init=function(e,t,n){u=!1,o="ws://"+e+":8080/ws",console.log(new Date,"WS INIT",o),i=t,r=n,a()},this.regBinaryMessageCB=function(e){l=e},this.unregBinaryMessageCB=function(){l=!1},this.destroy=function(){console.log(new Date,"WS DESTROY"),u=!1,t&&t.close(),s=!0},this.stop=function(){console.log(new Date,"WS STOP"),u=!1,t&&t.close()},this.sendMessage=function(e,t,n){if(!u)return!1;var o,i=f(),r=ddp.getExtHeaderPacket(i,e);if(t){var s=ddp.getMessageBytes(e,t);if(!s)return!1;o=Uint8ArrayConcat(r,s)}else o=r;return 215!=e&&console.log(new Date,"SEND MESSAGE MT=",e,"mid=",i,t),d(o),n&&"function"==typeof n&&c.push({mt:0,sn:i,tag:"NONE",cb:n}),!0},this.getNextMessageId=f,this.sendBytes=d,this.regNotify=function(e,t,n){for(var o=0;o<c.length;o++){if((i=c[o]).mt==e&&i.tag==t)return}var i={mt:e,tag:t,sn:0,cb:n};c.push(i)},this.unregNotify=function(e,t){for(var n=c.length-1;0<=n;n--){var o=c[n];o.mt==e&&o.tag==t&&(console.log("unRegNotify:"+JSON.stringify(o)),c.splice(n,1))}}}function TextMode(){var a=2,c=0,l=["#000000"],u=["#FF453A"],r=[{tx:["#32D74B","#FF9F0A"],bg:["#000000"]},{tx:["#FF453A","#AF52DE"],bg:["#000000"]},{tx:["#AF52DE","#0A84FF"],bg:["#000000"]},{tx:["#FF453A","#32D74B","#0A84FF","#FF9F0A","#AF52DE"],bg:["#000000"]},{tx:["#FF453A","#32D74B","#0A84FF"],bg:["#000000"]},{tx:["#32D74B","#0A84FF","#FF9F0A"],bg:["#000000"]},{tx:["#32D74B","#FF9F0A","#AF52DE"],bg:["#000000"]},{tx:["#FFFFFF"],bg:["#000000"]}],s=0;function f(e){l=r[e].bg,u=r[e].tx,$(".text_color").css("background-color","");for(e=0;e<u.length;e++)$(".text_color_"+e).css("background-color",u[e]);for(e=0;e<l.length;e++)$(".text_bgcolor_"+e).css("background-color",l[e])}this.stop=function(){console.log("extra textMode")},this.start=function(){console.log("into TextMode"),C("T_TEXT",{}),$(".div_header").show(),$("#main_menu").show(),$("#content").css("height",winHeight-100+"px");var e,t,n,o,i=winHeight-332;2*i<winHeight&&(e=(i=winHeight/2)+232+55,$("#content").css("height",e+"px")),t=i,n=$(window).width(),o=winHeight-t,$("#sync_container").css("width",n+"px"),$("#sync_container").css("height",o+"px"),$(".go_right").css("left",n-30+"px"),$(".go_left").css("top",o/2-30+"px"),$(".go_right").css("top",o/2-30+"px"),home.startUiSync("sync_cav",i,i-10,$(window).width(),$(window).width()-80),$("#tx_time").on("change",function(){var e=parseInt($(this).val());(isNaN(e)||300<e||e<1)&&(e=60),$(this).val(e)}),$("#tx_text").on("input",function(){var e=$(this).val();80<bytesLength(e)&&(e=e.substring(0,e.length-1),$(this).val(e))}),$(".cb_speed").on("click",function(){switch(a=parseInt($(this).attr("speed"))){case 1:$(".speed_low").css("background-color","#F9C406"),$(".speed_mid").css("background-color","#FFFFFF"),$(".speed_hig").css("background-color","#FFFFFF");break;case 2:$(".speed_low").css("background-color","#FFFFFF"),$(".speed_mid").css("background-color","#F9C406"),$(".speed_hig").css("background-color","#FFFFFF");break;case 3:$(".speed_low").css("background-color","#FFFFFF"),$(".speed_mid").css("background-color","#FFFFFF"),$(".speed_hig").css("background-color","#F9C406")}}),$(".text_bg_anim").on("click",function(){0==(c=1==c?0:1)?($(".text_bg_anim").addClass("text_bg_anim_off"),$(".text_bg_anim").removeClass("text_bg_anim_on")):($(".text_bg_anim").addClass("text_bg_anim_on"),$(".text_bg_anim").removeClass("text_bg_anim_off"))}),$(".text_color_p").on("click",function(){var n=$(this).attr("cid");colorer.chooseColor(function(e){var t=RGB2HEX(e.r,e.g,e.b);$(".text_color_"+n).css("background-color",t),u[n]=t})}),$(".tx_color_comm").on("click",function(){r.length<=++s&&(s=0),f(s)}),$(".color_bg").on("click",function(){var n=$(this).attr("cid");colorer.chooseColor(function(e){var t=RGB2HEX(e.r,e.g,e.b);$(".text_bgcolor_"+n).css("background-color",t),l[n]=t})}),$(".text_start").on("click",function(){var e=parseInt($("#tx_time").val());(isNaN(e)||300<e||e<1)&&(e=60),$("#tx_time").val(e),console.log("准备发送文字");var t=$.trim($("#tx_text").val());if(0!=t.length&&!(80<bytesLength(t))){var n={};n.text=t,n.blendingMode=c,n.playSpeed=a,n.playDuration=e;var o=[];for(idx in u){!(i=u[idx])||i.length<6||(r=colorToInt(i),console.log("add txColor",i,r),o.push(r))}n.color=o;var i,r,s=[];for(idx in l){!(i=l[idx])||i.length<6||(r=colorToInt(i),console.log("add bgColor",i,r),s.push(r))}n.bgcolor=s,console.log(JSON.stringify(n)),ws.sendMessage(cmds.M_ScrollTextStart,n)}}),$(".go_left").on("click",function(){ws.sendMessage(cmds.M_PLAY_PREV)}),$(".go_right").on("click",function(){ws.sendMessage(cmds.M_PLAY_NEXT)}),$(".text_stop").on("click",function(){ws.sendMessage(cmds.M_ScrollTextEnd)}),$(".text_reset").on("click",function(){$("#tx_text").val(""),$("#tx_time").val("60"),$(".cb_speed").prop("checked",!1),a=2,$(".speed_low").css("background-color","#FFFFFF"),$(".speed_mid").css("background-color","#F9C406"),$(".speed_hig").css("background-color","#FFFFFF"),f(s=0),c=0,$(".text_bg_anim").addClass("text_bg_anim_off"),$(".text_bg_anim").removeClass("text_bg_anim_on")}),$(".text_tab_ctrl").on("click",function(){$(".text_tab_color").removeClass("tab_on"),$(".text_tab_color").addClass("tab_off"),$(this).removeClass("tab_off"),$(this).addClass("tab_on"),$(".text_show_ctrl").show(),$(".text_show_color").hide()}),$(".text_tab_color").on("click",function(){$(".text_tab_ctrl").removeClass("tab_on"),$(".text_tab_ctrl").addClass("tab_off"),$(this).removeClass("tab_off"),$(this).addClass("tab_on"),$(".text_show_color").show(),$(".text_show_ctrl").hide()}),f(s=0)}}function Gallery(){this.start=function(){if(deviceInfo.online){home.setLastOp("GALLERY"),$("#main_menu").hide();var e=getStorageItem("EffectList:"+deviceInfo.sn);try{EffectList=JSON.parse(e)}catch(e){EffectList=[]}EffectList&&null!=EffectList&&null!=EffectList||(EffectList=[]);for(var t=deviceInfo.effectId,n=deviceInfo.effamount,o=[],i=0;i<n;i++){var r={};r.cid=i;var s="";try{s=EffectList[i]}catch(e){s=""}null!=s&&null!=s&&0!=s.length||(s=""),r.name=s;var a=t+"_",a=i<10?t+"_0"+i+".gif":t+"_"+i+".gif";r.image="http://cdn.daniaokeji.com/images/effect/"+t+"/"+a,o.push(r)}C("T_EFFECT_LIST",{list:o}),$(".effect_item").on("click",function(){var e=$(this).attr("cid");ws.sendMessage(cmds.M_PLAY_EFFECT,{i1:3,i2:parseInt(e)}),$("#main_menu").show(),home.runAction("ctrl")})}}}function Settings(){var i={timerState:0,openTime:0,closeTime:0,backWifi:"",secure:!1,name:""};function r(e,t,n,o){var i="http://"+e+":8080/"+t;n&&(i+="?"+n),$.ajax({url:i,type:"get",cache:!1,async:!0,timeout:5e3,contentType:"application/json",dataType:"json",success:function(e){o&&"function"==typeof o&&o(e)}})}this.start=function(){C("T_SETTINGS",{}),$("#content").css("height",winHeight-topHeight+"px"),home.setLastOp("SETTINGS"),$(".item_reboot").on("click",function(){showPublicDialog(title_setting_reboot,im_setting_rebbot,"",ib_setting_reboot,function(){ws.sendMessage(cmds.M_REBOOT)})}),$(".item_net_bak").on("click",function(){showPublicDialog(title_setting_net,"","T_SETTING_NET_BAK",ib_setting_save,function(){i.backWifi=$.trim($("#in_bak_name").val()),r(deviceInfo.ip,"102","n="+i.backWifi+"&s="+$("#in_bak_pass").val(),!1)}),$("#in_bak_name").val(i.backWifi)}),$(".item_timer").on("click",function(){showPublicDialog(title_setting_timer,"","T_SETTING_TIMER",ib_setting_save,function(){var e=$("#in_timer_start").val().split(":");i.openTime=num2Fix(parseInt(e[0]),2)+num2Fix(parseInt(e[1]),2),4!=i.openTime.length&&(i.openTime="1800"),e=$("#in_timer_close").val().split(":"),i.closeTime=num2Fix(parseInt(e[0]),2)+num2Fix(parseInt(e[1]),2),4!=i.closeTime.length&&(i.closeTime="2359");var t=$("#cb_timer_enable").prop("checked");i.timerState=t?1:0,console.log(JSON.stringify(i));var n=new Date,o="te="+i.timerState+"&on="+i.openTime+"&off="+i.closeTime;o+="&to="+n.getTimezoneOffset()+"&ts="+parseInt(Date.now()/1e3),r(deviceInfo.ip,"101",o,!1),t?$("#div_timer_set").html(i.openTime.substring(0,2)+":"+i.openTime.substring(2,4)+" - "+i.closeTime.substring(0,2)+":"+i.closeTime.substring(2,4)):$("#div_timer_set").html("")}),$("#cb_timer_enable").prop("checked",!0),i.openTime&&4==i.openTime.length&&$("#in_timer_start").val(i.openTime.substring(0,2)+":"+i.openTime.substring(2,4)),i.closeTime&&4==i.closeTime.length&&$("#in_timer_close").val(i.closeTime.substring(0,2)+":"+i.closeTime.substring(2,4))}),$(".item_layout_set").on("click",function(){var e=$(this).attr("op");switch(e){case"0":m=imenu_setting_layout_0;break;case"4":m=imenu_setting_layout_1;break;case"5":m=imenu_setting_layout_2;break;case"6":m=imenu_setting_layout_3}showPublicDialog(m,im_layout_policy,"",ib_setting_savelayout,function(){ws.sendMessage(cmds.M_SET_LAYOUT_DIR,{i1:parseInt(e)})})}),$(".item_device_name").on("click",function(){showPublicDialog(title_setting_name,"","T_SETTING_NAME",ib_setting_save,function(){i.name=getByteLengthStr($.trim($("#in_device_name").val()),16),console.log(i.name),r(deviceInfo.ip,"103","v="+i.name,!1)}),$("#in_device_name").val(i.name)}),$(".item_device_secret").on("click",function(){1==i.secure?showPublicDialog(title_setting_modifysecret,"","T_SETTING_SECRET1",ib_setting_save,function(){var e=$("#in_secret_org").val(),t=$("#in_secret_new1").val();t==$("#in_secret_new2").val()&&r(deviceInfo.ip,"104","o="+e+"&v="+t,!1)}):showPublicDialog(title_setting_addsecret,"","T_SETTING_SECRET2",ib_setting_save,function(){var e=$("#in_secret_new1").val();e==$("#in_secret_new2").val()&&0!=e.length&&r(deviceInfo.ip,"104","v="+e,!1)})}),$(".item_about").on("click",function(){var e=home.m301(),t={version:VERSION,plat:PLAT,path:H5PATH,devid:e.devid,chipType:e.chipType,fwtag:e.ftag,fv:e.fv,ip:e.localIP,mf:e.mf,type:e.type,width:e.width,height:e.height,freemem:e.freemem};console.log(JSON.stringify(t));var n=$("#T_SETTING_ABOUT").render(t);showPublicDialog(title_setting_about,n,"",ib_ok,function(){})}),r(deviceInfo.ip,"100",!1,function(e){console.log(JSON.stringify(e)),e.on&&4==e.on.length?i.openTime=e.on:i.openTime="1800",e.off&&4==e.on.length?i.closeTime=e.off:i.closeTime="2359",e.te&&1==e.te?(i.timerState=1,$("#div_timer_set").html(i.openTime.substring(0,2)+":"+i.openTime.substring(2,4)+" - "+i.closeTime.substring(0,2)+":"+i.closeTime.substring(2,4))):(i.timerState=0,$("#div_timer_set").html("")),e.bw&&(i.backWifi=e.bw),e.s&&1==e.s&&(i.secure=1),e.n&&0<e.n.length&&(i.name=e.n)})}}function MusicShow(){function s(e){ws.sendMessage(cmds.M_SET_MUSIC_SYNC,{i1:e}),$("#div_mode_name").html(im_music_mode+"-"+(e+1))}this.start=function(){for(var e=deviceInfo.musicModes,t=[],n=0;n<e;n++){var o={id:n,name:im_music_mode+"-"+(n+1)};t.push(o)}home.setLastOp("MUSIC"),C("T_MUSIC",{list:t}),5!=deviceInfo.runMode&&(deviceInfo.runModeId=0);for(n=0;n<e;n++)n==deviceInfo.runModeId?$(".mode_music_"+n).addClass("music_mode_sel"):$(".mode_music_"+n).addClass("music_mode_unsel");$(".div_header").show(),$("#main_menu").show();var i=winHeight-100,r=winHeight-50-3-50-60-(60*e+5);r<240&&(i+=240-r+55,r=240),$("#content").css("height",i+"px"),$("#sync_container").css("width",$(window).width()+"px"),$("#sync_container").css("height",r+"px"),home.startUiSync("sync_cav",r,r-20,$(window).width(),$(window).width()),$(".mode_music").on("click",function(){s(parseInt($(this).attr("mid"))),$(".music_mode_sel").addClass("music_mode_unsel"),$(".music_mode_sel").removeClass("music_mode_sel"),$(this).removeClass("music_mode_unsel"),$(this).addClass("music_mode_sel")}),$(".exit_music").on("click",function(){ws.sendMessage(cmds.M_SET_MUSIC_SYNC,{i1:999}),deviceInfo.runMode=3,home.setTitle(0==deviceInfo.name.length?deviceInfo.sn:deviceInfo.name),home.selectMenu("ctrl")}),5!=deviceInfo.runMode&&s(0)},this.stop=function(){console.log("music mode ended")}}!function(undefined){"use strict";var Ke,Le,Me,Oe;Ke={1:[function(e,t,n){t.exports=function(e,t){var n=new Array(arguments.length-1),r=0,o=2,s=!0;for(;o<arguments.length;)n[r++]=arguments[o++];return new Promise(function(o,i){n[r]=function(e){if(s)if(s=!1,e)i(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t)}};try{e.apply(t||null,n)}catch(e){s&&(s=!1,i(e))}})}},{}],2:[function(e,t,n){var o=n;o.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;1<--t%4&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var l=new Array(64),c=new Array(123),i=0;i<64;)c[l[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;o.encode=function(e,t,n){for(var o,i=null,r=[],s=0,a=0;t<n;){var c=e[t++];switch(a){case 0:r[s++]=l[c>>2],o=(3&c)<<4,a=1;break;case 1:r[s++]=l[o|c>>4],o=(15&c)<<2,a=2;break;case 2:r[s++]=l[o|c>>6],r[s++]=l[63&c],a=0}8191<s&&((i=i||[]).push(String.fromCharCode.apply(String,r)),s=0)}return a&&(r[s++]=l[o],r[s++]=61,1===a&&(r[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,r.slice(0,s))),i.join("")):String.fromCharCode.apply(String,r.slice(0,s))};var u="invalid encoding";o.decode=function(e,t,n){for(var o,i=n,r=0,s=0;s<e.length;){var a=e.charCodeAt(s++);if(61===a&&1<r)break;if((a=c[a])===undefined)throw Error(u);switch(r){case 0:o=a,r=1;break;case 1:t[n++]=o<<2|(48&a)>>4,o=a,r=2;break;case 2:t[n++]=(15&o)<<4|(60&a)>>2,o=a,r=3;break;case 3:t[n++]=(3&o)<<6|a,r=0}}if(1===r)throw Error(u);return n-i},o.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},{}],3:[function(e,t,n){function f(t,n){"string"==typeof t&&(n=t,t=undefined);var c=[];function l(e){if("string"!=typeof e){var t=u();if(f.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var n=Object.keys(e),o=new Array(n.length+1),i=new Array(n.length),r=0;r<n.length;)o[r]=n[r],i[r]=e[n[r++]];return o[r]=t,Function.apply(null,o).apply(null,i)}return Function(t)()}for(var s=new Array(arguments.length-1),a=0;a<s.length;)s[a]=arguments[++a];if(a=0,e=e.replace(/%([%dfijs])/g,function(e,t){var n=s[a++];switch(t){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),a!==s.length)throw Error("parameter count mismatch");return c.push(e),l}function u(e){return"function "+(e||n||"")+"("+(t&&t.join(",")||"")+"){\n  "+c.join("\n  ")+"\n}"}return l.toString=u,l}(t.exports=f).verbose=!1},{}],4:[function(e,t,n){function o(){this._listeners={}}(t.exports=o).prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},o.prototype.off=function(e,t){if(e===undefined)this._listeners={};else if(t===undefined)this._listeners[e]=[];else for(var n=this._listeners[e],o=0;o<n.length;)n[o].fn===t?n.splice(o,1):++o;return this},o.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],o=1;o<arguments.length;)n.push(arguments[o++]);for(o=0;o<t.length;)t[o].fn.apply(t[o++].ctx,n)}return this}},{}],5:[function(e,t,n){t.exports=a;var r=e(1),s=e(7)("fs");function a(n,o,i){return o="function"==typeof o?(i=o,{}):o||{},i?!o.xhr&&s&&s.readFile?s.readFile(n,function(e,t){return e&&"undefined"!=typeof XMLHttpRequest?a.xhr(n,o,i):e?i(e):i(null,o.binary?t:t.toString("utf8"))}):a.xhr(n,o,i):r(a,this,n,o)}a.xhr=function(e,n,o){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4!==i.readyState)return undefined;if(0!==i.status&&200!==i.status)return o(Error("status "+i.status));if(n.binary){var e=i.response;if(!e){e=[];for(var t=0;t<i.responseText.length;++t)e.push(255&i.responseText.charCodeAt(t))}return o(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return o(null,i.responseText)},n.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",e),i.send()}},{1:1,7:7}],6:[function(e,t,n){function o(e){function t(e,t,n,o){var i,r=t<0?1:0;r&&(t=-t),0===t?e(0<1/t?0:2147483648,n,o):isNaN(t)?e(2143289344,n,o):e(34028234663852886e22<t?(r<<31|2139095040)>>>0:t<11754943508222875e-54?(r<<31|Math.round(t/1401298464324817e-60))>>>0:(r<<31|(i=Math.floor(Math.log(t)/Math.LN2))+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,o)}function n(e,t,n){var o=e(t,n),i=2*(o>>31)+1,r=o>>>23&255,s=8388607&o;return 255==r?s?NaN:1/0*i:0==r?1401298464324817e-60*i*s:i*Math.pow(2,r-150)*(8388608+s)}function o(e,t,n){a[0]=e,t[n]=c[0],t[n+1]=c[1],t[n+2]=c[2],t[n+3]=c[3]}function i(e,t,n){a[0]=e,t[n]=c[3],t[n+1]=c[2],t[n+2]=c[1],t[n+3]=c[0]}function r(e,t){return c[0]=e[t],c[1]=e[t+1],c[2]=e[t+2],c[3]=e[t+3],a[0]}function s(e,t){return c[3]=e[t],c[2]=e[t+1],c[1]=e[t+2],c[0]=e[t+3],a[0]}var a,c,l,u,f,d;function h(e,t,n,o,i,r){var s,a,c=o<0?1:0;c&&(o=-o),0===o?(e(0,i,r+t),e(0<1/o?0:2147483648,i,r+n)):isNaN(o)?(e(0,i,r+t),e(2146959360,i,r+n)):17976931348623157e292<o?(e(0,i,r+t),e((c<<31|2146435072)>>>0,i,r+n)):o<22250738585072014e-324?(e((s=o/5e-324)>>>0,i,r+t),e((c<<31|s/4294967296)>>>0,i,r+n)):(1024===(a=Math.floor(Math.log(o)/Math.LN2))&&(a=1023),e(4503599627370496*(s=o*Math.pow(2,-a))>>>0,i,r+t),e((c<<31|a+1023<<20|1048576*s&1048575)>>>0,i,r+n))}function p(e,t,n,o,i){var r=e(o,i+t),s=e(o,i+n),a=2*(s>>31)+1,c=s>>>20&2047,l=4294967296*(1048575&s)+r;return 2047==c?l?NaN:1/0*a:0==c?5e-324*a*l:a*Math.pow(2,c-1075)*(l+4503599627370496)}function _(e,t,n){u[0]=e,t[n]=f[0],t[n+1]=f[1],t[n+2]=f[2],t[n+3]=f[3],t[n+4]=f[4],t[n+5]=f[5],t[n+6]=f[6],t[n+7]=f[7]}function m(e,t,n){u[0]=e,t[n]=f[7],t[n+1]=f[6],t[n+2]=f[5],t[n+3]=f[4],t[n+4]=f[3],t[n+5]=f[2],t[n+6]=f[1],t[n+7]=f[0]}function g(e,t){return f[0]=e[t],f[1]=e[t+1],f[2]=e[t+2],f[3]=e[t+3],f[4]=e[t+4],f[5]=e[t+5],f[6]=e[t+6],f[7]=e[t+7],u[0]}function v(e,t){return f[7]=e[t],f[6]=e[t+1],f[5]=e[t+2],f[4]=e[t+3],f[3]=e[t+4],f[2]=e[t+5],f[1]=e[t+6],f[0]=e[t+7],u[0]}return"undefined"!=typeof Float32Array?(a=new Float32Array([-0]),c=new Uint8Array(a.buffer),l=128===c[3],e.writeFloatLE=l?o:i,e.writeFloatBE=l?i:o,e.readFloatLE=l?r:s,e.readFloatBE=l?s:r):(e.writeFloatLE=t.bind(null,y),e.writeFloatBE=t.bind(null,b),e.readFloatLE=n.bind(null,w),e.readFloatBE=n.bind(null,T)),"undefined"!=typeof Float64Array?(u=new Float64Array([-0]),f=new Uint8Array(u.buffer),d=128===f[7],e.writeDoubleLE=d?_:m,e.writeDoubleBE=d?m:_,e.readDoubleLE=d?g:v,e.readDoubleBE=d?v:g):(e.writeDoubleLE=h.bind(null,y,0,4),e.writeDoubleBE=h.bind(null,b,4,0),e.readDoubleLE=p.bind(null,w,0,4),e.readDoubleBE=p.bind(null,T,4,0)),e}function y(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function b(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function w(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function T(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}t.exports=o(o)},{}],7:[function(require,module,exports){function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},{}],8:[function(e,t,n){var o=n,r=o.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=o.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=r(e),o="";n&&(o=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?0<i&&".."!==t[i-1]?t.splice(--i,2):n?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return o+t.join("/")};o.resolve=function(e,t,n){return n||(t=i(t)),r(t)?t:(n||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},{}],9:[function(e,t,n){t.exports=function(n,o,e){var i=e||8192,r=i>>>1,s=null,a=i;return function(e){if(e<1||r<e)return n(e);i<a+e&&(s=n(i),a=0);var t=o.call(s,a,a+=e);return 7&a&&(a=1+(7|a)),t}}},{}],10:[function(e,t,n){var o=n;o.length=function(e){for(var t,n=0,o=0;o<e.length;++o)(t=e.charCodeAt(o))<128?n+=1:t<2048?n+=2:55296==(64512&t)&&56320==(64512&e.charCodeAt(o+1))?(++o,n+=4):n+=3;return n},o.read=function(e,t,n){if(n-t<1)return"";for(var o,i=null,r=[],s=0;t<n;)(o=e[t++])<128?r[s++]=o:191<o&&o<224?r[s++]=(31&o)<<6|63&e[t++]:239<o&&o<365?(o=((7&o)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,r[s++]=55296+(o>>10),r[s++]=56320+(1023&o)):r[s++]=(15&o)<<12|(63&e[t++])<<6|63&e[t++],8191<s&&((i=i||[]).push(String.fromCharCode.apply(String,r)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,r.slice(0,s))),i.join("")):String.fromCharCode.apply(String,r.slice(0,s))},o.write=function(e,t,n){for(var o,i,r=n,s=0;s<e.length;++s)(o=e.charCodeAt(s))<128?t[n++]=o:(o<2048?t[n++]=o>>6|192:(55296==(64512&o)&&56320==(64512&(i=e.charCodeAt(s+1)))?(o=65536+((1023&o)<<10)+(1023&i),++s,t[n++]=o>>18|240,t[n++]=o>>12&63|128):t[n++]=o>>12|224,t[n++]=o>>6&63|128),t[n++]=63&o|128);return n-r}},{}],11:[function(e,t,n){t.exports=r;var o,i=/\/|\./;function r(e,t){i.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),r[e]=t}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),r("duration",{Duration:o={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:o}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(e){return r[e]||null}},{}],12:[function(e,t,n){var o=n,d=e(15),h=e(37);function s(e,t,n,o){if(t.resolvedType)if(t.resolvedType instanceof d){e("switch(d%s){",o);for(var i=t.resolvedType.values,r=Object.keys(i),s=0;s<r.length;++s)t.repeated&&i[r[s]]===t.typeDefault&&e("default:"),e("case%j:",r[s])("case %i:",i[r[s]])("m%s=%j",o,i[r[s]])("break");e("}")}else e('if(typeof d%s!=="object")',o)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",o,n,o);else{var a=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",o,o);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",o,o);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",o,o);break;case"uint64":a=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",o,o,a)('else if(typeof d%s==="string")',o)("m%s=parseInt(d%s,10)",o,o)('else if(typeof d%s==="number")',o)("m%s=d%s",o,o)('else if(typeof d%s==="object")',o)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",o,o,o,a?"true":"");break;case"bytes":e('if(typeof d%s==="string")',o)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",o,o,o)("else if(d%s.length)",o)("m%s=d%s",o,o);break;case"string":e("m%s=String(d%s)",o,o);break;case"bool":e("m%s=Boolean(d%s)",o,o)}}return e}function p(e,t,n,o){if(t.resolvedType)t.resolvedType instanceof d?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",o,n,o,o):e("d%s=types[%i].toObject(m%s,o)",o,n,o);else{var i=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",o,o,o,o);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',o)("d%s=o.longs===String?String(m%s):m%s",o,o,o)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",o,o,o,o,i?"true":"",o);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",o,o,o,o,o);break;default:e("d%s=m%s",o,o)}}return e}o.fromObject=function(e){var t=e.fieldsArray,n=h.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return n("return new this.ctor");n("var m=new this.ctor");for(var o=0;o<t.length;++o){var i=t[o].resolve(),r=h.safeProp(i.name);i.map?(n("if(d%s){",r)('if(typeof d%s!=="object")',r)("throw TypeError(%j)",i.fullName+": object expected")("m%s={}",r)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",r),s(n,i,o,r+"[ks[i]]")("}")("}")):i.repeated?(n("if(d%s){",r)("if(!Array.isArray(d%s))",r)("throw TypeError(%j)",i.fullName+": array expected")("m%s=[]",r)("for(var i=0;i<d%s.length;++i){",r),s(n,i,o,r+"[i]")("}")("}")):(i.resolvedType instanceof d||n("if(d%s!=null){",r),s(n,i,o,r),i.resolvedType instanceof d||n("}"))}return n("return m")},o.toObject=function(e){var t=e.fieldsArray.slice().sort(h.compareFieldsById);if(!t.length)return h.codegen()("return {}");for(var n=h.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),o=[],i=[],r=[],s=0;s<t.length;++s)t[s].partOf||(t[s].resolve().repeated?o:t[s].map?i:r).push(t[s]);if(o.length){for(n("if(o.arrays||o.defaults){"),s=0;s<o.length;++s)n("d%s=[]",h.safeProp(o[s].name));n("}")}if(i.length){for(n("if(o.objects||o.defaults){"),s=0;s<i.length;++s)n("d%s={}",h.safeProp(i[s].name));n("}")}if(r.length){for(n("if(o.defaults){"),s=0;s<r.length;++s){var a,c=r[s],l=h.safeProp(c.name);c.resolvedType instanceof d?n("d%s=o.enums===String?%j:%j",l,c.resolvedType.valuesById[c.typeDefault],c.typeDefault):c.long?n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,c.typeDefault.toString(),c.typeDefault.toNumber()):c.bytes?(a="["+Array.prototype.slice.call(c.typeDefault).join(",")+"]",n("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,c.typeDefault))("else{")("d%s=%s",l,a)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")):n("d%s=%j",l,c.typeDefault)}n("}")}for(var u=!1,s=0;s<t.length;++s){var c=t[s],f=e._fieldsArray.indexOf(c),l=h.safeProp(c.name);c.map?(u||(u=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),p(n,c,f,l+"[ks2[j]]")("}")):c.repeated?(n("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),p(n,c,f,l+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",l,c.name),p(n,c,f,l),c.partOf&&n("if(o.oneofs)")("d%s=%j",h.safeProp(c.partOf.name),c.name)),n("}")}return n("return d")}},{15:15,37:37}],13:[function(e,t,n){t.exports=function(e){var t=l.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter(function(e){return e.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var n=0;n<e.fieldsArray.length;++n){var o=e._fieldsArray[n].resolve(),i=o.resolvedType instanceof a?"int32":o.type,r="m"+l.safeProp(o.name);t("case %i:",o.id),o.map?(t("if(%s===util.emptyObject)",r)("%s={}",r)("var c2 = r.uint32()+r.pos"),c.defaults[o.keyType]!==undefined?t("k=%j",c.defaults[o.keyType]):t("k=null"),c.defaults[i]!==undefined?t("value=%j",c.defaults[i]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",o.keyType)("case 2:"),c.basic[i]===undefined?t("value=types[%i].decode(r,r.uint32())",n):t("value=r.%s()",i),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),c.long[o.keyType]!==undefined?t('%s[typeof k==="object"?util.longToHash(k):k]=value',r):t("%s[k]=value",r)):o.repeated?(t("if(!(%s&&%s.length))",r,r)("%s=[]",r),c.packed[i]!==undefined&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",r,i)("}else"),c.basic[i]===undefined?t(o.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",r,n):t("%s.push(r.%s())",r,i)):c.basic[i]===undefined?t(o.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",r,n):t("%s=r.%s()",r,i),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<e._fieldsArray.length;++n){var s=e._fieldsArray[n];s.required&&t("if(!m.hasOwnProperty(%j))",s.name)("throw util.ProtocolError(%j,{instance:m})","missing required '"+s.name+"'")}return t("return m")};var a=e(15),c=e(36),l=e(37)},{15:15,36:36,37:37}],14:[function(e,t,n){t.exports=function(e){for(var t,n=f.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),o=e.fieldsArray.slice().sort(f.compareFieldsById),i=0;i<o.length;++i){var r=o[i].resolve(),s=e._fieldsArray.indexOf(r),a=r.resolvedType instanceof l?"int32":r.type,c=u.basic[a];t="m"+f.safeProp(r.name),r.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,r.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(r.id<<3|2)>>>0,8|u.mapKey[r.keyType],r.keyType),c===undefined?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",s,t):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|c,a,t),n("}")("}")):r.repeated?(n("if(%s!=null&&%s.length){",t,t),r.packed&&u.packed[a]!==undefined?n("w.uint32(%i).fork()",(r.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",a,t)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",t),c===undefined?d(n,r,s,t+"[i]"):n("w.uint32(%i).%s(%s[i])",(r.id<<3|c)>>>0,a,t)),n("}")):(r.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,r.name),c===undefined?d(n,r,s,t):n("w.uint32(%i).%s(%s)",(r.id<<3|c)>>>0,a,t))}return n("return w")};var l=e(15),u=e(36),f=e(37);function d(e,t,n,o){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,o,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,o,(t.id<<3|2)>>>0)}},{15:15,36:36,37:37}],15:[function(e,t,n){t.exports=r;var a=e(24);((r.prototype=Object.create(a.prototype)).constructor=r).className="Enum";var o=e(23),i=e(37);function r(e,t,n,o,i){if(a.call(this,e,n),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=i||{},this.reserved=undefined,t)for(var r=Object.keys(t),s=0;s<r.length;++s)"number"==typeof t[r[s]]&&(this.valuesById[this.values[r[s]]=t[r[s]]]=r[s])}r.fromJSON=function(e,t){var n=new r(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},r.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"comment",t?this.comment:undefined,"comments",t?this.comments:undefined])},r.prototype.add=function(e,t,n){if(!i.isString(e))throw TypeError("name must be a string");if(!i.isInteger(t))throw TypeError("id must be an integer");if(this.values[e]!==undefined)throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(this.valuesById[t]!==undefined){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},r.prototype.remove=function(e){if(!i.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},r.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},r.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)}},{23:23,24:24,37:37}],16:[function(e,t,n){t.exports=s;var a=e(24);((s.prototype=Object.create(a.prototype)).constructor=s).className="Field";var o,i=e(15),c=e(36),l=e(37),u=/^required|optional|repeated$/;function s(e,t,n,o,i,r,s){if(l.isObject(o)?(s=i,r=o,o=i=undefined):l.isObject(i)&&(s=r,r=i,i=undefined),a.call(this,e,r),!l.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!l.isString(n))throw TypeError("type must be a string");if(o!==undefined&&!u.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(i!==undefined&&!l.isString(i))throw TypeError("extend must be a string");this.rule=o&&"optional"!==o?o:undefined,this.type=n,this.id=t,this.extend=i||undefined,this.required="required"===o,this.optional=!this.required,this.repeated="repeated"===o,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!l.Long&&c.long[n]!==undefined,this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=s}s.fromJSON=function(e,t){return new s(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(s.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),s.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),a.prototype.setOption.call(this,e,t,n)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return l.toObject(["rule","optional"!==this.rule&&this.rule||undefined,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},s.prototype.resolve=function(){return this.resolved?this:((this.typeDefault=c.defaults[this.type])===undefined&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(this.options.packed===undefined||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=undefined)),this.long?(this.typeDefault=l.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault)):this.bytes&&"string"==typeof this.typeDefault&&(l.base64.test(this.typeDefault)?l.base64.decode(this.typeDefault,e=l.newBuffer(l.base64.length(this.typeDefault)),0):l.utf8.write(this.typeDefault,e=l.newBuffer(l.utf8.length(this.typeDefault)),0),this.typeDefault=e),this.map?this.defaultValue=l.emptyObject:this.repeated?this.defaultValue=l.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o&&(this.parent.ctor.prototype[this.name]=this.defaultValue),a.prototype.resolve.call(this));var e},s.d=function(n,o,i,r){return"function"==typeof o?o=l.decorateType(o).name:o&&"object"==typeof o&&(o=l.decorateEnum(o).name),function(e,t){l.decorateType(e.constructor).add(new s(t,n,o,i,{default:r}))}},s._configure=function(e){o=e}},{15:15,24:24,36:36,37:37}],17:[function(e,t,n){var o=t.exports=e(18);o.build="light",o.load=function(e,t,n){return(t="function"==typeof t?(n=t,new o.Root):t||new o.Root).load(e,n)},o.loadSync=function(e,t){return(t=t||new o.Root).loadSync(e)},o.encoder=e(14),o.decoder=e(13),o.verifier=e(40),o.converter=e(12),o.ReflectionObject=e(24),o.Namespace=e(23),o.Root=e(29),o.Enum=e(15),o.Type=e(35),o.Field=e(16),o.OneOf=e(25),o.MapField=e(20),o.Service=e(33),o.Method=e(22),o.Message=e(21),o.wrappers=e(41),o.types=e(36),o.util=e(37),o.ReflectionObject._configure(o.Root),o.Namespace._configure(o.Type,o.Service,o.Enum),o.Root._configure(o.Type),o.Field._configure(o.Type)},{12:12,13:13,14:14,15:15,16:16,18:18,20:20,21:21,22:22,23:23,24:24,25:25,29:29,33:33,35:35,36:36,37:37,40:40,41:41}],18:[function(e,t,n){var o=n;function i(){o.util._configure(),o.Writer._configure(o.BufferWriter),o.Reader._configure(o.BufferReader)}o.build="minimal",o.Writer=e(42),o.BufferWriter=e(43),o.Reader=e(27),o.BufferReader=e(28),o.util=e(39),o.rpc=e(31),o.roots=e(30),o.configure=i,i()},{27:27,28:28,30:30,31:31,39:39,42:42,43:43}],19:[function(e,t,n){var o=t.exports=e(17);o.build="full",o.tokenize=e(34),o.parse=e(26),o.common=e(11),o.Root._configure(o.Type,o.parse,o.common)},{11:11,17:17,26:26,34:34}],20:[function(e,t,n){t.exports=r;var s=e(16);((r.prototype=Object.create(s.prototype)).constructor=r).className="MapField";var o=e(36),a=e(37);function r(e,t,n,o,i,r){if(s.call(this,e,t,o,undefined,undefined,i,r),!a.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}r.fromJSON=function(e,t){return new r(e,t.id,t.keyType,t.type,t.options,t.comment)},r.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:undefined])},r.prototype.resolve=function(){if(this.resolved)return this;if(o.mapKey[this.keyType]===undefined)throw Error("invalid key type: "+this.keyType);return s.prototype.resolve.call(this)},r.d=function(n,o,i){return"function"==typeof i?i=a.decorateType(i).name:i&&"object"==typeof i&&(i=a.decorateEnum(i).name),function(e,t){a.decorateType(e.constructor).add(new r(t,n,o,i))}}},{16:16,36:36,37:37}],21:[function(e,t,n){t.exports=i;var o=e(39);function i(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,o.toJSONOptions)}},{39:39}],22:[function(e,t,n){t.exports=o;var c=e(24);((o.prototype=Object.create(c.prototype)).constructor=o).className="Method";var l=e(37);function o(e,t,n,o,i,r,s,a){if(l.isObject(i)?(s=i,i=r=undefined):l.isObject(r)&&(s=r,r=undefined),t!==undefined&&!l.isString(t))throw TypeError("type must be a string");if(!l.isString(n))throw TypeError("requestType must be a string");if(!l.isString(o))throw TypeError("responseType must be a string");c.call(this,e,s),this.type=t||"rpc",this.requestType=n,this.requestStream=!!i||undefined,this.responseType=o,this.responseStream=!!r||undefined,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=a}o.fromJSON=function(e,t){return new o(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return l.toObject(["type","rpc"!==this.type&&this.type||undefined,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:undefined])},o.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),c.prototype.resolve.call(this))}},{24:24,37:37}],23:[function(e,t,n){t.exports=u;var o=e(24);((u.prototype=Object.create(o.prototype)).constructor=u).className="Namespace";var i,r,s,a=e(16),c=e(37);function l(e,t){if(!e||!e.length)return undefined;for(var n={},o=0;o<e.length;++o)n[e[o].name]=e[o].toJSON(t);return n}function u(e,t){o.call(this,e,t),this.nested=undefined,this._nestedArray=null}function f(e){return e._nestedArray=null,e}u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=l,u.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>t)return!0;return!1},u.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),u.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",l(this.nestedArray,e)])},u.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),o=0;o<n.length;++o)t=e[n[o]],this.add((t.fields!==undefined?i.fromJSON:t.values!==undefined?s.fromJSON:t.methods!==undefined?r.fromJSON:t.id!==undefined?a.fromJSON:u.fromJSON)(n[o],t));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof s)return this.nested[e].values;throw Error("no such enum: "+e)},u.prototype.add=function(e){if(!(e instanceof a&&e.extend!==undefined||e instanceof i||e instanceof s||e instanceof r||e instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof u&&e instanceof u)||t instanceof i||t instanceof r)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,o=0;o<n.length;++o)e.add(n[o]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return(this.nested[e.name]=e).onAdd(this),f(this)},u.prototype.remove=function(e){if(!(e instanceof o))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=undefined),e.onRemove(this),f(this)},u.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;0<e.length;){var o=e.shift();if(n.nested&&n.nested[o]){if(!((n=n.nested[o])instanceof u))throw Error("path conflicts with non-namespace objects")}else n.add(n=new u(o))}return t&&n.addJSON(t),n},u.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this.resolve()},u.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=undefined):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var o=this.get(e[0]);if(o){if(1===e.length){if(!t||-1<t.indexOf(o.constructor))return o}else if(o instanceof u&&(o=o.lookup(e.slice(1),t,!0)))return o}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof u&&(o=this._nestedArray[i].lookup(e,t,!0)))return o;return null===this.parent||n?null:this.parent.lookup(e,t)},u.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},u.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,s]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},u.prototype.lookupService=function(e){var t=this.lookup(e,[r]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(e,t,n){i=e,r=t,s=n}},{16:16,24:24,37:37}],24:[function(e,t,n){(t.exports=i).className="ReflectionObject";var o,a=e(37);function i(e,t){if(!a.isString(e))throw TypeError("name must be a string");if(t&&!a.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(i.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),i.prototype.toJSON=function(){throw Error()},i.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof o&&t._handleAdd(this)},i.prototype.onRemove=function(e){var t=e.root;t instanceof o&&t._handleRemove(this),this.parent=null,this.resolved=!1},i.prototype.resolve=function(){return this.resolved||this.root instanceof o&&(this.resolved=!0),this},i.prototype.getOption=function(e){return this.options?this.options[e]:undefined},i.prototype.setOption=function(e,t,n){return n&&this.options&&this.options[e]!==undefined||((this.options||(this.options={}))[e]=t),this},i.prototype.setParsedOption=function(t,e,n){this.parsedOptions||(this.parsedOptions=[]);var o,i,r,s=this.parsedOptions;return n?(o=s.find(function(e){return Object.prototype.hasOwnProperty.call(e,t)}))?(i=o[t],a.setProperty(i,n,e)):((o={})[t]=a.setProperty({},n,e),s.push(o)):((r={})[t]=e,s.push(r)),this},i.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),o=0;o<n.length;++o)this.setOption(n[o],e[n[o]],t);return this},i.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},i._configure=function(e){o=e}},{37:37}],25:[function(e,t,n){t.exports=s;var i=e(24);((s.prototype=Object.create(i.prototype)).constructor=s).className="OneOf";var o=e(16),r=e(37);function s(e,t,n,o){if(Array.isArray(t)||(n=t,t=undefined),i.call(this,e,n),t!==undefined&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=o}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}s.fromJSON=function(e,t){return new s(e,t.oneof,t.options,t.comment)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return r.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:undefined])},s.prototype.add=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),a(e.partOf=this),this},s.prototype.remove=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),-1<(t=this.oneof.indexOf(e.name))&&this.oneof.splice(t,1),e.partOf=null,this},s.prototype.onAdd=function(e){i.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this).fieldsArray.push(n)}a(this)},s.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);i.prototype.onRemove.call(this,e)},s.d=function(){for(var n=new Array(arguments.length),e=0;e<arguments.length;)n[e]=arguments[e++];return function(e,t){r.decorateType(e.constructor).add(new s(t,n)),Object.defineProperty(e,t,{get:r.oneOfGetter(n),set:r.oneOfSetter(n)})}}},{16:16,24:24,37:37}],26:[function(e,t,n){(t.exports=z).filename=null,z.defaults={keepCase:!1};var A=e(34),k=e(29),C=e(35),N=e(16),P=e(20),L=e(25),D=e(15),R=e(33),F=e(22),j=e(36),B=e(37),U=/^[1-9][0-9]*$/,Y=/^-?[1-9][0-9]*$/,G=/^0[x][0-9a-fA-F]+$/,H=/^-?0[x][0-9a-fA-F]+$/,X=/^0[0-7]+$/,W=/^-?0[0-7]+$/,J=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,V=/^[a-zA-Z_][a-zA-Z_0-9]*$/,K=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,q=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function z(e,t,n){t instanceof k||(n=t,t=new k);var o,i,r,s,f,a=(n=n||z.defaults).preferTrailingComment||!1,c=A(e,n.alternateCommentMode||!1),d=c.next,l=c.push,h=c.peek,p=c.skip,u=c.cmnt,_=!0,m=!1,g=t,v=n.keepCase?function(e){return e}:B.camelCase;function y(e,t,n){var o=z.filename;return n||(z.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(o?o+", ":"")+"line "+c.line+")")}function b(){var e,t=[];do{if('"'!==(e=d())&&"'"!==e)throw y(e);t.push(d()),p(e),e=h()}while('"'===e||"'"===e);return t.join("")}function w(t){var n=d();switch(n){case"'":case'"':return l(n),b();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var n=1;"-"===e.charAt(0)&&(n=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return n*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(U.test(e))return n*parseInt(e,10);if(G.test(e))return n*parseInt(e,16);if(X.test(e))return n*parseInt(e,8);if(J.test(e))return n*parseFloat(e);throw y(e,"number",t)}(n,!0)}catch(e){if(t&&K.test(n))return n;throw y(n,"value")}}function T(e,t){for(var n,o;!t||'"'!==(n=h())&&"'"!==n?e.push([o=O(d()),p("to",!0)?O(d()):o]):e.push(b()),p(",",!0););p(";")}function O(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw y(e,"id");if(Y.test(e))return parseInt(e,10);if(H.test(e))return parseInt(e,16);if(W.test(e))return parseInt(e,8);throw y(e,"id")}function E(e,t){switch(t){case"option":return x(e,t),p(";"),1;case"message":return function(e,t){if(!V.test(t=d()))throw y(t,"type name");var n=new C(t);S(n,function(e){if(!E(n,e))switch(e){case"map":!function(e){p("<");var t=d();if(j.mapKey[t]===undefined)throw y(t,"type");p(",");var n=d();if(!K.test(n))throw y(n,"type");p(">");var o=d();if(!V.test(o))throw y(o,"name");p("=");var i=new P(v(o),O(d()),t,n);S(i,function(e){if("option"!==e)throw y(e);x(i,e),p(";")},function(){M(i)}),e.add(i)}(n);break;case"required":case"optional":case"repeated":$(n,e);break;case"oneof":!function(e,t){if(!V.test(t=d()))throw y(t,"name");var n=new L(v(t));S(n,function(e){"option"===e?(x(n,e),p(";")):(l(e),$(n,"optional"))}),e.add(n)}(n,e);break;case"extensions":T(n.extensions||(n.extensions=[]));break;case"reserved":T(n.reserved||(n.reserved=[]),!0);break;default:if(!m||!K.test(e))throw y(e);l(e),$(n,"optional")}}),e.add(n)}(e,t),1;case"enum":return function(e,t){if(!V.test(t=d()))throw y(t,"name");var n=new D(t);S(n,function(e){switch(e){case"option":x(n,e),p(";");break;case"reserved":T(n.reserved||(n.reserved=[]),!0);break;default:!function(e,t){if(!V.test(t))throw y(t,"name");p("=");var n=O(d(),!0),o={};S(o,function(e){if("option"!==e)throw y(e);x(o,e),p(";")},function(){M(o)}),e.add(t,n,o.comment)}(n,e)}}),e.add(n)}(e,t),1;case"service":return function(e,t){if(!V.test(t=d()))throw y(t,"service name");var n=new R(t);S(n,function(e){if(!E(n,e)){if("rpc"!==e)throw y(e);!function(e,t){var n=u(),o=t;if(!V.test(t=d()))throw y(t,"name");var i,r,s,a,c=t;p("("),p("stream",!0)&&(r=!0);if(!K.test(t=d()))throw y(t);i=t,p(")"),p("returns"),p("("),p("stream",!0)&&(a=!0);if(!K.test(t=d()))throw y(t);s=t,p(")");var l=new F(c,o,i,s,r,a);l.comment=n,S(l,function(e){if("option"!==e)throw y(e);x(l,e),p(";")}),e.add(l)}(n,e)}}),e.add(n)}(e,t),1;case"extend":return function(t,e){if(!K.test(e=d()))throw y(e,"reference");var n=e;S(null,function(e){switch(e){case"required":case"repeated":case"optional":$(t,e,n);break;default:if(!m||!K.test(e))throw y(e);l(e),$(t,"optional",n)}})}(e,t),1}}function S(e,t,n){var o,i=c.line;if(e&&("string"!=typeof e.comment&&(e.comment=u()),e.filename=z.filename),p("{",!0)){for(;"}"!==(o=d());)t(o);p(";",!0)}else n&&n(),p(";"),e&&("string"!=typeof e.comment||a)&&(e.comment=u(i)||e.comment)}function $(e,t,n){var o=d();if("group"!==o){if(!K.test(o))throw y(o,"type");var i=d();if(!V.test(i))throw y(i,"name");i=v(i),p("=");var r=new N(i,O(d()),o,t,n);S(r,function(e){if("option"!==e)throw y(e);x(r,e),p(";")},function(){M(r)}),e.add(r),m||!r.repeated||j.packed[o]===undefined&&j.basic[o]!==undefined||r.setOption("packed",!1,!0)}else!function(e,t){var n=d();if(!V.test(n))throw y(n,"name");var o=B.lcFirst(n);n===o&&(n=B.ucFirst(n));p("=");var i=O(d()),r=new C(n);r.group=!0;var s=new N(o,i,n,t);s.filename=z.filename,S(r,function(e){switch(e){case"option":x(r,e),p(";");break;case"required":case"optional":case"repeated":$(r,e);break;default:throw y(e)}}),e.add(r).add(s)}(e,t)}function x(e,t){var n=p("(",!0);if(!K.test(t=d()))throw y(t,"name");var o,i=t,r=i;n&&(p(")"),r=i="("+i+")",t=h(),q.test(t)&&(o=t.substr(1),i+=t,d())),p("=");var s,a,c,l,u=function e(t,n){if(p("{",!0)){for(var o={};!p("}",!0);){if(!V.test(f=d()))throw y(f,"name");var i,r=f;"{"===h()?i=e(t,n+"."+f):(p(":"),"{"===h()?i=e(t,n+"."+f):(i=w(!0),I(t,n+"."+f,i)));var s=o[r];s&&(i=[].concat(s).concat(i)),o[r]=i,p(",",!0)}return o}var a=w(!0);I(t,n,a);return a}(e,i);a=r,c=u,l=o,(s=e).setParsedOption&&s.setParsedOption(a,c,l)}function I(e,t,n){e.setOption&&e.setOption(t,n)}function M(e){if(p("[",!0)){for(;x(e,"option"),p(",",!0););p("]")}return e}for(;null!==(f=d());)switch(f){case"package":if(!_)throw y(f);!function(){if(o!==undefined)throw y("package");if(o=d(),!K.test(o))throw y(o,"name");g=g.define(o),p(";")}();break;case"import":if(!_)throw y(f);!function(){var e,t=h();switch(t){case"weak":e=r=r||[],d();break;case"public":d();default:e=i=i||[]}t=b(),p(";"),e.push(t)}();break;case"syntax":if(!_)throw y(f);!function(){if(p("="),s=b(),!(m="proto3"===s)&&"proto2"!==s)throw y(s,"syntax");p(";")}();break;case"option":x(g,f),p(";");break;default:if(E(g,f)){_=!1;continue}throw y(f)}return z.filename=null,{package:o,imports:i,weakImports:r,syntax:s,root:t}}},{15:15,16:16,20:20,22:22,25:25,29:29,33:33,34:34,35:35,36:36,37:37}],27:[function(e,t,n){t.exports=c;var o,i=e(39),r=i.LongBits,s=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}function l(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new o(e):f(e)})(e)}:f}var u,f="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")};function d(){var e=new r(0,0),t=0;if(!(4<this.len-this.pos)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,4<this.len-this.pos){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw a(this,8);return new r(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}c.create=l(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return u}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return h(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|h(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){o=e,c.create=l(),o._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},{39:39}],28:[function(e,t,n){t.exports=r;var o=e(27);(r.prototype=Object.create(o.prototype)).constructor=r;var i=e(39);function r(e){o.call(this,e)}r._configure=function(){i.Buffer&&(r.prototype._slice=i.Buffer.prototype.slice)},r.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},r._configure()},{27:27,39:39}],29:[function(e,t,n){t.exports=c;var o=e(23);((c.prototype=Object.create(o.prototype)).constructor=c).className="Root";var i,h,p,r=e(16),s=e(15),a=e(25),_=e(37);function c(e){o.call(this,"",e),this.deferred=[],this.files=[]}function m(){}c.fromJSON=function(e,t){return t=t||new c,e.options&&t.setOptions(e.options),t.addJSON(e.nested)},c.prototype.resolvePath=_.path.resolve,c.prototype.fetch=_.fetch,c.prototype.load=function e(t,r,i){"function"==typeof r&&(i=r,r=undefined);var s=this;if(!i)return _.asPromise(e,s,t,r);var a=i===m;function c(e,t){if(i){var n=i;if(i=null,a)throw e;n(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(-1<t){var n=e.substring(t);if(n in p)return n}return null}function u(e,t){try{if(_.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),_.isString(t)){h.filename=e;var n,o=h(t,s,r),i=0;if(o.imports)for(;i<o.imports.length;++i)(n=l(o.imports[i])||s.resolvePath(e,o.imports[i]))&&f(n);if(o.weakImports)for(i=0;i<o.weakImports.length;++i)(n=l(o.weakImports[i])||s.resolvePath(e,o.weakImports[i]))&&f(n,!0)}else s.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}a||d||c(null,s)}function f(n,o){if(!(-1<s.files.indexOf(n)))if(s.files.push(n),n in p)a?u(n,p[n]):(++d,setTimeout(function(){--d,u(n,p[n])}));else if(a){var e;try{e=_.fs.readFileSync(n).toString("utf8")}catch(e){return void(o||c(e))}u(n,e)}else++d,s.fetch(n,function(e,t){--d,i&&(e?o?d||c(null,s):c(e):u(n,t))})}var d=0;_.isString(t)&&(t=[t]);for(var n,o=0;o<t.length;++o)(n=s.resolvePath("",t[o]))&&f(n);return a?s:(d||c(null,s),undefined)},c.prototype.loadSync=function(e,t){if(!_.isNode)throw Error("not supported");return this.load(e,t,m)},c.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(e){return"'extend "+e.extend+"' in "+e.parent.fullName}).join(", "));return o.prototype.resolveAll.call(this)};var l=/^[A-Z]/;function u(e,t){var n=t.parent.lookup(t.extend);if(n){var o=new r(t.fullName,t.id,t.type,t.rule,undefined,t.options);return(o.declaringField=t).extensionField=o,n.add(o),1}}c.prototype._handleAdd=function(e){if(e instanceof r)e.extend===undefined||e.extensionField||u(0,e)||this.deferred.push(e);else if(e instanceof s)l.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof a)){if(e instanceof i)for(var t=0;t<this.deferred.length;)u(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);l.test(e.name)&&(e.parent[e.name]=e)}},c.prototype._handleRemove=function(e){var t;if(e instanceof r)e.extend!==undefined&&(e.extensionField?(e.extensionField.parent.remove(e.extensionField),e.extensionField=null):-1<(t=this.deferred.indexOf(e))&&this.deferred.splice(t,1));else if(e instanceof s)l.test(e.name)&&delete e.parent[e.name];else if(e instanceof o){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);l.test(e.name)&&delete e.parent[e.name]}},c._configure=function(e,t,n){i=e,h=t,p=n}},{15:15,16:16,23:23,25:25,37:37}],30:[function(e,t,n){t.exports={}},{}],31:[function(e,t,n){n.Service=e(32)},{32:32}],32:[function(e,t,n){t.exports=o;var a=e(39);function o(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");a.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}((o.prototype=Object.create(a.EventEmitter.prototype)).constructor=o).prototype.rpcCall=function e(n,t,o,i,r){if(!i)throw TypeError("request must be specified");var s=this;if(!r)return a.asPromise(e,s,n,t,o,i);if(!s.rpcImpl)return setTimeout(function(){r(Error("already ended"))},0),undefined;try{return s.rpcImpl(n,t[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),function(e,t){if(e)return s.emit("error",e,n),r(e);if(null===t)return s.end(!0),undefined;if(!(t instanceof o))try{t=o[s.responseDelimited?"decodeDelimited":"decode"](t)}catch(e){return s.emit("error",e,n),r(e)}return s.emit("data",t,n),r(null,t)})}catch(e){return s.emit("error",e,n),setTimeout(function(){r(e)},0),undefined}},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{39:39}],33:[function(e,t,n){t.exports=s;var o=e(23);((s.prototype=Object.create(o.prototype)).constructor=s).className="Service";var r=e(22),a=e(37),c=e(31);function s(e,t){o.call(this,e,t),this.methods={},this._methodsArray=null}function i(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var n=new s(e,t.options);if(t.methods)for(var o=Object.keys(t.methods),i=0;i<o.length;++i)n.add(r.fromJSON(o[i],t.methods[o[i]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},s.prototype.toJSON=function(e){var t=o.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return a.toObject(["options",t&&t.options||undefined,"methods",o.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=a.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||o.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return o.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof r?i((this.methods[e.name]=e).parent=this):o.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof r){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,i(this)}return o.prototype.remove.call(this,e)},s.prototype.create=function(e,t,n){for(var o,i=new c.Service(e,t,n),r=0;r<this.methodsArray.length;++r){var s=a.lcFirst((o=this._methodsArray[r]).resolve().name).replace(/[^$\w_]/g,"");i[s]=a.codegen(["r","c"],a.isReserved(s)?s+"_":s)("return this.rpcCall(m,q,s,r,c)")({m:o,q:o.resolvedRequestType.ctor,s:o.resolvedResponseType.ctor})}return i}},{22:22,23:23,31:31,37:37}],34:[function(e,t,n){t.exports=r;var S=/[\s{}=;:[\],'"()<>]/g,$=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,x=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,I=/^ *[*/]+ */,M=/^\s*\*?\/*/,A=/\n/g,k=/\s/,o=/\\(.?)/g,i={0:"\0",r:"\r",n:"\n",t:"\t"};function C(e){return e.replace(o,function(e,t){switch(t){case"\\":case"":return t;default:return i[t]||""}})}function r(c,l){c=c.toString();var u=0,f=c.length,d=1,a=null,h=null,p=0,_=!1,m=!1,g=[],v=null;function y(e){return Error("illegal "+e+" (line "+d+")")}function b(e){return c.charAt(e)}function w(e,t,n){a=c.charAt(e++),p=d,_=!1,m=n;var o,i=e-(l?2:3);do{if(--i<0||"\n"===(o=c.charAt(i))){_=!0;break}}while(" "===o||"\t"===o);for(var r=c.substring(e,t).split(A),s=0;s<r.length;++s)r[s]=r[s].replace(l?M:I,"").trim();h=r.join("\n").trim()}function T(e){var t=O(e),n=c.substring(e,t);return/^\s*\/{1,2}/.test(n)}function O(e){for(var t=e;t<f&&"\n"!==b(t);)t++;return t}function o(){if(0<g.length)return g.shift();if(v)return function(){var e="'"===v?x:$;e.lastIndex=u-1;var t=e.exec(c);if(!t)throw y("string");return u=e.lastIndex,E(v),v=null,C(t[1])}();var e,t,n,o,i,r=0===u;do{if(u===f)return null;for(e=!1;k.test(n=b(u));)if("\n"===n&&(r=!0,++d),++u===f)return null;if("/"===b(u)){if(++u===f)throw y("comment");if("/"===b(u))if(l){if(i=!1,T(o=u)){i=!0;do{if((u=O(u))===f)break;u++}while(T(u))}else u=Math.min(f,O(u)+1);i&&w(o,u,r),d++,e=!0}else{for(i="/"===b(o=u+1);"\n"!==b(++u);)if(u===f)return null;++u,i&&w(o,u-1,r),++d,e=!0}else{if("*"!==(n=b(u)))return"/";o=u+1,i=l||"*"===b(o);do{if("\n"===n&&++d,++u===f)throw y("comment");t=n,n=b(u)}while("*"!==t||"/"!==n);++u,i&&w(o,u-2,r),e=!0}}}while(e);var s=u;if(S.lastIndex=0,!S.test(b(s++)))for(;s<f&&!S.test(b(s));)++s;var a=c.substring(u,u=s);return'"'!==a&&"'"!==a||(v=a),a}function E(e){g.push(e)}function i(){if(!g.length){var e=o();if(null===e)return null;E(e)}return g[0]}return Object.defineProperty({next:o,peek:i,push:E,skip:function(e,t){var n=i();if(n===e)return o(),!0;if(!t)throw y("token '"+n+"', '"+e+"' expected");return!1},cmnt:function(e){var t=null;return e===undefined?p===d-1&&(l||"*"===a||_)&&(t=m?h:null):(p<e&&i(),p!==e||_||!l&&"/"!==a||(t=m?null:h)),t}},"line",{get:function(){return d}})}r.unescape=C},{}],35:[function(e,t,n){t.exports=y;var s=e(23);((y.prototype=Object.create(s.prototype)).constructor=y).className="Type";var a=e(15),c=e(25),l=e(16),u=e(20),f=e(33),i=e(21),r=e(27),d=e(42),h=e(37),p=e(14),_=e(13),m=e(40),g=e(12),v=e(41);function y(e,t){s.call(this,e,t),this.fields={},this.oneofs=undefined,this.extensions=undefined,this.reserved=undefined,this.group=undefined,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function o(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],o=n.id;if(this._fieldsById[o])throw Error("duplicate id "+o+" in "+this);this._fieldsById[o]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof i||((e.prototype=new i).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,i,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();for(var o={},n=0;n<this.oneofsArray.length;++n)o[this._oneofsArray[n].resolve().name]={get:h.oneOfGetter(this._oneofsArray[n].oneof),set:h.oneOfSetter(this._oneofsArray[n].oneof)};n&&Object.defineProperties(e.prototype,o)}}}),y.generateConstructor=function(e){for(var t,n=h.codegen(["p"],e.name),o=0;o<e.fieldsArray.length;++o)(t=e._fieldsArray[o]).map?n("this%s={}",h.safeProp(t.name)):t.repeated&&n("this%s=[]",h.safeProp(t.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},y.fromJSON=function(e,t){var n=new y(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var o=Object.keys(t.fields),i=0;i<o.length;++i)n.add((void 0!==t.fields[o[i]].keyType?u.fromJSON:l.fromJSON)(o[i],t.fields[o[i]]));if(t.oneofs)for(o=Object.keys(t.oneofs),i=0;i<o.length;++i)n.add(c.fromJSON(o[i],t.oneofs[o[i]]));if(t.nested)for(o=Object.keys(t.nested),i=0;i<o.length;++i){var r=t.nested[o[i]];n.add((r.id!==undefined?l.fromJSON:r.fields!==undefined?y.fromJSON:r.values!==undefined?a.fromJSON:r.methods!==undefined?f.fromJSON:s.fromJSON)(o[i],r))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},y.prototype.toJSON=function(e){var t=s.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return h.toObject(["options",t&&t.options||undefined,"oneofs",s.arrayToJSON(this.oneofsArray,e),"fields",s.arrayToJSON(this.fieldsArray.filter(function(e){return!e.declaringField}),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:undefined,"reserved",this.reserved&&this.reserved.length?this.reserved:undefined,"group",this.group||undefined,"nested",t&&t.nested||undefined,"comment",n?this.comment:undefined])},y.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();for(var n=this.oneofsArray,t=0;t<n.length;)n[t++].resolve();return s.prototype.resolveAll.call(this)},y.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},y.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof l&&e.extend===undefined){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),(this.fields[e.name]=e).message=this,e.onAdd(this),o(this)}return e instanceof c?(this.oneofs||(this.oneofs={}),(this.oneofs[e.name]=e).onAdd(this),o(this)):s.prototype.add.call(this,e)},y.prototype.remove=function(e){if(e instanceof l&&e.extend===undefined){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),o(this)}if(e instanceof c){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),o(this)}return s.prototype.remove.call(this,e)},y.prototype.isReservedId=function(e){return s.isReservedId(this.reserved,e)},y.prototype.isReservedName=function(e){return s.isReservedName(this.reserved,e)},y.prototype.create=function(e){return new this.ctor(e)},y.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=p(this)({Writer:d,types:t,util:h}),this.decode=_(this)({Reader:r,types:t,util:h}),this.verify=m(this)({types:t,util:h}),this.fromObject=g.fromObject(this)({types:t,util:h}),this.toObject=g.toObject(this)({types:t,util:h});var o,i=v[e];return i&&((o=Object.create(this)).fromObject=this.fromObject,this.fromObject=i.fromObject.bind(o),o.toObject=this.toObject,this.toObject=i.toObject.bind(o)),this},y.prototype.encode=function(e,t){return this.setup().encode(e,t)},y.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},y.prototype.decode=function(e,t){return this.setup().decode(e,t)},y.prototype.decodeDelimited=function(e){return e instanceof r||(e=r.create(e)),this.decode(e,e.uint32())},y.prototype.verify=function(e){return this.setup().verify(e)},y.prototype.fromObject=function(e){return this.setup().fromObject(e)},y.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},y.d=function(t){return function(e){h.decorateType(e,t)}}},{12:12,13:13,14:14,15:15,16:16,20:20,21:21,23:23,25:25,27:27,33:33,37:37,40:40,41:41,42:42}],36:[function(e,t,n){var o=n,i=e(37),r=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(e,t){var n=0,o={};for(t|=0;n<e.length;)o[r[n+t]]=e[n++];return o}o.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),o.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),o.long=s([0,0,0,1,1],7),o.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),o.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])},{37:37}],37:[function(o,e,t){var i,n,r=e.exports=o(39),s=o(30);r.codegen=o(3),r.fetch=o(5),r.path=o(8),r.fs=r.inquire("fs"),r.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),o=0;o<t.length;)n[o]=e[t[o++]];return n}return[]},r.toObject=function(e){for(var t={},n=0;n<e.length;){var o=e[n++],i=e[n++];i!==undefined&&(t[o]=i)}return t};var a=/\\/g,c=/"/g;r.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},r.safeProp=function(e){return!/^[$\w_]+$/.test(e)||r.isReserved(e)?'["'+e.replace(a,"\\\\").replace(c,'\\"')+'"]':"."+e},r.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;r.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,function(e,t){return t.toUpperCase()})},r.compareFieldsById=function(e,t){return e.id-t.id},r.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(r.decorateRoot.remove(e.$type),e.$type.name=t,r.decorateRoot.add(e.$type)),e.$type;var n=new(i=i||o(35))(t||e.name);return r.decorateRoot.add(n),n.ctor=e,Object.defineProperty(e,"$type",{value:n,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:n,enumerable:!1}),n};var u=0;r.decorateEnum=function(e){if(e.$type)return e.$type;var t=new(n=n||o(15))("Enum"+u++,e);return r.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},r.setProperty=function(e,t,n){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,n,o){var i,r=n.shift();return 0<n.length?t[r]=e(t[r]||{},n,o):((i=t[r])&&(o=[].concat(i).concat(o)),t[r]=o),t}(e,t=t.split("."),n)},Object.defineProperty(r,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(o(29)))}})},{15:15,29:29,3:3,30:30,35:35,39:39,5:5,8:8}],38:[function(e,t,n){t.exports=i;var o=e(39);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var r=i.zero=new i(0,0);r.toNumber=function(){return 0},r.zzEncode=r.zzDecode=function(){return this},r.length=function(){return 1};i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return r;var t=e<0;t&&(e=-e);var n=e>>>0,o=(e-n)/4294967296>>>0;return t&&(o=~o>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++o&&(o=0))),new i(n,o)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(o.isString(e)){if(!o.Long)return i.fromNumber(parseInt(e,10));e=o.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):r},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return o.Long?new o.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return"\0\0\0\0\0\0\0\0"===e?r:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0==n?0==t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},{39:39}],39:[function(e,t,n){var o=n;function i(e,t,n){for(var o=Object.keys(t),i=0;i<o.length;++i)e[o[i]]!==undefined&&n||(e[o[i]]=t[o[i]]);return e}function r(e){function n(e,t){if(!(this instanceof n))return new n(e,t);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),t&&i(this,t)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return e}}),n.prototype.toString=function(){return this.name+": "+this.message},n}o.asPromise=e(1),o.base64=e(2),o.EventEmitter=e(4),o.float=e(6),o.inquire=e(7),o.utf8=e(10),o.pool=e(9),o.LongBits=e(38),o.isNode=Boolean("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),o.global=o.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,o.emptyArray=Object.freeze?Object.freeze([]):[],o.emptyObject=Object.freeze?Object.freeze({}):{},o.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},o.isString=function(e){return"string"==typeof e||e instanceof String},o.isObject=function(e){return e&&"object"==typeof e},o.isset=o.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||0<(Array.isArray(n)?n.length:Object.keys(n).length))},o.Buffer=function(){try{var e=o.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),o._Buffer_from=null,o._Buffer_allocUnsafe=null,o.newBuffer=function(e){return"number"==typeof e?o.Buffer?o._Buffer_allocUnsafe(e):new o.Array(e):o.Buffer?o._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},o.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,o.Long=o.global.dcodeIO&&o.global.dcodeIO.Long||o.global.Long||o.inquire("long"),o.key2Re=/^true|false|0|1$/,o.key32Re=/^-?(?:0|[1-9][0-9]*)$/,o.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,o.longToHash=function(e){return e?o.LongBits.from(e).toHash():o.LongBits.zeroHash},o.longFromHash=function(e,t){var n=o.LongBits.fromHash(e);return o.Long?o.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},o.merge=i,o.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},o.newError=r,o.ProtocolError=r("ProtocolError"),o.oneOfGetter=function(e){for(var n={},t=0;t<e.length;++t)n[e[t]]=1;return function(){for(var e=Object.keys(this),t=e.length-1;-1<t;--t)if(1===n[e[t]]&&this[e[t]]!==undefined&&null!==this[e[t]])return e[t]}},o.oneOfSetter=function(n){return function(e){for(var t=0;t<n.length;++t)n[t]!==e&&delete this[n[t]]}},o.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},o._configure=function(){var n=o.Buffer;n?(o._Buffer_from=n.from!==Uint8Array.from&&n.from||function(e,t){return new n(e,t)},o._Buffer_allocUnsafe=n.allocUnsafe||function(e){return new n(e)}):o._Buffer_from=o._Buffer_allocUnsafe=null}},{1:1,10:10,2:2,38:38,4:4,6:6,7:7,9:9}],40:[function(e,t,n){t.exports=function(e){var t=c.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=e.oneofsArray,o={};n.length&&t("var p={}");for(var i=0;i<e.fieldsArray.length;++i){var r,s=e._fieldsArray[i].resolve(),a="m"+c.safeProp(s.name);s.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",a,s.name),s.map?(t("if(!util.isObject(%s))",a)("return%j",l(s,"object"))("var k=Object.keys(%s)",a)("for(var i=0;i<k.length;++i){"),function(e,t,n){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",n)("return%j",l(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",n)("return%j",l(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",n)("return%j",l(t,"boolean key"))}}(t,s,"k[i]"),u(t,s,i,a+"[k[i]]")("}")):s.repeated?(t("if(!Array.isArray(%s))",a)("return%j",l(s,"array"))("for(var i=0;i<%s.length;++i){",a),u(t,s,i,a+"[i]")("}")):(s.partOf&&(r=c.safeProp(s.partOf.name),1===o[s.partOf.name]&&t("if(p%s===1)",r)("return%j",s.partOf.name+": multiple values"),o[s.partOf.name]=1,t("p%s=1",r)),u(t,s,i,a)),s.optional&&t("}")}return t("return null")};var s=e(15),c=e(37);function l(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function u(e,t,n,o){if(t.resolvedType)if(t.resolvedType instanceof s){e("switch(%s){",o)("default:")("return%j",l(t,"enum value"));for(var i=Object.keys(t.resolvedType.values),r=0;r<i.length;++r)e("case %i:",t.resolvedType.values[i[r]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",n,o)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",o)("return%j",l(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",l(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',o)("return%j",l(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',o)("return%j",l(t,"boolean"));break;case"string":e("if(!util.isString(%s))",o)("return%j",l(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",l(t,"buffer"))}return e}},{15:15,37:37}],41:[function(e,t,n){var o=n,s=e(21);o[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),n=this.lookup(t);if(n){var o="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===o.indexOf("/")&&(o="/"+o),this.create({type_url:o,value:n.encode(n.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var n,o="",i="";if(t&&t.json&&e.type_url&&e.value&&(i=e.type_url.substring(e.type_url.lastIndexOf("/")+1),o=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1),(n=this.lookup(i))&&(e=n.decode(e.value))),e instanceof this.ctor||!(e instanceof s))return this.toObject(e,t);var r=e.$type.toObject(e,t);return""===o&&(o="type.googleapis.com/"),i=o+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),r["@type"]=i,r}}},{21:21}],42:[function(e,t,n){t.exports=f;var o,i=e(39),r=i.LongBits,s=i.base64,a=i.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=undefined,this.val=n}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}function d(){return i.Buffer?function(){return(f.create=function(){return new o})()}:function(){return new f}}function h(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=undefined,this.val=t}function _(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}f.create=d(),f.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(f.alloc=i.pool(f.alloc,i.Array.prototype.subarray)),f.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},(p.prototype=Object.create(c.prototype)).fn=function(e,t,n){for(;127<e;)t[n++]=127&e|128,e>>>=7;t[n]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(_,10,r.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.int64=f.prototype.uint64=function(e){var t=r.from(e);return this._push(_,t.length(),t)},f.prototype.sint64=function(e){var t=r.from(e).zzEncode();return this._push(_,t.length(),t)},f.prototype.bool=function(e){return this._push(h,1,e?1:0)},f.prototype.sfixed32=f.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},f.prototype.sfixed64=f.prototype.fixed64=function(e){var t=r.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},f.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var g=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var o=0;o<e.length;++o)t[n+o]=e[o]};f.prototype.bytes=function(e){var t,n=e.length>>>0;return n?(i.isString(e)&&(t=f.alloc(n=s.length(e)),s.decode(e,t,0),e=t),this.uint32(n)._push(g,n,e)):this._push(h,1,0)},f.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(h,1,0)},f.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},f._configure=function(e){o=e,f.create=d(),o._configure()}},{39:39}],43:[function(e,t,n){t.exports=r;var o=e(42);(r.prototype=Object.create(o.prototype)).constructor=r;var i=e(39);function r(){o.call(this)}function s(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}r._configure=function(){r.alloc=i._Buffer_allocUnsafe,r.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var o=0;o<e.length;)t[n++]=e[o++]}},r.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(r.writeBytesBuffer,t,e),this},r.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},r._configure()},{39:39,42:42}]},Le={},Me=[19],Oe=function e(t){var n=Le[t];return n||Ke[t][0].call(n=Le[t]={exports:{}},e,n,n.exports),n.exports}(Me[0]),Oe.util.global.protobuf=Oe,"function"==typeof define&&define.amd&&define(["long"],function(e){return e&&e.isLong&&(Oe.util.Long=e,Oe.configure()),Oe}),"object"==typeof module&&module&&module.exports&&(module.exports=Oe)}();var deviceInfo={},ddp,netconfig,txmode,gallery,guagua,tutu,music,LastOnLine=0,settings,winHeight=$(window).height(),localCtrl=!1,PowerStatus=0,topHeight=50,menuHeight=50;function DeviceHome(){var d,h,p,_,m,g,v,s=!1,a=!1,y={},c="NONE",t="offline",o=[],l=!1,b=20,w={},T=[],O=[],E=[],S=!1;function f(){d.width=d.width,h.drawImage(p,0,0,p.width,p.height,0,0,p.width,p.height),p.width=p.width}function u(e){0==e.header.sn&&f();for(var t=e.obj,n=t.length,o=e.header.offset/3,i=0;i<n;i+=3){var r=t[i]+t[i+1]+t[i+2],s="rgb("+t[i]+","+t[i+1]+","+t[i+2]+")";if(o>=v.length)break;var a=v[o];o++,r<=20?_.clearRect(a.x-b/2,a.y-b/2,b,b):(_.strokeStyle=s,_.fillStyle=s,_.beginPath(),_.arc(a.x,a.y,.2*b,0,2*Math.PI),_.fill(),_.closePath(),_.stroke())}}function x(e){0==e.header.sn&&f();for(var t=e.obj,n=t.length,o=e.header.offset/3,i=0;i<n;i+=3){var r=t[i]+t[i+1]+t[i+2],s="rgb("+t[i]+","+t[i+1]+","+t[i+2]+")";if(o>=O.length)break;var a=o%w.width,c=parseInt(o/w.width);o++;var l,u=T[a+":"+c];isNaN(u)||u<0||u>=E.length||((l=E[u]).empty||l.hide||(r<=20?_.clearRect(l.x*b,l.y*b,b,b):(_.strokeStyle=s,_.fillStyle=s,_.beginPath(),_.arc((l.x+.5)*b,(l.y+.5)*b,.2*b,0,2*Math.PI),_.fill(),_.closePath(),_.stroke())))}}function n(){console.log("will connect to",deviceInfo.ip),ws.regNotify(cmds.M_DEVICE_INFO_NOTIFY,"home",function(e){console.log("301"),console.log(JSON.stringify(e)),s=!0,deviceInfo.online=!0,y=e.obj,deviceInfo.ip=y.localIP,deviceInfo.w=y.width,deviceInfo.h=y.height,1!=deviceInfo.w&&1!=deviceInfo.h||(y.type=1),1==y.type?(S=u,"NONE"==c?ctrl.start():P(N)):(S=x,y.showLayoutId?deviceInfo.slayoutId=y.showLayoutId:deviceInfo.slayoutId=0,deviceInfo.layoutId=y.layoutId,layout.init(deviceInfo.layoutId,deviceInfo.slayoutId,function(){"NONE"==c?ctrl.start():P(N)}));var t=y.name;t&&0!=t.length||(t=deviceInfo.name),t&&0!=t.length&&"--"!=t||(t=deviceInfo.sn),M(t),y.devid&&10==y.devid.length&&(deviceInfo.sn=y.devid),null!=y.points&&null!=y.points||(y.points=198),deviceInfo.m301=y,deviceInfo.name=t,deviceInfo.effectId=y.cloudid,deviceInfo.effamount=y.effnum,isNaN(y.musicModes)&&(y.musicModes=0),deviceInfo.musicModes=y.musicModes;var n=y.security;deviceInfo.security=y.security,y.powerstate&&1==y.powerstate?(console.log("power on"),PowerStatus=1):(console.log("power off"),PowerStatus=0,M(im_power_off)),function(){$(".menu_text").removeClass("menu_text_off"),$(".menu_text").removeClass("menu_text_on"),$(".menu_text").removeClass("menu_text_dis"),1==y.type?$(".menu_text").addClass("menu_text_dis"):$(".menu_text").addClass("menu_text_off");$(".menu_music").removeClass("menu_music_off"),$(".menu_music").removeClass("menu_music_on"),$(".menu_music").removeClass("menu_music_dis"),0<y.musicModes?$(".menu_music").addClass("menu_music_off"):$(".menu_music").addClass("menu_music_dis")}();var o,i,r=y.login;a=!1,n&&0==r?(o=getStorageItem("PSK_"+deviceInfo.sn))&&3<o.length?ws.sendMessage(cmds.M_DEV_AUTH_LOGIN,{s1:o},function(e){1!=e.obj.i1?(removeStorageItem("PSK_"+deviceInfo.sn),I()):(a=!0,$("#device_login_modal").modal("hide"))}):I():a=!0,l&&ws.sendMessage(cmds.M_UI_START_SYNC),deviceInfo.online=!0,console.log("lastop",c),P("NONE"==c?"ctrl":N),a&&(i=new Date,ws.sendMessage(cmds.M_TIME_SYNC,{offset:i.getTimezoneOffset(),time:parseInt(Date.now()/1e3)}))}),ws.regNotify(cmds.M_PLAY_INFO_NOTIFY,"home",function(e){var t=e.obj.type,n="";switch(t){case 3:n=im_type_effect;break;case 5:n=im_type_music;break;case 6:n=im_type_text;break;case 8:n=im_type_scrap;break;case 9:n=im_type_paint;break;default:n=""}deviceInfo.runMode=t,deviceInfo.runModeId=e.obj.id;var o=deviceInfo.name;if(null!=o&&null!=o&&0!=o.length||(o=deviceInfo.sn),""!=n&&(o=o+" - "+n),M(o),3==t){var i=[];if(!i||0==i.length){var r=getStorageItem("EffectList:"+deviceInfo.sn);try{i=JSON.parse(r)}catch(e){i=[]}}i&&0!=i.length||(i=[]);var s,a=e.obj;i[a.id]=a.title,setStorageItem("EffectList:"+deviceInfo.sn,JSON.stringify(i)),"GALLERY"==c&&$(".eff_item_"+a.id).html(a.title),e&&e.obj&&((s=e.obj.title)&&0<s.length||(s=e.obj.filename),s&&0<s.length?ctrl.setEffectName(s):ctrl.setEffectName(""))}}),ws.regNotify(cmds.M_UI_SYNC_PACKET,"home",function(e){proc_sync(e)}),ws.regNotify(cmds.M_KeepAlive,"home",function(e){console.log("收到消息，保持连接")}),ws.regNotify(cmds.M_POWER_STATUS_NOTIFY,"home",function(e){console.log(JSON.stringify(e)),0==(PowerStatus=e.obj.i1)?($(".power_img").attr("src","images/n_power_off.png"),M(im_power_off)):($(".power_img").attr("src","images/n_power_on.png"),M(deviceInfo.name))}),ws.init(deviceInfo.ip,function(){r("online")},function(){r("offline")})}function i(){if(localCtrl=!1,deviceInfo.online=!1,$(".go_back").on("click",function(){console.log("GO BACK");var e=checkNav();e.dnapp&&e.android&&AppJS.closeWebView(),e.dnapp&&e.ios&&window.webkit.messageHandlers.gohome.postMessage("")}),$(".btn-login-psk").on("click",function(){var n=$("#in-login-psk").val();n.length<4||10<n.length?$("#device-login-notice").html(im_pass_bad_len):ws.sendMessage(cmds.M_DEV_AUTH_LOGIN,{s1:n},function(e){var t;1==e.obj.i1?(a=!0,t=new Date,ws.sendMessage(cmds.M_TIME_SYNC,{offset:t.getTimezoneOffset(),time:parseInt(Date.now()/1e3)}),setStorageItem("PSK_"+deviceInfo.sn,n),$("#device_login_modal").modal("hide")):($("#device-login-notice").html(im_pass_error),a=!1)})}),console.log("initPixZone",winHeight),(o=[]).push({name:"top",start:0,end:113}),o.push({name:"color",start:winHeight-150,end:winHeight-90}),o.push({name:"effshow",start:114,end:winHeight-150}),deviceInfo.ip&&0<deviceInfo.ip.length)return"192.168.244.1"==deviceInfo.ip&&(localCtrl=!0),void n();deviceInfo.sn&&6<deviceInfo.sn.length?getDeviceInfo(deviceInfo.sn,function(e){deviceInfo.ip=e.ip,deviceInfo.vkey=e.vkey,deviceInfo.type=e.type,n()}):console.log("NO DEVICE FOUND")}function I(){$("#device_login_modal").modal("show")}function M(e){$("#device_name").html(e)}function r(e){if(e!=t)switch(t=e,$("#device_status").removeClass("icon_wifi_online_c"),$("#device_status").removeClass("icon_wifi_offline_c"),$("#device_status").removeClass("icon_wifi_poor_c"),e){case"offline":$("#device_status").addClass("icon_wifi_offline_c");break;case"poor":$("#device_status").addClass("icon_wifi_poor_c");break;default:$("#device_status").addClass("icon_wifi_online_c")}}function A(){var e=parseInt(((new Date).getTime()-LastOnLine)/1e3);switch($(".net_state_2").removeClass("net_state_good"),$(".net_state_2").removeClass("net_state_normal"),$(".net_state_2").removeClass("net_state_poor"),$(".net_state_2").removeClass("net_state_none"),e){case 0:case 1:case 2:for(var t=1;t<=e;t++)$(".net_"+t).addClass("net_state_none");for(t=e+1;t<=9;t++)$(".net_"+t).addClass("net_state_good");break;case 3:case 4:case 5:for(t=1;t<=e;t++)$(".net_"+t).addClass("net_state_none");for(t=e+1;t<=9;t++)$(".net_"+t).addClass("net_state_normal");break;case 6:case 7:case 8:case 9:for(t=1;t<=e;t++)$(".net_"+t).addClass("net_state_none");for(t=e+1;t<=9;t++)$(".net_"+t).addClass("net_state_poor");break;default:for(t=1;t<=9;t++)$(".net_"+t).addClass("net_state_none")}r(e<5e3?"online":"poor"),setTimeout(A,300)}function k(){ws&&ws.isOnline()&&ws.sendMessage(cmds.M_KeepAlive),setTimeout(k,2e3)}this.initworkers=function(){console.log("init workers"),ws=new WS,layout=new Layout,ddp=new DDP,protobuf.load("js/p2p.proto",function(e,t){ddp.setProto(t),console.log("load protobuf proto FILE ok!")}),ctrl=new DeviceControl,gallery=new Gallery,console.log("init workers over"),settings=new Settings,netconfig=new NetConfig,colorer=new ColorMode,music=new MusicShow,guagua=new GuaGua,tutu=new TuTu,txmode=new TextMode},this.startUiSync=function(e,t,n,o,i,r){var s,a,c,l,u,f;ws.regBinaryMessageCB(!1),_=(h=(d=(u=1==y.type?(g=null!=r?r:layout.lineLayout(y.width*y.height,i,n),g=layout.lineLayout(y.width*y.height,i,n),b=g.step,v=g.data,l=i,n):(s=layout.getLayInfo(),w=s.layData,T=s.layCodes,O=s.layItems,a=layout.getShowInfo(),m=a.showData,a.showCodeList,E=a.showItems,b=i/m.width,(c=n/m.height)<b&&(b=c),25<b&&(b=25),l=parseInt(m.width*b),parseInt(m.height*b)),(f=$("#"+e)).css("width",l+"px"),f.css("height",u+"px"),f.attr("width",l),f.attr("height",u),f.css("left",parseInt((o-l)/2)+"px"),f.css("top",parseInt((t-u)/2)+"px"),document.getElementById(e))).getContext("2d"),(p=document.createElement("canvas")).width=d.width,p.height=d.height,p.getContext("2d")),ws.sendMessage(cmds.M_UI_START_SYNC),ws.regBinaryMessageCB(S)},this.lastOp=function(){return c},this.m301=function(){return y},this.runAction=P,this.wsOpen=function(){},this.wsClose=function(){},this.setLastOp=function(e){c=e},this.setEffectNameCB=function(e){0},this.getZone=function(e){for(var t=0;t<3;t++){var n=o[t];if(e>=n.start&&e<=n.end)return n.name}return!1},this.start=function(){var e,t;winHeight=$(window).height(),"netconfig"!=getHashParam("act")?(C("T_LOADING",{}),$(".div_header").show(),$(".ctrl_menu_p_p").show(),$("#content").css("height",winHeight-100+"px"),A(),k(),(e=getHashParam("sn"))&&0<e.length&&(deviceInfo.sn=e,M(deviceInfo.sn)),(t=getHashParam("ip"))&&0<t.length&&(deviceInfo.ip=t),i()):netconfig.start()},this.run_set_secret=function(){if(s){var t="";if(y.security){t=$("#in-new-psk3").val();if($("#in-new-psk2").val()!=getStorageItem("PSK_"+deviceInfo.sn))return void $(".set-sec-msg").html(im_key_error)}else if((t=$("#in-new-psk1").val()).length<4||10<t.length)return void $(".set-sec-msg").html(im_key_len);removeStorageItem("PSK_"+deviceInfo.sn),ws.sendMessage(cmds.M_SET_AUTH_TOKEN,{s1:t},function(e){1==e.obj.i1?(0==t.length?show_notice(im_key_clear):(setStorageItem("PSK_"+deviceInfo.sn,t),show_notice(im_key_set)),$("#set_psk_modal").modal("hide")):$(".set-sec-msg").html(im_key_setfailed)})}else $(".set-sec-msg").html(im_not_online)},this.run_set_name=function(){var e;y.security&&0==y.login?I():(s&&(e=$("#in-new-name").val(),y.name=e,ws.sendMessage(cmds.M_SET_DEVICE_NAME,{s1:e})),$("#set_name_modal").modal("hide"))},this.reboot=function(){y.security&&0==y.login?I():s?(show_notice(im_reboot),ws.sendMessage(cmds.M_REBOOT),setTimeout(function(){r("offline")},500),show_notice(im_reboot)):show_notice(im_not_online)},this.checkLogin=function(){if(y.security&&0==y.login)return I(),!1;return!0},this.setTitle=M,this.setNetState=r,this.startFromConfig=function(e){console.log("START FROM CONFIG:"+e),deviceInfo.sn=e,i()},this.go_back=function(){switch(console.log("lastop:"+c),c){case"SETTINGS":return void ctrl.start();case"CTRL":return void gallery.start()}var e=checkNav();e.dnapp&&e.android&&AppJS.home(),e.dnapp&&e.ios?window.webkit.messageHandlers.gohome.postMessage(""):window.location.href="http://"+getUrlHost()+getUrlPath()+"index.html"},this.go_setting=function(){$("#main_menu").hide(),deviceInfo.online&&settings.start()};var N="ctrl";function P(e){var t={ctrl:ctrl,color:colorer,brush:tutu,text:txmode,music:music},n=t[N];null!=n&&n&&n.stop(),null!=(n=t[N=e])&&n&&n.start()}this.selectMenu=function(e){if(deviceInfo.online&&!("text"==e&&1==y.type||"music"==e&&0==y.musicModes)){console.log("lastMid:"+N+", lastop="+c+", newMid:"+e);var t=["ctrl","color","brush","text","music"];if(N!=e){for(var n=0;n<t.length;n++){var o=t[n],i=$(".menu_"+o);o==e?(i.removeClass("menu_"+o+"_off"),i.addClass("menu_"+o+"_on")):N==o&&(i.removeClass("menu_"+o+"_on"),i.addClass("menu_"+o+"_off"))}P(e)}}}}function DeviceControl(){var o;function i(){$(".btn_power").removeClass("ctrl_power_off"),$(".btn_power").removeClass("ctrl_power_on"),1==o.powerstate?($(".btn_power").addClass("ctrl_power_on"),home.setTitle(o.devid)):($(".btn_power").addClass("ctrl_power_off"),home.setTitle(o.devid+"["+im_power_off+"]"))}function r(){$(".btn_bright").removeClass("ctrl_bright_low"),$(".btn_bright").removeClass("ctrl_bright_high"),1==o.brightness?$(".btn_bright").addClass("ctrl_bright_low"):$(".btn_bright").addClass("ctrl_bright_high")}function s(){switch($(".btn_auto_mode").removeClass("ctrl_play_loop"),$(".btn_auto_mode").removeClass("ctrl_play_single"),$(".btn_auto_mode").removeClass("ctrl_play_rand"),o.loop){case 0:$(".btn_auto_mode").addClass("ctrl_play_single");break;case 1:$(".btn_auto_mode").addClass("ctrl_play_loop");break;case 2:$(".btn_auto_mode").addClass("ctrl_play_rand")}}this.start=function(){o=home.m301(),home.setLastOp("CTRL"),C("T_DEVICE_CONTROL",{}),$(".div_header").show(),$("#main_menu").show(),$("#content").css("height",winHeight-100+"px");var e,t,n;e=243,t=$(window).width(),n=winHeight-e,$("#sync_container").css("width",t+"px"),$("#sync_container").css("height",n+"px"),$(".go_right").css("left",t-30+"px"),$(".go_left").css("top",n/2-30+"px"),$(".go_right").css("top",n/2-30+"px"),home.startUiSync("sync_cav",winHeight-243,winHeight-243,$(window).width(),$(window).width()-80),i(),r(),s(),RunSwipe=!0,$(".eff_list").on("click",function(){gallery.start()}),$(".btn_auto_mode").on("click",function(){o.loop=o.loop+1,2<o.loop&&(o.loop=0),s(),ws.sendMessage(cmds.M_SET_AUTORUN_MODE,{i1:o.loop})}),$(".btn_bright").on("click",function(){o.brightness=1==o.brightness?0:1,r(),ws.sendMessage(cmds.M_SET_BRIGHTNESS,{i1:o.brightness})}),$(".btn_speed_inc").on("click",function(){ws.sendMessage(cmds.M_PLAY_SPEEDUP)}),$(".btn_speed_dec").on("click",function(){ws.sendMessage(cmds.M_PLAY_SPEEDDOWN)}),$(".btn_power").on("click",function(){o.powerstate=1==o.powerstate?0:1,i(),1==o.powerstate?ws.sendMessage(cmds.M_SET_POWERON):ws.sendMessage(cmds.M_SET_POWEROFF)}),$(".go_left").on("click",function(){ws.sendMessage(cmds.M_PLAY_PREV)}),$(".go_right").on("click",function(){ws.sendMessage(cmds.M_PLAY_NEXT)})},this.stop=function(){ws.sendMessage(cmds.M_UI_END_SYNC),ws.regBinaryMessageCB(!1),RunSwipe=!1},this.runNext=function(){ws.sendMessage(cmds.M_PLAY_NEXT)},this.runPrev=function(){ws.sendMessage(cmds.M_PLAY_PREV)},this.setEffectName=function(e){$("#div_eff_name").html(e)},this.stop=function(){}}function ColorMode(){var o=1,i="#FF453A",a=["#FF453A","#32D74B","#0A84FF","#FFD60A","#FF9F0A","#FF375F","#AF52DE"],c=["#FF453A","#32D74B","#0A84FF","#FF9F0A","#AF52DE"],l=[];function r(n){var f={r:255,g:0,b:0},r={r:255,g:0,b:0},e=getStorageItem("USER-COLORS");l=[],null!=e&&0<e.length&&(l=JSON.parse(e)),showPublicDialog(ib_color_choose,"","T_COLOR_CHOOSE","OK",!1,!0);for(var t=0;t<5;t++)$(".color_choose_pub_"+t).css("background-color",c[t]);for(t=0;t<l.length;t++)$(".color_choose_user_"+t).css("background-color",l[t]);$(".color_choose_pub").on("click",function(){var e=$(this).attr("cid"),t=$(".color_choose_pub_"+e).css("background-color");endPublicDialog(),n&&"function"==typeof n&&n(colorRgb(t))}),$(".color_choose_user").on("click",function(){var e=$(this).attr("cid"),t=$(".color_choose_user_"+e).css("background-color");null==t||t.length<=7||(endPublicDialog(),n&&"function"==typeof n&&n(colorRgb(t)))});var d=document.getElementById("color_choose_0"),s=document.getElementById("color_choose_1"),h=$("#color_choose_pos_0"),p=$("#color_choose_pos_1");$(".color_choose_1").on("touchmove",function(e){var t,n=e.originalEvent.targetTouches[0],o=$(".color_choose_1").innerWidth(),i=n.clientX-getPosition(s).left;i<0||o<i||(p.css("margin-left",i-15+"px"),(t=i/o)<=.5?(r.r=parseInt(f.r*t*2),r.g=parseInt(f.g*t*2),r.b=parseInt(f.b*t*2)):(r.r=parseInt(f.r+(255-f.r)*(t-.5)*2),r.g=parseInt(f.g+(255-f.g)*(t-.5)*2),r.b=parseInt(f.b+(255-f.b)*(t-.5)*2)))}),$(".color_choose_1").on("touchend",function(e){!function(e){for(o in a)if(e==a[o])return;for(o in l)if(e==l[o])return;7<l.length&&l.splice(7);var t=l.length,n=t;if(7==t){for(var o=1;o<t;o++)l[o-1]=l[o];n=6}l[n]=e,setStorageItem("USER-COLORS",JSON.stringify(l))}(RGB2HEX(r.r,r.g,r.b)),endPublicDialog(),n&&"function"==typeof n&&n(r)}),$(".color_choose_0").on("touchmove",function(e){var t=e.originalEvent.targetTouches[0],n=$(".color_choose_0").innerWidth(),o=t.clientX-getPosition(d).left;if(!(o<0||n<o)){h.css("margin-left",o-15+"px");var i=n/6,r=Math.floor(o/n*6),s=parseInt((o-r*i)/i*255),a=255,c=255,l=255;switch(r){case 0:c=0,l=s;break;case 1:a=255-s,c=0;break;case 2:a=0,c=s;break;case 3:a=0,l=255-s;break;case 4:a=s,l=0;break;case 5:c=255-s,l=0}f.r=a,f.g=c,f.b=l;var u=RGB2HEX(a,c,l);$(".color_choose_1").css("background","linear-gradient(90deg, #000000,"+u+", #FFFFFF)");n=$(".color_choose_1").innerWidth();p.css("margin-left",n/2-15+"px")}})}this.start=function(){home.setLastOp("COLOR"),C("T_COLOR",{}),$("#content").css("height",winHeight-100+"px");var e=$(window).width(),t=winHeight-273;for(idx in $("#sync_container").css("width",e+"px"),$("#sync_container").css("height",t+"px"),home.startUiSync("sync_cav",t,t-80,e,e-60),home.setEffectNameCB(function(e){$("#div_op_mess").html(e)}),a)$(".color_pub_"+idx).css("background-color",a[idx]);var n=getStorageItem("USER-COLORS");if(null!=n&&0<n.length)for(idx in l=JSON.parse(n))$(".color_user_"+idx).css("background-color",l[idx]);$(".color_pub").on("click",function(){var e=$(this).attr("cid"),t=colorRgb(i=$(".color_pub_"+e).css("background-color"));ws.sendMessage(cmds.M_SET_COLOR_MODE,{mode:o,red:t.r,green:t.g,blue:t.b,white:0}),$(".color_pub_sel").addClass("color_pub_unsel"),$(".color_pub_sel").removeClass("color_pub_sel"),$(".color_user_sel").addClass("color_user_unsel"),$(".color_user_sel").removeClass("color_user_sel"),$(".color_pub_"+e).addClass("color_pub_sel"),$(".color_pub_"+e).removeClass("color_pub_unsel")}),$(".color_user").on("click",function(){var e,t=$(this).attr("cid"),n=$(".color_user_"+t).css("background-color");null==n||n.length<7||(e=colorRgb(n),i=RGB2HEX(e.r,e.g,e.b),ws.sendMessage(cmds.M_SET_COLOR_MODE,{mode:o,red:e.r,green:e.g,blue:e.b,white:0}),$(".color_user_sel").addClass("color_user_unsel"),$(".color_user_sel").removeClass("color_user_sel"),$(".color_pub_sel").addClass("color_pub_unsel"),$(".color_pub_sel").removeClass("color_pub_sel"),$(".color_user_"+t).addClass("color_user_sel"),$(".color_user_"+t).removeClass("color_user_unsel"))}),$(".color_auto").on("click",function(){$(".color_pub_sel").addClass("color_pub_unsel"),$(".color_pub_sel").removeClass("color_pub_sel"),$(".color_user_sel").addClass("color_user_unsel"),$(".color_user_sel").removeClass("color_user_sel"),ws.sendMessage(cmds.M_SET_COLOR_MODE,{mode:2,red:0,green:0,blue:0,white:0})}),$(".color_choose").on("click",function(){r(function(e){$(".color_pub_sel").addClass("color_pub_unsel"),$(".color_pub_sel").removeClass("color_pub_sel"),$(".color_user_sel").addClass("color_user_unsel"),$(".color_user_sel").removeClass("color_user_sel"),i=RGB2HEX(e.r,e.g,e.b),ws.sendMessage(cmds.M_SET_COLOR_MODE,{mode:o,red:e.r,green:e.g,blue:e.b,white:0});var t=getStorageItem("USER-COLORS");if(null!=t&&0<t.length)for(idx in l=JSON.parse(t))$(".color_user_"+idx).css("background-color",l[idx])})}),$(".color_breath").on("click",function(){1==(o=1==o?0:1)?($(this).removeClass("color_breath_off"),$(this).addClass("color_breath_on")):($(this).removeClass("color_breath_on"),$(this).addClass("color_breath_off"));var e=colorRgb(i);ws.sendMessage(cmds.M_SET_COLOR_MODE,{mode:o,red:e.r,green:e.g,blue:e.b,white:0})})},this.stop=function(){},this.chooseColor=r}function NetConfig(){var r="",s="",a=0,c="",t=!1,n=!1,o=!1,i="",l="";function u(){v(),d(),a=0,r=s=c="",t=!1}function e(){var e;$("#main_menu").hide(),console.log("go T_NET_CONFIG"),C("T_NET_CONFIG_STEP1",{}),$(".div_net_config_s1").css("height",window.winHeight-50+"px"),RunSwipe=!1,t||(t=!0,setTimeout(h,1e3),(e=checkNav()).dnapp&&e.android&&AppJS.getLastApInfo(),e.dnapp&&e.ios&&window.webkit.messageHandlers.getLastApInfo.postMessage(""))}function f(){1==a&&getDeviceInfo(c,function(e){e.id==c&&e.dt<6e4?(C("T_NET_CONFIG_STEP1",{}),$(".div_net_config_s1").css("height",winHeight-50+"px"),$(".step_m1").html(im_net_success),$(".step_m3").html(im_net_success2),$(".step_img").attr("src","images/success.png"),$(".step_m2").html(""),$(".success_btns").show(),$(".btn_gohome").on("click",function(){go_home()}),setTimeout(function(){u(),go_home()},3e3)):setTimeout(f,2e3)},function(e){console.log("check fail",e),setTimeout(f,500)})}function d(){n=!1}function h(){n||(n=!0,r="",setTimeout(p,500))}function p(){n&&$.ajax({url:"http://192.168.244.1:8080/e",type:"get",cache:!1,async:!0,timeout:1500,dataType:"text",contentType:"text/plain",success:function(e){console.log("RESP",e),r=e,n&&(d(),C("T_NET_CONFIG_STEP2",{}),$(".div_net_config_s2").css("height",winHeight-50+"px"),$(".found_device_id").html(r),$(".btn_rescan").removeClass("btn_normal2"),$(".btn_rescan").addClass("btn_disable2"),$(".btn_rescan").on("click",function(){""!=r&&($.ajax({url:"http://192.168.244.1:8080/rescan",type:"get",cache:!1,async:!0,timeout:5e3}),setTimeout(w,5e3))}),w())},error:function(e){n&&(console.log(new Date,e),lastSend=(new Date).getTime(),setTimeout(p,500))}})}function _(){C("T_NET_CONFIG_STEP1",{}),$(".div_net_config_s1").css("height",winHeight-50+"px"),$(".step_m1").html(im_net_failed),$(".step_m3").html(im_net_failed2),$(".step_img").attr("src","images/failed.png"),$(".step_m2").html(""),$(".failed_btns").show(),$(".btn_gohome").on("click",function(){go_home()}),$(".btn_airkiss").on("click",function(){u(),setTimeout(e,1e3)})}function m(e){$(".btn_rescan").removeClass("btn_disable2"),$(".btn_rescan").addClass("btn_normal2"),$("#div_device_ap_list").html("");var t=[];for(var n in t.push({name:"",title:ib_net_add_man,css:"selected_ap"}),e){var o=e[n];t.push({name:o.s,title:o.s+"["+o.v+"]",css:"unselected_ap"})}T("div_device_ap_list","T_NET_AP_LIST",{list:t}),$(".ap_list_item").on("click",function(){$(".ap_list_item").removeClass("selected_ap"),$(".ap_list_item").addClass("unselected_ap"),$(this).removeClass("unselected_ap"),$(this).addClass("selected_ap"),showPublicDialog(title_net_save,!1,"T_NET_SET_DIA",ib_net_save,function(){var e,t,n,o,i=$.trim($("#in_ap_name").val());0!=i.length&&(0<(e=$("#in_ap_pass").val()).length&&e.length<8||(a=1,c=r,setTimeout(function(){1==a&&(a=3,_(),setTimeout(h,5e3))},12e4),t=encodeURI(e),n=encodeURI(i),o="http://192.168.244.1:8080/wifiset?pin="+t+"&ssid="+(s=n),$.ajax({url:o,type:"get",cache:!1,async:!0,timeout:3e3,success:function(){C("T_NET_CONFIG_STEP1",{}),$(".div_net_config_s1").css("height",winHeight-50+"px"),$(".step_m1").html(im_net_config_processing),$(".step_m3").html(im_net_wifi_back+s),$(".step_m2").html("")},error:function(e){_()}}),setTimeout(f,5e3)))}),$("#in_ap_name").on("input",function(){g()}),$("#in_ap_pass").on("input",function(){g()}),$(".netconfig_eyes").on("click",function(){"password"==$("#in_ap_pass").attr("type")?($("#in_ap_pass").attr("type","text"),$(this).attr("src","images/n_open_eyes.png")):($("#in_ap_pass").attr("type","password"),$(this).attr("src","images/n_close_eyes.png"))}),$(".pub-dialog-btn").removeClass("btn_normal1"),$(".pub-dialog-btn").addClass("btn_disable1");var e=$(this).attr("ap_name");e&&0<e.length&&($("#in_ap_name").val(e),$(".pub-dialog-btn").addClass("btn_normal1"),$(".pub-dialog-btn").removeClass("btn_disable1"),e==i&&$("#in_ap_pass").val(l)),v(),$(".btn_rescan").show()})}function g(){var e=$("#in_ap_name").val(),t=$("#in_ap_pass").val();return 0!=e.length&&(0==t.length||7<t.length)?($(".pub-dialog-btn").removeClass("btn_disable1"),void $(".pub-dialog-btn").addClass("btn_normal1")):($(".pub-dialog-btn").removeClass("btn_normal1"),void $(".pub-dialog-btn").addClass("btn_disable1"))}function v(){hideLoading(2,o=!1)}this.setLastAp=function(e,t,n){i=t,l=n},this.start=e;var y=0;function b(){o&&(y<=0||(y--,$.ajax({url:"http://192.168.244.1:8080/scanlist",type:"get",cache:!1,async:!0,timeout:3e3,contentType:"application/json",dataType:"json",success:function(e){o&&(m(e),setTimeout(b,5e3))},error:function(e){o&&setTimeout(b,2e3)}})))}function w(){o||(y=2,o=!0,b())}}function TuTu(){var u,g,h,p,v,y,f,d,n,o,i,r="tutu",b={hex:"#FF0000",r:255,g:0,b:0},_=!1,s=0,a=!1,w={},T=[],m={},O=[],E=[],S=1;function c(e,t){var n=e,o=t;f=layout.lineLayout(u.width*u.height,n,o),v=f.step,d=f.data;var i=document.getElementById("dooding_cav_bg").getContext("2d"),r=$("#dooding_cav_bg");r.css("width",n+"px"),r.css("height",o+"px"),r.css("left",parseInt((e-n)/2)+"px"),r.css("top",parseInt((t-o)/2)+"px"),r.attr("width",n),r.attr("height",o);for(var s=0;s<d.length;s++){var a=d[s];i.beginPath(),i.strokeStyle="#444444",i.lineWidth=1,i.arc(a.x,a.y,.4*v,0,2*Math.PI),i.stroke(),i.closePath()}h=document.getElementById("dooding_cav"),g=h.getContext("2d");var c=$("#dooding_cav");c.css("width",n+"px"),c.css("height",o+"px"),c.css("left",parseInt((e-n)/2)+"px"),c.css("top",parseInt((t-o)/2)+"px"),c.attr("width",n),c.attr("height",o),_=!0;var l=new ArrayBuffer(u.width*u.height*3);y=new Uint8Array(l)}function l(e,t){var n=layout.getLayInfo();w=n.layData,n.layCodes,T=n.layItems;var o=layout.getShowInfo();m=o.showData,O=o.showCodeList,p=o.showItems,v=(e-50)/m.width;var i=(t-50)/m.height;i<v&&(v=i),25<v&&(v=25);var r=parseInt(m.width*v),s=parseInt(m.height*v),a=document.getElementById("dooding_cav_bg").getContext("2d"),c=$("#dooding_cav_bg");c.css("width",r+"px"),c.css("height",s+"px"),c.css("left",parseInt((e-r)/2)+"px"),c.css("top",parseInt((t-s)/2)+"px"),c.attr("width",r),c.attr("height",s);for(var l=0;l<p.length;l++){var u=p[l];u.hide||u.empty||(a.beginPath(),a.strokeStyle="#444444",a.lineWidth=1,a.arc((u.x+.5)*v,(u.y+.5)*v,.4*v,0,2*Math.PI),a.stroke(),a.closePath())}h=document.getElementById("dooding_cav"),g=h.getContext("2d");var f=$("#dooding_cav");f.css("width",r+"px"),f.css("height",s+"px"),f.css("left",parseInt((e-r)/2)+"px"),f.css("top",parseInt((t-s)/2)+"px"),f.attr("width",r),f.attr("height",s),_=!0;var d=new ArrayBuffer(w.width*w.height*3);y=new Uint8Array(d)}function x(){_=!1}function I(e){r=e}function M(e,t){("tutu"==r?o:i)(e,t)}this.start=function(){RunSwipe=!1,home.setLastOp("TUTU"),C("T_TUTU",{}),ws.sendMessage(cmds.M_UI_END_SYNC),u=home.m301();var e=$(window).width(),t=winHeight-310;$("#dooding_container").css("width",e+"px"),$("#dooding_container").css("height",t+"px"),i=1==u.type?(n=c,o=k,N):(n=l,o=A,P),n(e,t),function(){$(".label_gua_off").on("click",function(){x(),guagua.start()});var n=document.getElementById("dooding_cav");n.ontouchstart=function(e){e.stopPropagation(),e.preventDefault();var t=e.targetTouches[0];M(t.clientX-getPosition(n).left,t.clientY-getPosition(n).top)},n.ontouchmove=function(e){console.log("ontouchMove..."),e.stopPropagation(),e.preventDefault();var t=e.targetTouches[0];M(t.clientX-getPosition(n).left,t.clientY-getPosition(n).top)};var t=!1;window.onmousedown=function(e){t=!0},n.onmousedown=function(e){t=!0,M(e.clientX-getPosition(n).left,e.clientY-getPosition(n).top)},n.onmousemove=function(e){t&&M(e.clientX-getPosition(n).left,e.clientY-getPosition(n).top)},window.onmouseup=function(){t=!1},$(".shua_color").on("click",function(){var e=$(this).attr("cid"),t=$(".shua_color_"+e).css("background-color");$(".color_pub_sel").addClass("color_pub_unsel"),$(".color_pub_sel").removeClass("color_pub_sel"),$(".shua_color_"+e).removeClass("color_pub_unsel"),$(".shua_color_"+e).addClass("color_pub_sel");var n=colorRgb(t);0!=n.r||0!=n.g||0!=n.b?(I("tutu"),b.hex=RGB2HEX(n.r,n.g,n.b),b.r=n.r,b.g=n.g,b.b=n.b):I("clear")}),$(".shua_clear").on("click",function(){for(var e in h.width=h.width,y)y[e]=0;E=[],I("tutu"),F()}),$(".color_choose").on("click",function(){$(".color_pub_sel").addClass("color_pub_unsel"),$(".color_pub_sel").removeClass("color_pub_sel"),colorer.chooseColor(function(e){0!=e.r||0!=e.g||0!=e.b?(I("tutu"),b.hex=RGB2HEX(e.r,e.g,e.b),b.r=e.r,b.g=e.g,b.b=e.b):I("clear")})}),$(".touch_item").on("click",function(){switch(S){case 0:$(".touch_small").addClass("touch_small_off"),$(".touch_small").removeClass("touch_small_on");break;case 1:$(".touch_mid").addClass("touch_mid_off"),$(".touch_mid").removeClass("touch_mid_on");break;case 2:$(".touch_big").addClass("touch_big_off"),$(".touch_big").removeClass("touch_big_on")}switch(S=parseInt($(this).attr("v")),$(".touch_item").removeClass("touch"),S){case 0:$(".touch_small").addClass("touch_small_on"),$(".touch_small").removeClass("touch_small_off");break;case 1:$(".touch_mid").addClass("touch_mid_on"),$(".touch_mid").removeClass("touch_mid_off");break;case 2:$(".touch_big").addClass("touch_big_on"),$(".touch_big").removeClass("touch_big_off")}})}(),_=!1,setTimeout(function(){_=!0,R()},1e3)},this.stop=x;function A(e,t){var n=Date.now(),o=D(e,t),i=Date.now();for(var r in o){for(var s=o[r],a=E.length-1;0<=a;a--){var c=E[a];c.x==s.x&&c.y==s.y&&E.splice(a,1)}E.push({x:s.x,y:s.y,color:b.hex});var l=(s.x+.5)*v,u=(s.y+.5)*v;g.beginPath(),g.arc(l,u,.2*v,0,2*Math.PI),g.closePath(),g.fillStyle=b.hex,g.fill();var f=O[s.x+":"+s.y];if(f)for(var d=0;d<f.length;d++){var h=f[d],p=T[h],_=3*(w.width*p.y+p.x);y[_]=b.r,y[1+_]=b.g,y[2+_]=b.b}}var m=Date.now();console.log("T1-T2",i-n," T2-T3",m-i),F()}function k(e,t){var n=L(e,t);for(var o in n){var i=n[o],r=d[i];g.beginPath(),g.arc(r.x,r.y,.2*v,0,2*Math.PI),g.closePath(),g.fillStyle=b.hex,g.fill();var s=3*i;y[s]=b.r,y[1+s]=b.g,y[2+s]=b.b}F()}function N(e,t){var n=L(e,t);for(var o in n){var i=n[o],r=d[i];g.clearRect(r.x-v/2,r.y-v/2,v,v);var s=3*i;y[s]=0,y[1+s]=0,y[2+s]=0}F()}function P(e,t){var n=D(e,t);for(var o in n){for(var i=n[o],r=E.length-1;0<=r;r--){var s=E[r];s.x==i.x&&s.y==i.y&&E.splice(r,1)}E.push({x:i.x,y:i.y,color:b.hex});var a=(i.x+.5)*v,c=(i.y+.5)*v;g.beginPath(),g.arc(a,c,.25*v,0,2*Math.PI),g.closePath(),g.fillStyle="#000000",g.fill();var l=O[i.x+":"+i.y];if(l)for(var u=0;u<l.length;u++){var f=l[u],d=T[f],h=3*(w.width*d.y+d.x);y[h]=0,y[1+h]=0,y[2+h]=0}}F()}function L(e,t){var n=[],o=(S+1)*v/2,i=e-o;i<0&&(i=0);var r=e+o,s=t-o;s<0&&(s=0);for(var a=t+o,c=0;c<d.length;c++){var l=d[c];l.x>=i&&l.x<=r&&l.y>=s&&l.y<=a&&n.push(c)}return n}function D(e,t){var n=[],o=S*v/2,i=e-o;i<0&&(i=0);var r=e+o,s=t-o;s<0&&(s=0);for(var a=t+o,c=[],l=i;l<=r;l++)for(var u=s;u<=a;u++){var f,d,h=parseInt(l/v),p=parseInt(u/v);h>=m.width||p>=m.height||h<0||p<0||(c[f=h+":"+p]||(c[f]="1",(d=O[f])&&null!=d&&n.push({x:h,y:p})))}return n}function R(){if(_&&"TUTU"==home.lastOp()){if(a){var e=ddp.mkOrginDdp(0,y);for(var t in e)ws.sendBytes(e[t]);return a=!1,s=(new Date).getTime(),void setTimeout(R,200)}var n=(new Date).getTime();if(1e3<n-s){e=ddp.mkOrginDdp(0,y);for(var t in e)ws.sendBytes(e[t]);s=n}setTimeout(R,200)}}function F(){a=!0}}function GuaGua(){var c,r,_,l,e,s,i,u,n,a,f,d,h,p=!1,m=1,g=1,v={},y=[],b=[],t=!1,w=1,o=0;function T(){_=i.step,u=i.data,l=new Uint8Array(parseInt(r.width*r.height/8)+1),25<(_=i.step)&&(_=25);var e=document.getElementById("gua_cav_bg");c=e.getContext("2d");var t=$("#gua_cav_bg");t.css("width",d+"px"),t.css("height",h+"px"),t.css("left",parseInt((a-d)/2)+"px"),t.css("top",parseInt((f-h)/2)+"px"),t.attr("width",d),t.attr("height",h);for(var n=0;n<u.length;n++){var o=u[n];c.beginPath(),c.strokeStyle="#444444",c.lineWidth=1,c.arc(o.x,o.y,.4*_,0,2*Math.PI),c.stroke(),c.closePath(),c.beginPath(),c.arc(o.x,o.y,.3*_,0,2*Math.PI),c.fillStyle="#000000C0",c.fill(),c.closePath()}p=!0}function O(){var e=layout.getLayInfo();e.layData,e.layCodes,e.layItems;var t=layout.getShowInfo();v=t.showData,y=t.showCodeList,b=t.showItems,m=v.width,g=v.height,l=new Uint8Array(parseInt(m*g/8)+1),_=d/v.width;var n=f/v.height;n<_&&(_=n),25<_&&(_=25),d=parseInt(v.width*_),h=parseInt(v.height*_);var o=document.getElementById("gua_cav_bg");c=o.getContext("2d");var i=$("#gua_cav_bg");i.css("width",d+"px"),i.css("height",h+"px"),i.css("left",parseInt((a-d)/2)+"px"),i.css("top",parseInt((f-h)/2)+"px"),i.attr("width",d),i.attr("height",h);for(var r=0;r<b.length;r++){var s=b[r];s.hide||s.empty||(c.beginPath(),c.strokeStyle="#444444",c.lineWidth=1,c.arc((s.x+.5)*_,(s.y+.5)*_,.4*_,0,2*Math.PI),c.stroke(),c.closePath(),c.beginPath(),c.arc((s.x+.5)*_,(s.y+.5)*_,.3*_,0,2*Math.PI),c.fillStyle="#000000E0",c.fill(),c.closePath())}p=!0}function E(e,t){var n=function(e,t){var n=[],o=w*_/2,i=e-o;i<0&&(i=0);var r=e+o,s=t-o;s<0&&(s=0);for(var a=t+o,c=[],l=i;l<=r;l++)for(var u=s;u<=a;u++){var f,d,h=parseInt(l/_),p=parseInt(u/_);h>=v.width||p>=v.height||h<0||p<0||(c[f=h+":"+p]||(c[f]="1",(d=y[f])&&null!=d&&n.push({x:h,y:p})))}return n}(e,t);for(var o in n){var i=n[o];i.x,i.y;c.clearRect(i.x*_,i.y*_,_,_);var r=i.x+i.y*m,s=parseInt(r/8),a=parseInt(r%8);l[s]|=1<<a}I()}function S(e,t){var n=function(e,t){var n=[],o=(w+1)*_/2,i=e-o;i<0&&(i=0);var r=e+o,s=t-o;s<0&&(s=0);for(var a=t+o,c=0;c<u.length;c++){var l=u[c];l.x>=i&&l.x<=r&&l.y>=s&&l.y<=a&&n.push(c)}return n}(e,t);for(var o in n){var i=n[o],r=u[i];c.clearRect(r.x-_/2,r.y-_/2,_,_);var s=parseInt(i/8),a=parseInt(i%8);l[s]|=1<<a}I()}function x(){if("GUAGUA"!=home.lastOp())return p=!1,void ws.sendMessage(cmds.M_DYNAMIC_DOODLE_END);if(p){if(t)return ws.sendMessage(cmds.M_DYNAMIC_DOODLE_SEND,{unmask:l}),t=!1,o=(new Date).getTime(),void setTimeout(x,200);var e=(new Date).getTime();3e3<e-o&&(ws.sendMessage(cmds.M_DYNAMIC_DOODLE_SEND,{unmask:l}),o=e),setTimeout(x,200)}}function I(){t=!0}this.start=function(){C("T_GUAGUA",{}),RunSwipe=!1,r=home.m301(),home.setLastOp("GUAGUA"),n=r.width*r.height,s=1==r.type?(e=T,S):(e=O,E),$(".div_header").show(),$("#main_menu").show(),$("#content").css("height",winHeight-100+"px");a=$(window).width(),d=a-80,h=f=winHeight-270,$("#sync_container").css("width",d+"px"),$("#sync_container").css("height",h+"px"),$(".go_right").css("left",a-30+"px"),$(".go_left").css("top",h/2-30+"px"),$(".go_right").css("top",h/2-30+"px"),i=1==r.type?layout.lineLayout(r.width*r.height,d,h):void 0,e(),home.startUiSync("sync_cav",f,h,a,d,i),function(){$(".label_shua_off").on("click",function(){stop,tutu.start()});var i=document.getElementById("gua_cav_bg");i.ontouchstart=function(e){e.stopPropagation(),e.preventDefault();var t=e.targetTouches[0],n=t.clientX-getPosition(i).left,o=t.clientY-getPosition(i).top;s(n,o)},i.ontouchmove=function(e){e.stopPropagation(),e.preventDefault();var t=e.targetTouches[0],n=t.clientX-getPosition(i).left,o=t.clientY-getPosition(i).top;s(n,o)};var o=!1;window.onmousedown=function(e){o=!0},i.onmousedown=function(e){o=!0;var t=e.clientX-getPosition(i).left,n=e.clientY-getPosition(i).top;s(t,n)},i.onmousemove=function(e){var t,n;o&&(t=e.clientX-getPosition(i).left,n=e.clientY-getPosition(i).top,s(t,n))},window.onmouseup=function(){o=!1},$(".gua_reset").on("click",function(){if(1==r.type)return function(){c.clearRect(0,0,d,h),l=new Uint8Array(parseInt(n/8)+1),I();for(var e=0;e<u.length;e++){var t=u[e];c.beginPath(),c.strokeStyle="#444444",c.lineWidth=1,c.arc(t.x,t.y,.4*_,0,2*Math.PI),c.stroke(),c.closePath(),c.beginPath(),c.arc(t.x,t.y,.3*_,0,2*Math.PI),c.fillStyle="#00000090",c.fill(),c.closePath()}}();c.clearRect(0,0,d,h),l=new Uint8Array(parseInt(m*g/8)+1),I();for(var e=0;e<b.length;e++){var t=b[e];t.hide||t.empty||(c.beginPath(),c.strokeStyle="#444444",c.lineWidth=1,c.arc((t.x+.5)*_,(t.y+.5)*_,.4*_,0,2*Math.PI),c.stroke(),c.closePath(),c.beginPath(),c.arc((t.x+.5)*_,(t.y+.5)*_,.3*_,0,2*Math.PI),c.fillStyle="#00000090",c.fill(),c.closePath())}}),$(".touch_item").on("click",function(){switch(w){case 0:$(".touch_small").addClass("touch_small_off"),$(".touch_small").removeClass("touch_small_on");break;case 1:$(".touch_mid").addClass("touch_mid_off"),$(".touch_mid").removeClass("touch_mid_on");break;case 2:$(".touch_big").addClass("touch_big_off"),$(".touch_big").removeClass("touch_big_on")}switch(w=parseInt($(this).attr("v"))){case 0:$(".touch_small").addClass("touch_small_on"),$(".touch_small").removeClass("touch_small_off");break;case 1:$(".touch_mid").addClass("touch_mid_on"),$(".touch_mid").removeClass("touch_mid_off");break;case 2:$(".touch_big").addClass("touch_big_on"),$(".touch_big").removeClass("touch_big_off")}}),$(".go_right").on("click",function(){ws.sendMessage(cmds.M_PLAY_PREV)}),$(".go_left").on("click",function(){ws.sendMessage(cmds.M_PLAY_NEXT)})}(),ws.sendMessage(cmds.M_DYNAMIC_DOODLE_START),x()},this.stop=function(){ws.sendMessage(cmds.M_DYNAMIC_DOODLE_END)}}function Layout(){var d={},h=[],p=[],_={},m=[],g=[],l=0,v=0,y=!1,b=!1;function w(e,t){return 256*e[t]+e[t+1]}this.inited=function(){return y&&b},this.getLayInfo=function(){return{layData:d,layCodes:h,layItems:p}},this.getShowInfo=function(){return{showData:_,showCodeList:m,showItems:g}},this.initBySize=function(e,t,n){console.log("init layout by size"),l=v=0,d.lines=1,d.width=e,d.height=t,h=[],p=[];for(var o=0,i=0;i<t;i++)for(var r=0;r<e;r++)h[r+":"+i]=o,p.push({x:r,y:i}),o++;d.points=o,_.codeNum=d.points,_.points=d.points,_.width=d.width,_.height=d.height;for(i=o=0;i<t;i++)for(r=0;r<e;r++){var s={};s.x=r,s.y=i,s.code=o,s.hide=!1,s.empty=!1,g.push(s),m[s.x+":"+s.y]=[o],o++}n(!0)},this.lineLayout=function(e,t,n){for(var o={lines:1,lastLinePoints:1,totalPoints:1},i={lines:0,lastLinePoints:0,totalPoints:0},r=2;r<40;r++){if(i.lines=r,i.lastLinePoints=r,i.totalPoints=o.totalPoints+r,console.log("IDX=",r,"points=",e,"total=",o.totalPoints,"total1=",i.totalPoints),e>o.totalPoints&&e<=i.totalPoints){o.lines=i.lines,o.lastLinePoints=i.lastLinePoints,o.totalPoints=i.totalPoints;break}o.lines=i.lines,o.lastLinePoints=i.lastLinePoints,o.totalPoints=i.totalPoints}o.totalPoints>e&&(o.lastLinePoints=o.lines-(o.totalPoints-e));var s=2*parseInt(n*Math.tan(18*Math.PI/180)),a=n;t<s&&(a=t/2/Math.tan(18*Math.PI/180));var c=(a-10)/o.lines,l=[],u=s/o.lines;40<u&&(u=40);for(var f=t/2,d=0,h=0;h<o.lines;h++){var p=h+1;h==o.lines-1&&(p=o.lastLinePoints);for(var _=c*h+5,m=_*Math.tan(18*Math.PI/180)*2,g=parseInt(f-m/2),v=0;v<p;v++){var y=e-d-1,b={id:d,cid:y,x:parseInt(g+u*v),y:parseInt(_)},w=parseInt(Math.random()*u/2-u/3);b.y+=u/2+w,l[y]=b,d++}}return{adjust:!0,lines:o.lines,step:u,data:l,lineHeight:c,connect_x:!1,connect_y:!1}},this.init=function(e,t,n){v=e,l=parseInt(t);var u,f,o,i,s,r,a,c=!0;(isNaN(l)||l<100)&&(c=!1),u=!c,f=n,o="http://daniaokeji.com/led/layout/"+v,(i=new XMLHttpRequest).open("GET",o,!0),i.responseType="arraybuffer",i.onload=function(e){var t=new Uint8Array(this.response);d.lines=w(t,14),d.width=w(t,16),d.height=w(t,18);for(var n=[],o=20,i=0;i<d.lines;i++)n[i]=w(t,o),o+=2;var o=256,r=0;h=[],p=[];for(var s=0;s<d.lines;s++){for(i=0;i<n[s];i++){var a=w(t,o),c=w(t,o+2);h[a+":"+c]=r,p.push({x:a,y:c}),r++,o+=4}o+=4}if(d.points=r,console.log("load LayData OK, Lines="+d.lines+", W="+d.width+", H="+d.height+",Points="+d.points),y=!0,u){console.log("no showLayId, instead by Lay"),_.codeNum=d.points,_.points=d.points,_.width=d.width,_.height=d.height,m=[],g=[],o=256;for(s=r=0;s<d.lines;s++){for(i=0;i<n[s];i++){var l={};l.x=w(t,o),l.y=w(t,o+2),l.code=r,l.hide=!1,l.empty=!1,g.push(l),m[l.x+":"+l.y]=[r],r++,o+=4}o+=4}b=!0}b&&f(!0)},i.send(),c&&(s=n,r=new XMLHttpRequest,a="http://daniaokeji.com/led/slayout/"+l,r.open("GET",a,!0),r.responseType="arraybuffer",r.onload=function(e){var t=new Uint8Array(this.response);_.codeNum=w(t,16),_.points=w(t,18),_.width=w(t,20),_.height=w(t,22),m=[],g=[];for(var n=0,o=256;o<t.length;o+=5){var i,r=function(e,t){var n={};n.x=e[t],n.y=e[t+1],n.z=e[t+2],n.code=e[t+3];var o=e[t+4];return n.hide=!1,n.empty=!1,2==o&&(n.empty=!0),1==o&&(n.hide=!0),n}(t,o);r.code=n,g.push(r),r.empty||r.hide?n++:((i=m[r.x+":"+r.y])?i.push(n):i=[n],m[r.x+":"+r.y]=i,n++)}b=!0,y&&s(!0)},r.send())}}